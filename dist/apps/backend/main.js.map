{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./apps/backend/src/app/app.controller.ts","webpack:///./apps/backend/src/app/app.module.ts","webpack:///./apps/backend/src/app/app.service.ts","webpack:///./apps/backend/src/app/middleware/filter.request.middleware.ts","webpack:///./apps/backend/src/main.ts","webpack:///external \"@nestjs/common\"","webpack:///external \"@nestjs/config\"","webpack:///external \"@nestjs/core\"","webpack:///external \"@nestjs/swagger\"","webpack:///external \"nest-winston\"","webpack:///external \"request-ip\"","webpack:///external \"tslib\"","webpack:///external \"winston\""],"names":[],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import {\n  Controller,\n  Body,\n  HttpException,\n  HttpStatus,\n  Post,\n  Get,\n  Put,\n  Query,\n  UseGuards,\n  Request,\n  Res,\n  Header,\n} from '@nestjs/common';\n\n@Controller()\nexport class AppController {\n  constructor() {}\n\n  @Get('data')\n  async getData() {\n    return \"hello\"\n  }\n}\n","import { MiddlewareConsumer, Module, NestModule } from '@nestjs/common';\nimport { ConfigModule } from '@nestjs/config';\nimport { SequelizeModule } from '@nestjs/sequelize';\nimport {\n  utilities as nestWinstonModuleUtilities,\n  WinstonModule,\n} from 'nest-winston';\nimport { ScheduleModule } from '@nestjs/schedule';\nimport { Sequelize } from 'sequelize-typescript';\nimport * as winston from 'winston';\nimport { AppController } from './app.controller';\nimport { AppService } from './app.service';\n// import { BannersModel } from './cms/banners/banners.model';\n// import { CmsModule } from './cms/cms.module';\n// import { RunnerModule } from './runner/runner.module';\n\n// import { AuthModule } from './auth/auth.module';\n// import { PaymentModule } from './payment/payment.module';\n// import { StreamModule } from './stream/stream.module';\n\n///////////////////////////////////////////////////////////////////////////////////\n// IMPORT MODEL\n////////////////////////////////////////////////////////////////////////////////////\n// import { UserModel } from './user/user.model';\n// import { BankModel } from './models/bank.entity';\n// import { ChannelLocaleModel } from './models/channel.locale.model';\n// import { PaymentProviderChannelModel } from './models/payment.provider.channel.model';\n// import { ChannelModel } from './models/channel.model';\n// import { DepositOrderModel } from './models/deposit.order.model';\n// import { DepositPendingOrderModel } from './models/deposit.pending.order.model';\n// import { LocaleModel } from './models/locale.model';\n// import { PaymentProviderBankModel } from './models/payment.provider.bank.entity';\n// import { PaymentProviderEntityModel } from './models/payment.provider.entity.model';\n// import { PaymentSystemLocaleModel } from './models/payment.system.locale.model';\n// import { PaymentSystemModel } from './models/payment.system.model';\n// import { WithdrawOrderModel } from './models/withdraw.order.model';\n// import { WithdrawPendingOrderModel } from './models/withdraw.pending.order.model';\n// import { BCToKSportModel } from './stream/ksport/entities/bc.ksport.entity';\n// import { BCToKSportTeamModel } from './stream/ksport/entities/bc.ksport.team.entity';\n// import { BullModule } from '@nestjs/bull';\n// import { BcOrdersModel } from './models/bcOrders';\n// import { TestModel } from './models/test.entity';\n// import { OptionsModel } from './models/options.model';\n// import { PaymentProviderCardModel } from './models/payment.provider.card.model';\n// import { UsdtProtocolModel } from './models/usdtProtocol';\n// import { PaymentProviderUsdtProtocolModel } from './models/payment.provider.usdt.protocol.model';\n// import { OptionsModule } from './options/options.module';\n// import { NotifyModule } from './notify/notify.module';\n\n@Module({\n  imports: [\n    WinstonModule.forRoot({\n      level: 'debug',\n      format: winston.format.combine(\n        winston.format.errors({ stack: true }),\n        winston.format.json(),\n        winston.format.timestamp(),\n        nestWinstonModuleUtilities.format.nestLike()\n      ),\n      defaultMeta: { service: 'backend' },\n      transports: [new winston.transports.Console()],\n    }),\n    // BullModule.forRoot({\n    //   redis: {\n    //     host: process.env.REDIS_HOST,\n    //     port: Number(process.env.REDIS_PORT),\n    //     password: process.env.REDIS_PASSWORD,\n    //   },\n    // }),\n    ConfigModule.forRoot({\n      isGlobal: true,\n    }),\n    // ScheduleModule.forRoot(),\n    // SequelizeModule.forRoot({\n    //   dialect: 'postgres',\n    //   dialectOptions: {\n    //     useUTC: false,\n    //   },\n    //   logging: false,\n    //   timezone: '+08:00',\n    //   host: process.env.DB_HOST,\n    //   port: Number(process.env.DB_PORT),\n    //   username: process.env.DB_USERNAME,\n    //   password: process.env.DB_PASSWORD,\n    //   database: process.env.DB_DATABASE,\n    //   models: [\n    //     UserModel,\n    //     PaymentSystemModel,\n    //     ChannelModel,\n    //     BankModel,\n    //     PaymentProviderEntityModel,\n    //     BCToKSportModel,\n    //     BCToKSportTeamModel,\n    //     LocaleModel,\n    //     DepositPendingOrderModel,\n    //     DepositOrderModel,\n    //     WithdrawPendingOrderModel,\n    //     WithdrawOrderModel,\n    //     PaymentProviderChannelModel,\n    //     PaymentProviderBankModel,\n    //     PaymentProviderCardModel,\n    //     BCToKSportModel,\n    //     BCToKSportTeamModel,\n    //     BannersModel,\n    //     PaymentSystemLocaleModel,\n    //     ChannelLocaleModel,\n    //     BcOrdersModel,\n    //     OptionsModel,\n    //     UsdtProtocolModel,\n    //     PaymentProviderUsdtProtocolModel,\n    //     TestModel,\n    //   ],\n    // }),\n    //AuthModule,\n    // PaymentModule,\n    // StreamModule,\n    // CmsModule,\n    // RunnerModule,\n    // OptionsModule,\n    // NotifyModule,\n  ],\n  controllers: [AppController],\n  providers: [AppService],\n})\nexport class AppModule implements NestModule {\n  // constructor(private sequelize: Sequelize) {}\n  constructor() {}\n\n  configure(consumer: MiddlewareConsumer) {}\n}\n","import { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class AppService {\n  getData(): { message: string } {\n    return { message: 'Welcome to backend!' };\n  }\n}\n","import { Request, Response, NextFunction } from 'express';\n\nexport function filterRequest(req: Request, res: Response, next: NextFunction) {\n  if (\n    req.headers['content-encoding'] &&\n    (req.headers['content-encoding'].toUpperCase() === `UTF-8` ||\n      req.headers['content-encoding'].toUpperCase() === `UTF8`)\n  ) {\n    delete req.headers['content-encoding'];\n  }\n  next();\n}\n","import { ValidationPipe } from '@nestjs/common';\nimport { ConfigService } from '@nestjs/config';\nimport { NestFactory } from '@nestjs/core';\nimport { WINSTON_MODULE_NEST_PROVIDER } from 'nest-winston';\n\nimport { AppModule } from './app/app.module';\nimport { DocumentBuilder, SwaggerModule } from '@nestjs/swagger';\n\nimport * as requestIp from 'request-ip';\nimport { filterRequest } from './app/middleware/filter.request.middleware';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n\n  app.use(filterRequest);\n\n  const configService = app.get(ConfigService);\n  const globalPrefix = configService.get('BACKEND_PREFIX');\n  app.setGlobalPrefix(globalPrefix);\n\n  if (configService.get('ENVIRONMENT') === 'development' || 'stage') {\n    const swaggerOptions = new DocumentBuilder()\n      .setTitle('100Bet API documentation')\n      .setDescription(\n        'Below You can test out the backend api and read the description of all endpoints and it`s examples'\n      )\n      .setVersion('0.0.1')\n      .addBearerAuth({\n        type: 'http',\n        scheme: 'bearer',\n        bearerFormat: 'jwt',\n      })\n      .build();\n    const swaggerDocument = SwaggerModule.createDocument(app, swaggerOptions);\n\n    SwaggerModule.setup(globalPrefix, app, swaggerDocument, {\n      swaggerUrl: `${configService.get('BACKEND_HOST')}/api/docs-json/`,\n      explorer: true,\n      swaggerOptions: {\n        docExpansion: 'list',\n        filter: true,\n        displayRequestDuration: true,\n      },\n      customCss:\n        '.opblock-summary-path {font-size: 18px !important; font-weight: normal !important;}' +\n        '.opblock-summary-description {font-size: 18px !important; text-align: right !important;' +\n        'font-weight: bold !important;}',\n    });\n  }\n  app.useLogger(app.get(WINSTON_MODULE_NEST_PROVIDER));\n  app.useGlobalPipes(\n    new ValidationPipe({\n      whitelist: false,\n      transform: true,\n    })\n  );\n\n  app.use(requestIp.mw());\n\n  app.enableCors({\n    origin: true,\n  });\n  const port = configService.get('BACKEND_PORT');\n  await app.listen(port);\n}\n\n\n\nbootstrap();\n","module.exports = require(\"@nestjs/common\");","module.exports = require(\"@nestjs/config\");","module.exports = require(\"@nestjs/core\");","module.exports = require(\"@nestjs/swagger\");","module.exports = require(\"nest-winston\");","module.exports = require(\"request-ip\");","module.exports = require(\"tslib\");","module.exports = require(\"winston\");"],"sourceRoot":""}