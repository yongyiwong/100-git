(function(e, a) { for(var i in a) e[i] = a[i]; }(exports, /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./apps/backend/src/app/app.controller.ts":
/*!************************************************!*\
  !*** ./apps/backend/src/app/app.controller.ts ***!
  \************************************************/
/*! exports provided: AppController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppController", function() { return AppController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);


let AppController = class AppController {
    constructor() { }
};
AppController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [])
], AppController);



/***/ }),

/***/ "./apps/backend/src/app/app.module.ts":
/*!********************************************!*\
  !*** ./apps/backend/src/app/app.module.ts ***!
  \********************************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var nest_winston__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! nest-winston */ "nest-winston");
/* harmony import */ var nest_winston__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(nest_winston__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _nestjs_schedule__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @nestjs/schedule */ "@nestjs/schedule");
/* harmony import */ var _nestjs_schedule__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_nestjs_schedule__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var winston__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! winston */ "winston");
/* harmony import */ var winston__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(winston__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _app_controller__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./app.controller */ "./apps/backend/src/app/app.controller.ts");
/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./app.service */ "./apps/backend/src/app/app.service.ts");
/* harmony import */ var _cms_banners_banners_model__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./cms/banners/banners.model */ "./apps/backend/src/app/cms/banners/banners.model.ts");
/* harmony import */ var _cms_cms_module__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./cms/cms.module */ "./apps/backend/src/app/cms/cms.module.ts");
/* harmony import */ var _runner_runner_module__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./runner/runner.module */ "./apps/backend/src/app/runner/runner.module.ts");
/* harmony import */ var _auth_auth_module__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./auth/auth.module */ "./apps/backend/src/app/auth/auth.module.ts");
/* harmony import */ var _payment_payment_module__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./payment/payment.module */ "./apps/backend/src/app/payment/payment.module.ts");
/* harmony import */ var _stream_stream_module__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./stream/stream.module */ "./apps/backend/src/app/stream/stream.module.ts");
/* harmony import */ var _user_user_model__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./user/user.model */ "./apps/backend/src/app/user/user.model.ts");
/* harmony import */ var _models_bank_entity__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./models/bank.entity */ "./apps/backend/src/app/models/bank.entity.ts");
/* harmony import */ var _models_channel_locale_model__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./models/channel.locale.model */ "./apps/backend/src/app/models/channel.locale.model.ts");
/* harmony import */ var _models_payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./models/payment.provider.channel.model */ "./apps/backend/src/app/models/payment.provider.channel.model.ts");
/* harmony import */ var _models_channel_model__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./models/channel.model */ "./apps/backend/src/app/models/channel.model.ts");
/* harmony import */ var _models_deposit_order_model__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./models/deposit.order.model */ "./apps/backend/src/app/models/deposit.order.model.ts");
/* harmony import */ var _models_deposit_pending_order_model__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./models/deposit.pending.order.model */ "./apps/backend/src/app/models/deposit.pending.order.model.ts");
/* harmony import */ var _models_locale_model__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./models/locale.model */ "./apps/backend/src/app/models/locale.model.ts");
/* harmony import */ var _models_payment_provider_bank_entity__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./models/payment.provider.bank.entity */ "./apps/backend/src/app/models/payment.provider.bank.entity.ts");
/* harmony import */ var _models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./models/payment.provider.entity.model */ "./apps/backend/src/app/models/payment.provider.entity.model.ts");
/* harmony import */ var _models_payment_system_locale_model__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./models/payment.system.locale.model */ "./apps/backend/src/app/models/payment.system.locale.model.ts");
/* harmony import */ var _models_payment_system_model__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./models/payment.system.model */ "./apps/backend/src/app/models/payment.system.model.ts");
/* harmony import */ var _models_withdraw_order_model__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./models/withdraw.order.model */ "./apps/backend/src/app/models/withdraw.order.model.ts");
/* harmony import */ var _models_withdraw_pending_order_model__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./models/withdraw.pending.order.model */ "./apps/backend/src/app/models/withdraw.pending.order.model.ts");
/* harmony import */ var _stream_ksport_entities_bc_ksport_entity__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./stream/ksport/entities/bc.ksport.entity */ "./apps/backend/src/app/stream/ksport/entities/bc.ksport.entity.ts");
/* harmony import */ var _stream_ksport_entities_bc_ksport_team_entity__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./stream/ksport/entities/bc.ksport.team.entity */ "./apps/backend/src/app/stream/ksport/entities/bc.ksport.team.entity.ts");
/* harmony import */ var _nestjs_bull__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! @nestjs/bull */ "@nestjs/bull");
/* harmony import */ var _nestjs_bull__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(_nestjs_bull__WEBPACK_IMPORTED_MODULE_32__);
/* harmony import */ var _models_bcOrders__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./models/bcOrders */ "./apps/backend/src/app/models/bcOrders.ts");
/* harmony import */ var _models_test_entity__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./models/test.entity */ "./apps/backend/src/app/models/test.entity.ts");
/* harmony import */ var _models_options_model__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./models/options.model */ "./apps/backend/src/app/models/options.model.ts");
/* harmony import */ var _models_payment_provider_card_model__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./models/payment.provider.card.model */ "./apps/backend/src/app/models/payment.provider.card.model.ts");
/* harmony import */ var _models_usdtProtocol__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./models/usdtProtocol */ "./apps/backend/src/app/models/usdtProtocol.ts");
/* harmony import */ var _models_payment_provider_usdt_protocol_model__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./models/payment.provider.usdt.protocol.model */ "./apps/backend/src/app/models/payment.provider.usdt.protocol.model.ts");
/* harmony import */ var _options_options_module__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./options/options.module */ "./apps/backend/src/app/options/options.module.ts");
/* harmony import */ var _notify_notify_module__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./notify/notify.module */ "./apps/backend/src/app/notify/notify.module.ts");
var _a;
















///////////////////////////////////////////////////////////////////////////////////
// IMPORT MODEL
////////////////////////////////////////////////////////////////////////////////////

























let AppModule = class AppModule {
    constructor(sequelize) {
        this.sequelize = sequelize;
    }
    configure(consumer) { }
};
AppModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [
            nest_winston__WEBPACK_IMPORTED_MODULE_4__["WinstonModule"].forRoot({
                level: 'debug',
                format: winston__WEBPACK_IMPORTED_MODULE_7__["format"].combine(winston__WEBPACK_IMPORTED_MODULE_7__["format"].errors({ stack: true }), winston__WEBPACK_IMPORTED_MODULE_7__["format"].json(), winston__WEBPACK_IMPORTED_MODULE_7__["format"].timestamp(), nest_winston__WEBPACK_IMPORTED_MODULE_4__["utilities"].format.nestLike()),
                defaultMeta: { service: 'backend' },
                transports: [new winston__WEBPACK_IMPORTED_MODULE_7__["transports"].Console()],
            }),
            _nestjs_bull__WEBPACK_IMPORTED_MODULE_32__["BullModule"].forRoot({
                redis: {
                    host: process.env.REDIS_HOST,
                    port: Number(process.env.REDIS_PORT),
                    password: process.env.REDIS_PASSWORD,
                },
            }),
            _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigModule"].forRoot({
                isGlobal: true,
            }),
            _nestjs_schedule__WEBPACK_IMPORTED_MODULE_5__["ScheduleModule"].forRoot(),
            _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__["SequelizeModule"].forRoot({
                dialect: 'postgres',
                dialectOptions: {
                    useUTC: false,
                },
                logging: false,
                timezone: '+08:00',
                host: process.env.DB_HOST,
                port: Number(process.env.DB_PORT),
                username: process.env.DB_USERNAME,
                password: process.env.DB_PASSWORD,
                database: process.env.DB_DATABASE,
                models: [
                    _user_user_model__WEBPACK_IMPORTED_MODULE_16__["UserModel"],
                    _models_payment_system_model__WEBPACK_IMPORTED_MODULE_27__["PaymentSystemModel"],
                    _models_channel_model__WEBPACK_IMPORTED_MODULE_20__["ChannelModel"],
                    _models_bank_entity__WEBPACK_IMPORTED_MODULE_17__["BankModel"],
                    _models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_25__["PaymentProviderEntityModel"],
                    _stream_ksport_entities_bc_ksport_entity__WEBPACK_IMPORTED_MODULE_30__["BCToKSportModel"],
                    _stream_ksport_entities_bc_ksport_team_entity__WEBPACK_IMPORTED_MODULE_31__["BCToKSportTeamModel"],
                    _models_locale_model__WEBPACK_IMPORTED_MODULE_23__["LocaleModel"],
                    _models_deposit_pending_order_model__WEBPACK_IMPORTED_MODULE_22__["DepositPendingOrderModel"],
                    _models_deposit_order_model__WEBPACK_IMPORTED_MODULE_21__["DepositOrderModel"],
                    _models_withdraw_pending_order_model__WEBPACK_IMPORTED_MODULE_29__["WithdrawPendingOrderModel"],
                    _models_withdraw_order_model__WEBPACK_IMPORTED_MODULE_28__["WithdrawOrderModel"],
                    _models_payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_19__["PaymentProviderChannelModel"],
                    _models_payment_provider_bank_entity__WEBPACK_IMPORTED_MODULE_24__["PaymentProviderBankModel"],
                    _models_payment_provider_card_model__WEBPACK_IMPORTED_MODULE_36__["PaymentProviderCardModel"],
                    _stream_ksport_entities_bc_ksport_entity__WEBPACK_IMPORTED_MODULE_30__["BCToKSportModel"],
                    _stream_ksport_entities_bc_ksport_team_entity__WEBPACK_IMPORTED_MODULE_31__["BCToKSportTeamModel"],
                    _cms_banners_banners_model__WEBPACK_IMPORTED_MODULE_10__["BannersModel"],
                    _models_payment_system_locale_model__WEBPACK_IMPORTED_MODULE_26__["PaymentSystemLocaleModel"],
                    _models_channel_locale_model__WEBPACK_IMPORTED_MODULE_18__["ChannelLocaleModel"],
                    _models_bcOrders__WEBPACK_IMPORTED_MODULE_33__["BcOrdersModel"],
                    _models_options_model__WEBPACK_IMPORTED_MODULE_35__["OptionsModel"],
                    _models_usdtProtocol__WEBPACK_IMPORTED_MODULE_37__["UsdtProtocolModel"],
                    _models_payment_provider_usdt_protocol_model__WEBPACK_IMPORTED_MODULE_38__["PaymentProviderUsdtProtocolModel"],
                    _models_test_entity__WEBPACK_IMPORTED_MODULE_34__["TestModel"],
                ],
            }),
            _auth_auth_module__WEBPACK_IMPORTED_MODULE_13__["AuthModule"],
            _payment_payment_module__WEBPACK_IMPORTED_MODULE_14__["PaymentModule"],
            _stream_stream_module__WEBPACK_IMPORTED_MODULE_15__["StreamModule"],
            _cms_cms_module__WEBPACK_IMPORTED_MODULE_11__["CmsModule"],
            _runner_runner_module__WEBPACK_IMPORTED_MODULE_12__["RunnerModule"],
            _options_options_module__WEBPACK_IMPORTED_MODULE_39__["OptionsModule"],
            _notify_notify_module__WEBPACK_IMPORTED_MODULE_40__["NotifyModule"],
        ],
        controllers: [_app_controller__WEBPACK_IMPORTED_MODULE_8__["AppController"]],
        providers: [_app_service__WEBPACK_IMPORTED_MODULE_9__["AppService"]],
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_6__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_6__["Sequelize"]) === "function" ? _a : Object])
], AppModule);



/***/ }),

/***/ "./apps/backend/src/app/app.service.ts":
/*!*********************************************!*\
  !*** ./apps/backend/src/app/app.service.ts ***!
  \*********************************************/
/*! exports provided: AppService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppService", function() { return AppService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);


let AppService = class AppService {
    getData() {
        return { message: 'Welcome to backend!' };
    }
};
AppService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])()
], AppService);



/***/ }),

/***/ "./apps/backend/src/app/auth/auth-jwt.strategy.ts":
/*!********************************************************!*\
  !*** ./apps/backend/src/app/auth/auth-jwt.strategy.ts ***!
  \********************************************************/
/*! exports provided: AuthJwtStrategy */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthJwtStrategy", function() { return AuthJwtStrategy; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_passport__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/passport */ "@nestjs/passport");
/* harmony import */ var _nestjs_passport__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_passport__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var passport_jwt__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! passport-jwt */ "passport-jwt");
/* harmony import */ var passport_jwt__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(passport_jwt__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./auth.service */ "./apps/backend/src/app/auth/auth.service.ts");
var _a;





let AuthJwtStrategy = class AuthJwtStrategy extends Object(_nestjs_passport__WEBPACK_IMPORTED_MODULE_2__["PassportStrategy"])(passport_jwt__WEBPACK_IMPORTED_MODULE_3__["Strategy"]) {
    constructor(authService) {
        super({
            jwtFromRequest: passport_jwt__WEBPACK_IMPORTED_MODULE_3__["ExtractJwt"].fromAuthHeaderAsBearerToken(),
            secretOrKey: process.env.SECRET_KEY,
        });
        this.authService = authService;
    }
    validate(payload, done) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const user = yield this.authService.validateUser(payload);
            if (!user) {
                return done(new _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpException"]('Unauthorized access', _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].UNAUTHORIZED), false);
            }
            return done(null, user, payload.iat);
        });
    }
};
AuthJwtStrategy = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"] !== "undefined" && _auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"]) === "function" ? _a : Object])
], AuthJwtStrategy);



/***/ }),

/***/ "./apps/backend/src/app/auth/auth.controller.ts":
/*!******************************************************!*\
  !*** ./apps/backend/src/app/auth/auth.controller.ts ***!
  \******************************************************/
/*! exports provided: AuthController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthController", function() { return AuthController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! express */ "express");
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _workspace_dto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @workspace/dto */ "./libs/dto/src/index.ts");
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./auth.service */ "./apps/backend/src/app/auth/auth.service.ts");
/* harmony import */ var _user_user_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../user/user.service */ "./apps/backend/src/app/user/user.service.ts");
/* harmony import */ var _jwt_auth_guard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./jwt-auth.guard */ "./apps/backend/src/app/auth/jwt-auth.guard.ts");
/* harmony import */ var _dto_user_reset_2fa_secrect_request_dto__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./dto/user.reset.2fa.secrect.request.dto */ "./apps/backend/src/app/auth/dto/user.reset.2fa.secrect.request.dto.ts");
/* harmony import */ var _dto_user_get_2fa_qrcode_request_dto__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./dto/user.get.2fa.qrcode.request.dto */ "./apps/backend/src/app/auth/dto/user.get.2fa.qrcode.request.dto.ts");
var _a, _b, _c, _d, _e, _f, _g, _h, _j;











let AuthController = class AuthController {
    constructor(userService, authService) {
        this.userService = userService;
        this.authService = authService;
    }
    login(loginDto) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const user = yield this.userService.findByLogin(loginDto);
            const result = yield this.authService.isTwoFactorAuthenticationCodeValid(user.id, loginDto.twoFactorAuthenticationCode);
            if (!result) {
                throw new _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpException"]('Invalid credentials', _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].UNAUTHORIZED);
            }
            const payload = {
                email: user.email,
                firstName: user.firstName,
                lastName: user.lastName,
            };
            const token = yield this.authService.signPayload(payload);
            return { token };
        });
    }
    create(userDto) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            console.log(userDto.token);
            console.log(process.env.SECRET_TOKEN);
            const checkToken = _workspace_dto__WEBPACK_IMPORTED_MODULE_4__["UserTokenDto"].checkToken(userDto.token);
            if (checkToken) {
                const sanitizeToken = this.userService.sanitizeToken(userDto, this.authService.generateTwoFactorAuthenticationSecret());
                const user = yield this.userService.create(sanitizeToken);
                const payload = {
                    email: user.email,
                    firstName: user.firstName,
                    lastName: user.lastName,
                };
                const token = yield this.authService.signPayload(payload);
                return { token };
            }
            return new _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpException"]('Unauthorized request', _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].FORBIDDEN);
        });
    }
    reset(request, req) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.authService.resetPass(request, req.user);
        });
    }
    resetTwoFactorAuthSecret(request, response) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const result = this.authService.resetTwoFactorAuthSecrect(request.userId, response);
            if (!result) {
                response.status(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].OK).send();
            }
        });
    }
    getTwoFactorAuthQrCode(request, response) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const result = yield this.authService.getTwoFactorAuthQrCode(request.userId, response);
            if (!result) {
                response.status(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].OK).send();
            }
        });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_5__["apiPathsEnum"].login),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiOperation"])({ description: _workspace_enums__WEBPACK_IMPORTED_MODULE_5__["apiEndpointDecriptionEnum"].userLogin }),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_5__["apiTagsEnum"].authentication),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _workspace_dto__WEBPACK_IMPORTED_MODULE_4__["LoginDto"] !== "undefined" && _workspace_dto__WEBPACK_IMPORTED_MODULE_4__["LoginDto"]) === "function" ? _a : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], AuthController.prototype, "login", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_5__["apiPathsEnum"].create),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiOperation"])({ description: _workspace_enums__WEBPACK_IMPORTED_MODULE_5__["apiEndpointDecriptionEnum"].userCreate }),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_5__["apiTagsEnum"].authentication),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_8__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Query"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_b = typeof _workspace_dto__WEBPACK_IMPORTED_MODULE_4__["UserTokenDto"] !== "undefined" && _workspace_dto__WEBPACK_IMPORTED_MODULE_4__["UserTokenDto"]) === "function" ? _b : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], AuthController.prototype, "create", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Put"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_5__["apiPathsEnum"].reset),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiOperation"])({ description: _workspace_enums__WEBPACK_IMPORTED_MODULE_5__["apiEndpointDecriptionEnum"].userResetPass }),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_5__["apiTagsEnum"].authentication),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_8__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()), Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Request"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_c = typeof _workspace_dto__WEBPACK_IMPORTED_MODULE_4__["ResetPassDto"] !== "undefined" && _workspace_dto__WEBPACK_IMPORTED_MODULE_4__["ResetPassDto"]) === "function" ? _c : Object, Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], AuthController.prototype, "reset", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_5__["apiPathsEnum"].resetTwoFactorAuthSecret),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_5__["apiEndpointDecriptionEnum"].userResetTwoFactorAuthSecret,
    }),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_5__["apiTagsEnum"].authentication),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_8__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiBearerAuth"])(),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Header"])('content-type', 'image/png'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Res"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_d = typeof _dto_user_reset_2fa_secrect_request_dto__WEBPACK_IMPORTED_MODULE_9__["ResetUserTwoFactorAuthSecrectRequestDto"] !== "undefined" && _dto_user_reset_2fa_secrect_request_dto__WEBPACK_IMPORTED_MODULE_9__["ResetUserTwoFactorAuthSecrectRequestDto"]) === "function" ? _d : Object, typeof (_e = typeof express__WEBPACK_IMPORTED_MODULE_2__["Response"] !== "undefined" && express__WEBPACK_IMPORTED_MODULE_2__["Response"]) === "function" ? _e : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], AuthController.prototype, "resetTwoFactorAuthSecret", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_5__["apiPathsEnum"].getTwoFactorAuthQrCode),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_5__["apiEndpointDecriptionEnum"].userGetTwoFactorAuthQrCode,
    }),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_5__["apiTagsEnum"].authentication),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_8__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiBearerAuth"])(),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Header"])('content-type', 'image/png'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Res"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_f = typeof _dto_user_get_2fa_qrcode_request_dto__WEBPACK_IMPORTED_MODULE_10__["GetUserTwoFactorAuthQrCodeRequestDto"] !== "undefined" && _dto_user_get_2fa_qrcode_request_dto__WEBPACK_IMPORTED_MODULE_10__["GetUserTwoFactorAuthQrCodeRequestDto"]) === "function" ? _f : Object, typeof (_g = typeof express__WEBPACK_IMPORTED_MODULE_2__["Response"] !== "undefined" && express__WEBPACK_IMPORTED_MODULE_2__["Response"]) === "function" ? _g : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], AuthController.prototype, "getTwoFactorAuthQrCode", null);
AuthController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_5__["apiPathsEnum"].auth),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_h = typeof _user_user_service__WEBPACK_IMPORTED_MODULE_7__["UserService"] !== "undefined" && _user_user_service__WEBPACK_IMPORTED_MODULE_7__["UserService"]) === "function" ? _h : Object, typeof (_j = typeof _auth_service__WEBPACK_IMPORTED_MODULE_6__["AuthService"] !== "undefined" && _auth_service__WEBPACK_IMPORTED_MODULE_6__["AuthService"]) === "function" ? _j : Object])
], AuthController);



/***/ }),

/***/ "./apps/backend/src/app/auth/auth.module.ts":
/*!**************************************************!*\
  !*** ./apps/backend/src/app/auth/auth.module.ts ***!
  \**************************************************/
/*! exports provided: AuthModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthModule", function() { return AuthModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _user_user_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../user/user.module */ "./apps/backend/src/app/user/user.module.ts");
/* harmony import */ var _auth_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./auth.controller */ "./apps/backend/src/app/auth/auth.controller.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./auth.service */ "./apps/backend/src/app/auth/auth.service.ts");
/* harmony import */ var _auth_jwt_strategy__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./auth-jwt.strategy */ "./apps/backend/src/app/auth/auth-jwt.strategy.ts");
/* harmony import */ var _two_factor_authentication_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./two.factor.authentication.service */ "./apps/backend/src/app/auth/two.factor.authentication.service.ts");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_7__);








let AuthModule = class AuthModule {
};
AuthModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [_user_user_module__WEBPACK_IMPORTED_MODULE_2__["UserModule"], _nestjs_config__WEBPACK_IMPORTED_MODULE_7__["ConfigModule"].forRoot({})],
        controllers: [_auth_controller__WEBPACK_IMPORTED_MODULE_3__["AuthController"]],
        providers: [_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"], _auth_jwt_strategy__WEBPACK_IMPORTED_MODULE_5__["AuthJwtStrategy"], _two_factor_authentication_service__WEBPACK_IMPORTED_MODULE_6__["TwoFactorAuthenticationService"]],
    })
], AuthModule);



/***/ }),

/***/ "./apps/backend/src/app/auth/auth.service.ts":
/*!***************************************************!*\
  !*** ./apps/backend/src/app/auth/auth.service.ts ***!
  \***************************************************/
/*! exports provided: AuthService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthService", function() { return AuthService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ "jsonwebtoken");
/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _user_user_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../user/user.service */ "./apps/backend/src/app/user/user.service.ts");
/* harmony import */ var _two_factor_authentication_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./two.factor.authentication.service */ "./apps/backend/src/app/auth/two.factor.authentication.service.ts");
var _a, _b;





const bcrypt = __webpack_require__(/*! bcrypt */ "bcrypt");
let AuthService = class AuthService {
    constructor(userService, twoFactorAuthenticationService) {
        this.userService = userService;
        this.twoFactorAuthenticationService = twoFactorAuthenticationService;
    }
    signPayload(payload) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return Object(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__["sign"])(payload, process.env.SECRET_KEY, { expiresIn: '12h' });
        });
    }
    validateUser(payload) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.userService.findByPayload(payload);
        });
    }
    resetPass(request, user) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (request.password.length < 6) {
                throw new _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpException"]('Password Length should be equals than 6.', _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].BAD_REQUEST);
            }
            if (request.password !== request.confirmPassword) {
                throw new _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpException"]('Password does not match the confirm password.', _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].BAD_REQUEST);
            }
            user.password = yield bcrypt.hash(request.password, 10);
            yield user.save();
            return true;
        });
    }
    generateTwoFactorAuthenticationSecret() {
        return this.twoFactorAuthenticationService.generateTwoFactorAuthenticationSecret();
    }
    resetTwoFactorAuthSecrect(userId, stream) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const user = yield this.userService.findById(userId);
            if (!user) {
                return false;
            }
            const { secret, otpauthUrl, } = yield this.twoFactorAuthenticationService.generateUserTwoFactorAuthenticationSecret(user);
            user.twoFactorAuthenticationSecret = secret;
            yield user.save({});
            if (!stream) {
                return false;
            }
            yield this.twoFactorAuthenticationService.pipeQrCodeStream(stream, otpauthUrl);
            return true;
        });
    }
    getTwoFactorAuthQrCode(userId, stream) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const user = yield this.userService.findById(userId);
            if (!user) {
                return false;
            }
            const otpauthUrl = this.twoFactorAuthenticationService.getQrCodeUrl(user);
            if (!otpauthUrl) {
                return false;
            }
            if (!stream) {
                return false;
            }
            yield this.twoFactorAuthenticationService.pipeQrCodeStream(stream, otpauthUrl);
            return true;
        });
    }
    isTwoFactorAuthenticationCodeValid(userId, twoFactorAuthenticationCode) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const user = yield this.userService.findById(userId);
            if (!user) {
                return false;
            }
            return this.twoFactorAuthenticationService.isTwoFactorAuthenticationCodeValid(twoFactorAuthenticationCode, user);
        });
    }
};
AuthService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _user_user_service__WEBPACK_IMPORTED_MODULE_3__["UserService"] !== "undefined" && _user_user_service__WEBPACK_IMPORTED_MODULE_3__["UserService"]) === "function" ? _a : Object, typeof (_b = typeof _two_factor_authentication_service__WEBPACK_IMPORTED_MODULE_4__["TwoFactorAuthenticationService"] !== "undefined" && _two_factor_authentication_service__WEBPACK_IMPORTED_MODULE_4__["TwoFactorAuthenticationService"]) === "function" ? _b : Object])
], AuthService);



/***/ }),

/***/ "./apps/backend/src/app/auth/dto/user.get.2fa.qrcode.request.dto.ts":
/*!**************************************************************************!*\
  !*** ./apps/backend/src/app/auth/dto/user.get.2fa.qrcode.request.dto.ts ***!
  \**************************************************************************/
/*! exports provided: GetUserTwoFactorAuthQrCodeRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetUserTwoFactorAuthQrCodeRequestDto", function() { return GetUserTwoFactorAuthQrCodeRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);



class GetUserTwoFactorAuthQrCodeRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsUUID"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], GetUserTwoFactorAuthQrCodeRequestDto.prototype, "userId", void 0);


/***/ }),

/***/ "./apps/backend/src/app/auth/dto/user.reset.2fa.secrect.request.dto.ts":
/*!*****************************************************************************!*\
  !*** ./apps/backend/src/app/auth/dto/user.reset.2fa.secrect.request.dto.ts ***!
  \*****************************************************************************/
/*! exports provided: ResetUserTwoFactorAuthSecrectRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResetUserTwoFactorAuthSecrectRequestDto", function() { return ResetUserTwoFactorAuthSecrectRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);



class ResetUserTwoFactorAuthSecrectRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsUUID"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], ResetUserTwoFactorAuthSecrectRequestDto.prototype, "userId", void 0);


/***/ }),

/***/ "./apps/backend/src/app/auth/jwt-auth.guard.ts":
/*!*****************************************************!*\
  !*** ./apps/backend/src/app/auth/jwt-auth.guard.ts ***!
  \*****************************************************/
/*! exports provided: JwtAuthGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JwtAuthGuard", function() { return JwtAuthGuard; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_passport__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/passport */ "@nestjs/passport");
/* harmony import */ var _nestjs_passport__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_passport__WEBPACK_IMPORTED_MODULE_2__);



let JwtAuthGuard = class JwtAuthGuard extends Object(_nestjs_passport__WEBPACK_IMPORTED_MODULE_2__["AuthGuard"])('jwt') {
};
JwtAuthGuard = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])()
], JwtAuthGuard);



/***/ }),

/***/ "./apps/backend/src/app/auth/two.factor.authentication.service.ts":
/*!************************************************************************!*\
  !*** ./apps/backend/src/app/auth/two.factor.authentication.service.ts ***!
  \************************************************************************/
/*! exports provided: TwoFactorAuthenticationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TwoFactorAuthenticationService", function() { return TwoFactorAuthenticationService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _user_user_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../user/user.service */ "./apps/backend/src/app/user/user.service.ts");
/* harmony import */ var otplib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! otplib */ "otplib");
/* harmony import */ var otplib__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(otplib__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var qrcode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! qrcode */ "qrcode");
/* harmony import */ var qrcode__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(qrcode__WEBPACK_IMPORTED_MODULE_5__);
var _a, _b;






let TwoFactorAuthenticationService = class TwoFactorAuthenticationService {
    constructor(userService, configService) {
        this.userService = userService;
        this.configService = configService;
    }
    generateTwoFactorAuthenticationSecret() {
        const secret = otplib__WEBPACK_IMPORTED_MODULE_3__["authenticator"].generateSecret();
        return secret;
    }
    generateUserTwoFactorAuthenticationSecret(user) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const secret = otplib__WEBPACK_IMPORTED_MODULE_3__["authenticator"].generateSecret();
            const otpauthUrl = otplib__WEBPACK_IMPORTED_MODULE_3__["authenticator"].keyuri(user.email, this.configService.get('TWO_FACTOR_AUTHENTICATION_APP_NAME'), secret);
            return { secret, otpauthUrl };
        });
    }
    getQrCodeUrl(user) {
        return otplib__WEBPACK_IMPORTED_MODULE_3__["authenticator"].keyuri(user.email, this.configService.get('TWO_FACTOR_AUTHENTICATION_APP_NAME'), user.twoFactorAuthenticationSecret);
    }
    pipeQrCodeStream(stream, otpauthUrl) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return Object(qrcode__WEBPACK_IMPORTED_MODULE_5__["toFileStream"])(stream, otpauthUrl);
        });
    }
    isTwoFactorAuthenticationCodeValid(twoFactorAuthenticationCode, user) {
        return otplib__WEBPACK_IMPORTED_MODULE_3__["authenticator"].verify({
            token: twoFactorAuthenticationCode,
            secret: user.twoFactorAuthenticationSecret,
        });
    }
};
TwoFactorAuthenticationService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _user_user_service__WEBPACK_IMPORTED_MODULE_2__["UserService"] !== "undefined" && _user_user_service__WEBPACK_IMPORTED_MODULE_2__["UserService"]) === "function" ? _a : Object, typeof (_b = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_4__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_4__["ConfigService"]) === "function" ? _b : Object])
], TwoFactorAuthenticationService);



/***/ }),

/***/ "./apps/backend/src/app/cms/banners/banners.controller.ts":
/*!****************************************************************!*\
  !*** ./apps/backend/src/app/cms/banners/banners.controller.ts ***!
  \****************************************************************/
/*! exports provided: BannersController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BannersController", function() { return BannersController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_platform_express__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/platform-express */ "@nestjs/platform-express");
/* harmony import */ var _nestjs_platform_express__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_platform_express__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _banners_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./banners.dto */ "./apps/backend/src/app/cms/banners/banners.dto.ts");
/* harmony import */ var _banners_filter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./banners.filter */ "./apps/backend/src/app/cms/banners/banners.filter.ts");
/* harmony import */ var _banners_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./banners.service */ "./apps/backend/src/app/cms/banners/banners.service.ts");
/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! multer */ "multer");
/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(multer__WEBPACK_IMPORTED_MODULE_8__);
var _a, _b;









let BannersController = class BannersController {
    constructor(bannersService) {
        this.bannersService = bannersService;
    }
    uploadHeroBanner(fileType, banner) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.bannersService.saveBanner(banner, fileType);
        });
    }
    createHeroBanner(file, request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.bannersService.createBanner(request, file);
        });
    }
    getImage() {
        return this.bannersService.getAll();
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["apiPathsEnum"].uploadHeroBanner),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiOperation"])({ description: _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["apiEndpointDecriptionEnum"].cmsHeroBannerUpload }),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiConsumes"])('multipart/form-data'),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiBody"])({
        description: 'Banner Picture',
        type: _banners_dto__WEBPACK_IMPORTED_MODULE_5__["BannerFileDto"]
    }),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseInterceptors"])(Object(_nestjs_platform_express__WEBPACK_IMPORTED_MODULE_2__["FileInterceptor"])('image', {
        fileFilter: _banners_filter__WEBPACK_IMPORTED_MODULE_6__["imageFileFilter"],
        storage: Object(multer__WEBPACK_IMPORTED_MODULE_8__["diskStorage"])({
            destination: './uploads/assets/banners/hero',
            filename: _banners_filter__WEBPACK_IMPORTED_MODULE_6__["editFileName"]
        })
    })),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()), Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UploadedFile"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [String, Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], BannersController.prototype, "uploadHeroBanner", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["apiPathsEnum"].createHeroBanner),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiOperation"])({ description: _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["apiEndpointDecriptionEnum"].cmsHeroBannerCreate }),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseInterceptors"])(Object(_nestjs_platform_express__WEBPACK_IMPORTED_MODULE_2__["FileInterceptor"])('image', {
        fileFilter: _banners_filter__WEBPACK_IMPORTED_MODULE_6__["imageFileFilter"],
        storage: Object(multer__WEBPACK_IMPORTED_MODULE_8__["diskStorage"])({
            destination: './uploads/assets/banners/hero',
            filename: _banners_filter__WEBPACK_IMPORTED_MODULE_6__["editFileName"]
        })
    })),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiConsumes"])('multipart/form-data'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UploadedFile"])()), Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [Object, typeof (_a = typeof _banners_dto__WEBPACK_IMPORTED_MODULE_5__["CreateBannerFileDto"] !== "undefined" && _banners_dto__WEBPACK_IMPORTED_MODULE_5__["CreateBannerFileDto"]) === "function" ? _a : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], BannersController.prototype, "createHeroBanner", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Get"])('hero'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", []),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", void 0)
], BannersController.prototype, "getImage", null);
BannersController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["apiTagsEnum"].cmsEndpoints),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["apiPathsEnum"].banners),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_b = typeof _banners_service__WEBPACK_IMPORTED_MODULE_7__["BannersService"] !== "undefined" && _banners_service__WEBPACK_IMPORTED_MODULE_7__["BannersService"]) === "function" ? _b : Object])
], BannersController);



/***/ }),

/***/ "./apps/backend/src/app/cms/banners/banners.dto.ts":
/*!*********************************************************!*\
  !*** ./apps/backend/src/app/cms/banners/banners.dto.ts ***!
  \*********************************************************/
/*! exports provided: BannerFileDto, BannersGetDto, CreateBannerDto, CreateBannerFileDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BannerFileDto", function() { return BannerFileDto; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BannersGetDto", function() { return BannersGetDto; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreateBannerDto", function() { return CreateBannerDto; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreateBannerFileDto", function() { return CreateBannerFileDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);



class BannerFileDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({ type: 'string', format: 'binary' }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Object)
], BannerFileDto.prototype, "image", void 0);
class BannersGetDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BannersGetDto.prototype, "image", void 0);
class CreateBannerDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBannerDto.prototype, "type", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBannerDto.prototype, "banner", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBannerDto.prototype, "title", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], CreateBannerDto.prototype, "order", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBannerDto.prototype, "buttonText", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBannerDto.prototype, "buttonColor", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], CreateBannerDto.prototype, "positionX", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], CreateBannerDto.prototype, "positionY", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], CreateBannerDto.prototype, "enabled", void 0);
class CreateBannerFileDto extends CreateBannerDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({ type: 'string', format: 'binary' }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Object)
], CreateBannerFileDto.prototype, "image", void 0);


/***/ }),

/***/ "./apps/backend/src/app/cms/banners/banners.filter.ts":
/*!************************************************************!*\
  !*** ./apps/backend/src/app/cms/banners/banners.filter.ts ***!
  \************************************************************/
/*! exports provided: imageFileFilter, editFileName */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "imageFileFilter", function() { return imageFileFilter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "editFileName", function() { return editFileName; });
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);


const imageFileFilter = (req, file, callback) => {
    if (!file.originalname.match(/\.(jpg|jpeg|png|gif)$/)) {
        return callback(new _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpException"]('Only image files are allowed!', _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpStatus"].BAD_REQUEST), false);
    }
    callback(null, true);
};
const editFileName = (req, file, callback) => {
    const name = file.originalname.split('.')[0];
    const fileExtName = Object(path__WEBPACK_IMPORTED_MODULE_1__["extname"])(file.originalname);
    const randomName = Date.now();
    callback(null, `${randomName}${fileExtName}`);
};


/***/ }),

/***/ "./apps/backend/src/app/cms/banners/banners.model.ts":
/*!***********************************************************!*\
  !*** ./apps/backend/src/app/cms/banners/banners.model.ts ***!
  \***********************************************************/
/*! exports provided: BannersModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BannersModel", function() { return BannersModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__);


let BannersModel = class BannersModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Model"] {
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        autoIncrement: true,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], BannersModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        unique: false
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BannersModel.prototype, "type", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        unique: true
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BannersModel.prototype, "banner", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BannersModel.prototype, "title", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        allowNull: true
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], BannersModel.prototype, "order", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BannersModel.prototype, "url", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BannersModel.prototype, "buttonText", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: true
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BannersModel.prototype, "buttonColor", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        allowNull: true
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BannersModel.prototype, "positionX", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        allowNull: true
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BannersModel.prototype, "positionY", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].BOOLEAN,
        allowNull: false
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BannersModel.prototype, "enabled", void 0);
BannersModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Table"])({ tableName: 'banners' })
], BannersModel);



/***/ }),

/***/ "./apps/backend/src/app/cms/banners/banners.module.ts":
/*!************************************************************!*\
  !*** ./apps/backend/src/app/cms/banners/banners.module.ts ***!
  \************************************************************/
/*! exports provided: BannersModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BannersModule", function() { return BannersModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _banners_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./banners.controller */ "./apps/backend/src/app/cms/banners/banners.controller.ts");
/* harmony import */ var _banners_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./banners.model */ "./apps/backend/src/app/cms/banners/banners.model.ts");
/* harmony import */ var _banners_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./banners.service */ "./apps/backend/src/app/cms/banners/banners.service.ts");






let BannersModule = class BannersModule {
};
BannersModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["SequelizeModule"].forFeature([_banners_model__WEBPACK_IMPORTED_MODULE_4__["BannersModel"]])],
        controllers: [_banners_controller__WEBPACK_IMPORTED_MODULE_3__["BannersController"]],
        providers: [_banners_service__WEBPACK_IMPORTED_MODULE_5__["BannersService"]]
    })
], BannersModule);



/***/ }),

/***/ "./apps/backend/src/app/cms/banners/banners.service.ts":
/*!*************************************************************!*\
  !*** ./apps/backend/src/app/cms/banners/banners.service.ts ***!
  \*************************************************************/
/*! exports provided: BannersService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BannersService", function() { return BannersService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _banners_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./banners.model */ "./apps/backend/src/app/cms/banners/banners.model.ts");




let BannersService = class BannersService {
    constructor(bannerRepository) {
        this.bannerRepository = bannerRepository;
    }
    getAll() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.bannerRepository.findAll({
                where: {
                    type: 'hero'
                }
            });
        });
    }
    saveBanner(banner, fileName) {
        try {
            const response = {
                originalname: banner.originalname,
                path: banner.path
            };
            return {
                status: _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].OK,
                message: 'Banner uploaded successfully!',
                data: response
            };
        }
        catch (error) {
            return error;
        }
    }
    createBanner(request, banner) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            try {
                const checkForBanner = yield this.bannerRepository.findOne({
                    where: {
                        title: request.title
                    }
                });
                if (checkForBanner) {
                    return new _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpException"]('Banner Already Exists!', _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].CONFLICT);
                }
                return yield this.bannerRepository.create({
                    type: request.type,
                    banner: request.banner,
                    title: request.title,
                    order: request.order,
                    url: banner.path,
                    buttonText: request.buttonText,
                    buttonColor: request.buttonColor,
                    positionX: request.positionX,
                    positionY: request.positionY,
                    enabled: request.enabled
                });
            }
            catch (error) {
                return error.message;
            }
        });
    }
};
BannersService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_banners_model__WEBPACK_IMPORTED_MODULE_3__["BannersModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [Object])
], BannersService);



/***/ }),

/***/ "./apps/backend/src/app/cms/cms.controller.ts":
/*!****************************************************!*\
  !*** ./apps/backend/src/app/cms/cms.controller.ts ***!
  \****************************************************/
/*! exports provided: CmsController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CmsController", function() { return CmsController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);


let CmsController = class CmsController {
};
CmsController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])('cms')
], CmsController);



/***/ }),

/***/ "./apps/backend/src/app/cms/cms.module.ts":
/*!************************************************!*\
  !*** ./apps/backend/src/app/cms/cms.module.ts ***!
  \************************************************/
/*! exports provided: CmsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CmsModule", function() { return CmsModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_platform_express__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/platform-express */ "@nestjs/platform-express");
/* harmony import */ var _nestjs_platform_express__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_platform_express__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _cms_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cms.controller */ "./apps/backend/src/app/cms/cms.controller.ts");
/* harmony import */ var _cms_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cms.service */ "./apps/backend/src/app/cms/cms.service.ts");
/* harmony import */ var _banners_banners_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./banners/banners.module */ "./apps/backend/src/app/cms/banners/banners.module.ts");






let CmsModule = class CmsModule {
};
CmsModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        controllers: [_cms_controller__WEBPACK_IMPORTED_MODULE_3__["CmsController"]],
        providers: [_cms_service__WEBPACK_IMPORTED_MODULE_4__["CmsService"]],
        imports: [
            _banners_banners_module__WEBPACK_IMPORTED_MODULE_5__["BannersModule"],
            _nestjs_platform_express__WEBPACK_IMPORTED_MODULE_2__["MulterModule"].register({
                dest: './uploads'
            })
        ]
    })
], CmsModule);



/***/ }),

/***/ "./apps/backend/src/app/cms/cms.service.ts":
/*!*************************************************!*\
  !*** ./apps/backend/src/app/cms/cms.service.ts ***!
  \*************************************************/
/*! exports provided: CmsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CmsService", function() { return CmsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);


let CmsService = class CmsService {
};
CmsService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])()
], CmsService);



/***/ }),

/***/ "./apps/backend/src/app/decorators/request.ip.decorators.ts":
/*!******************************************************************!*\
  !*** ./apps/backend/src/app/decorators/request.ip.decorators.ts ***!
  \******************************************************************/
/*! exports provided: RequestIpAddress */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RequestIpAddress", function() { return RequestIpAddress; });
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var request_ip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! request-ip */ "request-ip");
/* harmony import */ var request_ip__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(request_ip__WEBPACK_IMPORTED_MODULE_1__);


const RequestIpAddress = Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_0__["createParamDecorator"])((data, ctx) => {
    //const request = <requestIp.Request>ctx.switchToHttp().getRequest();
    const request = ctx.switchToHttp().getRequest();
    if (request.clientIp) {
        return request.clientIp;
    }
    ;
    return request_ip__WEBPACK_IMPORTED_MODULE_1__["getClientIp"](request);
});


/***/ }),

/***/ "./apps/backend/src/app/error/enums/errorCodeEnum.ts":
/*!***********************************************************!*\
  !*** ./apps/backend/src/app/error/enums/errorCodeEnum.ts ***!
  \***********************************************************/
/*! exports provided: ErrorCodeEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorCodeEnum", function() { return ErrorCodeEnum; });
var ErrorCodeEnum;
(function (ErrorCodeEnum) {
    ErrorCodeEnum[ErrorCodeEnum["DEPOSIT_PROVIDER_NO_AVAILABLE"] = 100] = "DEPOSIT_PROVIDER_NO_AVAILABLE";
    ErrorCodeEnum[ErrorCodeEnum["DEPOSIT_PROVIDER_CHANNEL_NOT_FOUND"] = 101] = "DEPOSIT_PROVIDER_CHANNEL_NOT_FOUND";
    ErrorCodeEnum[ErrorCodeEnum["DEPOSIT_PROVIDER_USDT_PROTO_NOT_FOUND"] = 102] = "DEPOSIT_PROVIDER_USDT_PROTO_NOT_FOUND";
    ErrorCodeEnum[ErrorCodeEnum["DEPOSIT_PROVIDER_ORDER_NOT_CREATED"] = 103] = "DEPOSIT_PROVIDER_ORDER_NOT_CREATED";
    ErrorCodeEnum[ErrorCodeEnum["DEPOSIT_PROVIDER_USDT_RATE_NOT_FOUND"] = 104] = "DEPOSIT_PROVIDER_USDT_RATE_NOT_FOUND";
    ErrorCodeEnum[ErrorCodeEnum["DEPOSIT_PROVIDER_FAILED"] = 105] = "DEPOSIT_PROVIDER_FAILED";
    ErrorCodeEnum[ErrorCodeEnum["DEPOSIT_PROVIDER_FAILED_INTERNAL"] = 106] = "DEPOSIT_PROVIDER_FAILED_INTERNAL";
    ErrorCodeEnum[ErrorCodeEnum["WITHDRAW_IP_INVALID"] = 107] = "WITHDRAW_IP_INVALID";
    ErrorCodeEnum[ErrorCodeEnum["WITHDRAW_SIGN_INVALID"] = 108] = "WITHDRAW_SIGN_INVALID";
    ErrorCodeEnum[ErrorCodeEnum["WITHDRAW_PROVIDER_NO_AVAILABLE"] = 109] = "WITHDRAW_PROVIDER_NO_AVAILABLE";
    ErrorCodeEnum[ErrorCodeEnum["WITHDRAW_PROVIDER_CHANNEL_NOT_FOUND"] = 110] = "WITHDRAW_PROVIDER_CHANNEL_NOT_FOUND";
    ErrorCodeEnum[ErrorCodeEnum["WITHDRAW_PROVIDER_FAILED_INTERNAL"] = 111] = "WITHDRAW_PROVIDER_FAILED_INTERNAL";
    ErrorCodeEnum[ErrorCodeEnum["WITHDRAW_PROVIDER_ORDER_NOT_CREATED"] = 112] = "WITHDRAW_PROVIDER_ORDER_NOT_CREATED";
    ErrorCodeEnum[ErrorCodeEnum["WITHDRAW_PROVIDER_BANK_NOT_SUPPORTED"] = 113] = "WITHDRAW_PROVIDER_BANK_NOT_SUPPORTED";
    ErrorCodeEnum[ErrorCodeEnum["WITHDRAW_PROVIDER_FAILED"] = 114] = "WITHDRAW_PROVIDER_FAILED";
    ErrorCodeEnum[ErrorCodeEnum["WITHDRAW_PROVIDER_USDT_RATE_NOT_FOUND"] = 115] = "WITHDRAW_PROVIDER_USDT_RATE_NOT_FOUND";
    ErrorCodeEnum[ErrorCodeEnum["WITHDRAW_PROVIDER_ERROR_UNKNOWN"] = 998] = "WITHDRAW_PROVIDER_ERROR_UNKNOWN";
    ErrorCodeEnum[ErrorCodeEnum["DEPOSIT_PROVIDER_ERROR_UNKNOWN"] = 999] = "DEPOSIT_PROVIDER_ERROR_UNKNOWN";
})(ErrorCodeEnum || (ErrorCodeEnum = {}));


/***/ }),

/***/ "./apps/backend/src/app/error/error.module.ts":
/*!****************************************************!*\
  !*** ./apps/backend/src/app/error/error.module.ts ***!
  \****************************************************/
/*! exports provided: ErrorModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorModule", function() { return ErrorModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _error_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./error.service */ "./apps/backend/src/app/error/error.service.ts");




let ErrorModule = class ErrorModule {
};
ErrorModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["SequelizeModule"].forFeature([])],
        controllers: [],
        providers: [_error_service__WEBPACK_IMPORTED_MODULE_3__["ErrorService"]],
        exports: [_error_service__WEBPACK_IMPORTED_MODULE_3__["ErrorService"]],
    })
], ErrorModule);



/***/ }),

/***/ "./apps/backend/src/app/error/error.service.ts":
/*!*****************************************************!*\
  !*** ./apps/backend/src/app/error/error.service.ts ***!
  \*****************************************************/
/*! exports provided: ErrorMessage, ErrorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorMessage", function() { return ErrorMessage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorService", function() { return ErrorService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _locale__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../locale */ "./apps/backend/src/app/locale.ts");
/* harmony import */ var _errorCode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errorCode */ "./apps/backend/src/app/error/errorCode.ts");




class ErrorMessage {
}
let ErrorService = class ErrorService {
    constructor() { }
    getMsgDeposit(depositRequest, depositResult, options) {
        if (depositResult && depositResult.result) {
            return null;
        }
        const msg = new ErrorMessage();
        if (options && options.bcFailed) {
            msg.en = _locale__WEBPACK_IMPORTED_MODULE_2__["PAYMENT_DEPOSIT_ERROR"].bcClient.en;
            msg.zh = _locale__WEBPACK_IMPORTED_MODULE_2__["PAYMENT_DEPOSIT_ERROR"].bcClient.zh;
            return msg;
        }
        if (depositResult && depositResult.orderId) {
            msg.en = _locale__WEBPACK_IMPORTED_MODULE_2__["PAYMENT_DEPOSIT_ERROR"].paymentProviderIntegration.en.replace('%{orderId}', depositResult.orderId);
            msg.zh = _locale__WEBPACK_IMPORTED_MODULE_2__["PAYMENT_DEPOSIT_ERROR"].paymentProviderIntegration.zh.replace('%{orderId}', depositResult.orderId);
            return msg;
        }
        msg.en = _locale__WEBPACK_IMPORTED_MODULE_2__["PAYMENT_DEPOSIT_ERROR"].noPaymentProvider.en;
        msg.zh = _locale__WEBPACK_IMPORTED_MODULE_2__["PAYMENT_DEPOSIT_ERROR"].noPaymentProvider.zh;
        return msg;
    }
    santitizeDeposit(depositRequest, depositResult) {
        var _a;
        depositResult.msg = depositResult.result ? "Success" : (_a = _errorCode__WEBPACK_IMPORTED_MODULE_3__["errorCodes"][depositResult.code]) === null || _a === void 0 ? void 0 : _a.msg;
        if (depositResult.paymentProviderName)
            delete depositResult.paymentProviderName;
        if (depositResult.errorCode)
            delete depositResult.errorCode;
        if (depositResult.errorMessage)
            delete depositResult.errorMessage;
        delete depositResult.errorFront;
        if (depositResult.result) {
            depositResult.code = 0;
        }
    }
    santitizeWithdraw(withdrawRequest, withdrawResult) {
        var _a;
        withdrawResult.msg = withdrawResult.result ? "Success" : (_a = _errorCode__WEBPACK_IMPORTED_MODULE_3__["errorCodes"][withdrawResult.code]) === null || _a === void 0 ? void 0 : _a.msg;
    }
};
ErrorService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [])
], ErrorService);



/***/ }),

/***/ "./apps/backend/src/app/error/errorCode.ts":
/*!*************************************************!*\
  !*** ./apps/backend/src/app/error/errorCode.ts ***!
  \*************************************************/
/*! exports provided: errorCodes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "errorCodes", function() { return errorCodes; });
const errorCodes = {
    100: {
        msg: "No payment provider available"
    },
    101: {
        msg: "Deposit payment provider could not find channel"
    },
    102: {
        msg: "Deposit payment provider could not find usdt protocol"
    },
    103: {
        msg: "Deposit payment provider could not create order"
    },
    104: {
        msg: "Deposit payment provider could find usdt rate"
    },
    105: {
        msg: "Payment provider deposit is failed"
    },
    106: {
        msg: "Payment provider deposit is failed internally"
    },
    107: {
        msg: "Withdraw request ip is invalid"
    },
    108: {
        msg: "Withdraw request sign is invalid"
    },
    109: {
        msg: "Withdraw payment provider is not available"
    },
    110: {
        msg: "Withdraw payment provider could not find channel"
    },
    111: {
        msg: "Payment provider withdraw is failed internally"
    },
    112: {
        msg: "Payment provider could not create order"
    },
    113: {
        msg: "Payment provider does not support this bank"
    },
    114: {
        msg: "Payment provider withdraw is failed"
    },
    115: {
        msg: "Payment provider could find usdt rate"
    },
    998: {
        msg: "Payment provider is failed with unknown error"
    },
    999: {
        msg: "Deposit payment provider is failed with unknown error"
    }
};


/***/ }),

/***/ "./apps/backend/src/app/locale.ts":
/*!****************************************!*\
  !*** ./apps/backend/src/app/locale.ts ***!
  \****************************************/
/*! exports provided: MSG_NO_WITHDRAWAL_ORDER, MSG_STREAM_NO_KSPORT_MATCH, MSG_STREAM_UNAVAILABLE, MSG_KSPORT_FETCH_ERROR, MSG_KSPORT_CANDIDATE_INTERAL_ERROR, MSG_KSPORT_NO_MATCHED_EVENT_ERROR, MSG_KSPORT_EXIST_CANDIDATE, MSG_KSPORT_NO_EXIST_CANDIDATE, MSG_KSPORT_CREATE_CANDIDATE_EVENT_ERROR, MSG_MSZF_REQUEST_SIGNERROR, MSG_MSZF_RESPONSE_SIGNERROR, MSG_MSZF_CALLBACK_SIGNERROR, PAYMENT_DEPOSIT_ERROR */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSG_NO_WITHDRAWAL_ORDER", function() { return MSG_NO_WITHDRAWAL_ORDER; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSG_STREAM_NO_KSPORT_MATCH", function() { return MSG_STREAM_NO_KSPORT_MATCH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSG_STREAM_UNAVAILABLE", function() { return MSG_STREAM_UNAVAILABLE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSG_KSPORT_FETCH_ERROR", function() { return MSG_KSPORT_FETCH_ERROR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSG_KSPORT_CANDIDATE_INTERAL_ERROR", function() { return MSG_KSPORT_CANDIDATE_INTERAL_ERROR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSG_KSPORT_NO_MATCHED_EVENT_ERROR", function() { return MSG_KSPORT_NO_MATCHED_EVENT_ERROR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSG_KSPORT_EXIST_CANDIDATE", function() { return MSG_KSPORT_EXIST_CANDIDATE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSG_KSPORT_NO_EXIST_CANDIDATE", function() { return MSG_KSPORT_NO_EXIST_CANDIDATE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSG_KSPORT_CREATE_CANDIDATE_EVENT_ERROR", function() { return MSG_KSPORT_CREATE_CANDIDATE_EVENT_ERROR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSG_MSZF_REQUEST_SIGNERROR", function() { return MSG_MSZF_REQUEST_SIGNERROR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSG_MSZF_RESPONSE_SIGNERROR", function() { return MSG_MSZF_RESPONSE_SIGNERROR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSG_MSZF_CALLBACK_SIGNERROR", function() { return MSG_MSZF_CALLBACK_SIGNERROR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PAYMENT_DEPOSIT_ERROR", function() { return PAYMENT_DEPOSIT_ERROR; });
const MSG_NO_WITHDRAWAL_ORDER = 'There is no order';
const MSG_STREAM_NO_KSPORT_MATCH = 'There is no ksport match';
const MSG_STREAM_UNAVAILABLE = 'Stream does not exist yet';
const MSG_KSPORT_FETCH_ERROR = 'Fetching ksport data has error';
const MSG_KSPORT_CANDIDATE_INTERAL_ERROR = 'Getting KSport candidate team has internal error';
const MSG_KSPORT_NO_MATCHED_EVENT_ERROR = 'There is no such matched event';
const MSG_KSPORT_EXIST_CANDIDATE = 'There is already candidate event';
const MSG_KSPORT_NO_EXIST_CANDIDATE = 'There is no exist candidate event';
const MSG_KSPORT_CREATE_CANDIDATE_EVENT_ERROR = 'Creating Candidate Event has error';
const MSG_MSZF_REQUEST_SIGNERROR = 'MSZF Request has invalid sign';
const MSG_MSZF_RESPONSE_SIGNERROR = 'MSZF Response has invalid sign';
const MSG_MSZF_CALLBACK_SIGNERROR = 'MSZF callback request is not valid';
const PAYMENT_DEPOSIT_ERROR = {
    bcClient: {
        en: 'Your account has not been added to our system yet.',
        zh: '',
    },
    paymentProviderIntegration: {
        en: ' Your money has not been deposited successfully. Your order number is %{orderId} please contact to customer service.',
        zh: '%{orderId}',
    },
    noPaymentProvider: {
        en: 'Sorry, Problem happened when depositing. Please try again later or contact to customer service.',
        zh: '',
    },
};


/***/ }),

/***/ "./apps/backend/src/app/middleware/filter.request.middleware.ts":
/*!**********************************************************************!*\
  !*** ./apps/backend/src/app/middleware/filter.request.middleware.ts ***!
  \**********************************************************************/
/*! exports provided: filterRequest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "filterRequest", function() { return filterRequest; });
function filterRequest(req, res, next) {
    if (req.headers['content-encoding'] &&
        (req.headers['content-encoding'].toUpperCase() === `UTF-8` ||
            req.headers['content-encoding'].toUpperCase() === `UTF8`)) {
        delete req.headers['content-encoding'];
    }
    next();
}


/***/ }),

/***/ "./apps/backend/src/app/models/bank.entity.ts":
/*!****************************************************!*\
  !*** ./apps/backend/src/app/models/bank.entity.ts ***!
  \****************************************************/
/*! exports provided: BankModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BankModel", function() { return BankModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__);


let BankModel = class BankModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Model"] {
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        autoIncrement: true,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], BankModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BankModel.prototype, "bankCode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BankModel.prototype, "bankName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].BOOLEAN,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], BankModel.prototype, "isAvailable", void 0);
BankModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Table"])({ tableName: 'bank', timestamps: false })
], BankModel);



/***/ }),

/***/ "./apps/backend/src/app/models/bcOrders.ts":
/*!*************************************************!*\
  !*** ./apps/backend/src/app/models/bcOrders.ts ***!
  \*************************************************/
/*! exports provided: BcOrdersModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BcOrdersModel", function() { return BcOrdersModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__);


let BcOrdersModel = class BcOrdersModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Model"] {
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        autoIncrement: true,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], BcOrdersModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        allowNull: false,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BcOrdersModel.prototype, "orderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        allowNull: false,
        defaultValue: 1,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], BcOrdersModel.prototype, "depositOrWithdrawable", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].BOOLEAN,
        allowNull: false,
        defaultValue: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], BcOrdersModel.prototype, "processed", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: true,
        defaultValue: '',
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BcOrdersModel.prototype, "logData", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BcOrdersModel.prototype, "status", void 0);
BcOrdersModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Table"])({ tableName: 'bcOrders' })
], BcOrdersModel);



/***/ }),

/***/ "./apps/backend/src/app/models/channel.locale.model.ts":
/*!*************************************************************!*\
  !*** ./apps/backend/src/app/models/channel.locale.model.ts ***!
  \*************************************************************/
/*! exports provided: ChannelLocaleModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChannelLocaleModel", function() { return ChannelLocaleModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _channel_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./channel.model */ "./apps/backend/src/app/models/channel.model.ts");
/* harmony import */ var _locale_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./locale.model */ "./apps/backend/src/app/models/locale.model.ts");
var _a;




let ChannelLocaleModel = class ChannelLocaleModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Model"] {
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].NUMBER,
        autoIncrement: true,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], ChannelLocaleModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["ForeignKey"])(() => _channel_model__WEBPACK_IMPORTED_MODULE_2__["ChannelModel"]),
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], ChannelLocaleModel.prototype, "channelId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["ForeignKey"])(() => _locale_model__WEBPACK_IMPORTED_MODULE_3__["LocaleModel"]),
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], ChannelLocaleModel.prototype, "localeId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], ChannelLocaleModel.prototype, "label", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["BelongsTo"])(() => _locale_model__WEBPACK_IMPORTED_MODULE_3__["LocaleModel"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof _locale_model__WEBPACK_IMPORTED_MODULE_3__["LocaleModel"] !== "undefined" && _locale_model__WEBPACK_IMPORTED_MODULE_3__["LocaleModel"]) === "function" ? _a : Object)
], ChannelLocaleModel.prototype, "locale", void 0);
ChannelLocaleModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Table"])({ tableName: 'channelLocale', timestamps: false })
], ChannelLocaleModel);



/***/ }),

/***/ "./apps/backend/src/app/models/channel.model.ts":
/*!******************************************************!*\
  !*** ./apps/backend/src/app/models/channel.model.ts ***!
  \******************************************************/
/*! exports provided: ChannelModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChannelModel", function() { return ChannelModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _payment_system_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./payment.system.model */ "./apps/backend/src/app/models/payment.system.model.ts");
var _a, _b;



let ChannelModel = class ChannelModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Model"] {
    // @HasMany(() => PaymentProviderChannelModel)
    // paymentProviderChannels: PaymentProviderChannelModel[];
    static prepareCreate(deposit) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () { });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].NUMBER,
        autoIncrement: true,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], ChannelModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], ChannelModel.prototype, "channelName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["ForeignKey"])(() => _payment_system_model__WEBPACK_IMPORTED_MODULE_2__["PaymentSystemModel"]),
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], ChannelModel.prototype, "fromPaymentSystemId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["ForeignKey"])(() => _payment_system_model__WEBPACK_IMPORTED_MODULE_2__["PaymentSystemModel"]),
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], ChannelModel.prototype, "toPaymentSystemId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        allowNull: false,
        defaultValue: 1,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], ChannelModel.prototype, "depositOrWithdrawable", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].DECIMAL,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], ChannelModel.prototype, "minAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].DECIMAL,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], ChannelModel.prototype, "maxAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["BelongsTo"])(() => _payment_system_model__WEBPACK_IMPORTED_MODULE_2__["PaymentSystemModel"], 'fromPaymentSystemId'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof _payment_system_model__WEBPACK_IMPORTED_MODULE_2__["PaymentSystemModel"] !== "undefined" && _payment_system_model__WEBPACK_IMPORTED_MODULE_2__["PaymentSystemModel"]) === "function" ? _a : Object)
], ChannelModel.prototype, "fromPaymentSystem", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["BelongsTo"])(() => _payment_system_model__WEBPACK_IMPORTED_MODULE_2__["PaymentSystemModel"], 'toPaymentSystemId'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_b = typeof _payment_system_model__WEBPACK_IMPORTED_MODULE_2__["PaymentSystemModel"] !== "undefined" && _payment_system_model__WEBPACK_IMPORTED_MODULE_2__["PaymentSystemModel"]) === "function" ? _b : Object)
], ChannelModel.prototype, "toPaymentSystem", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["BeforeCreate"],
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [ChannelModel]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], ChannelModel, "prepareCreate", null);
ChannelModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Table"])({ tableName: 'channel' })
], ChannelModel);



/***/ }),

/***/ "./apps/backend/src/app/models/deposit.order.model.ts":
/*!************************************************************!*\
  !*** ./apps/backend/src/app/models/deposit.order.model.ts ***!
  \************************************************************/
/*! exports provided: DepositOrderModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepositOrderModel", function() { return DepositOrderModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./payment.provider.channel.model */ "./apps/backend/src/app/models/payment.provider.channel.model.ts");
/* harmony import */ var _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./payment.provider.entity.model */ "./apps/backend/src/app/models/payment.provider.entity.model.ts");
var _a, _b, _c, _d;





let DepositOrderModel = class DepositOrderModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Model"] {
    static prepareCreate(deposit) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () { });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].UUIDV4,
        defaultValue: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].UUIDV4,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositOrderModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositOrderModel.prototype, "userId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].DATE,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof Date !== "undefined" && Date) === "function" ? _a : Object)
], DepositOrderModel.prototype, "date", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].DECIMAL,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositOrderModel.prototype, "amount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].DECIMAL,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositOrderModel.prototype, "usdtExchangeRate", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].INTEGER,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositOrderModel.prototype, "paymentProviderCardId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositOrderModel.prototype, "userName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositOrderModel.prototype, "last4Digit", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositOrderModel.prototype, "orderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: true,
        unique: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositOrderModel.prototype, "providerOrderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].NUMBER,
        allowNull: true,
        unique: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositOrderModel.prototype, "channelId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["ForeignKey"])(() => _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEntityModel"]),
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].INTEGER,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositOrderModel.prototype, "paymentProviderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["BelongsTo"])(() => _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEntityModel"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_b = typeof _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEntityModel"] !== "undefined" && _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEntityModel"]) === "function" ? _b : Object)
], DepositOrderModel.prototype, "paymentProviders", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["ForeignKey"])(() => _payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderChannelModel"]),
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].INTEGER,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositOrderModel.prototype, "paymentProviderChannelId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["BelongsTo"])(() => _payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderChannelModel"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_c = typeof _payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderChannelModel"] !== "undefined" && _payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderChannelModel"]) === "function" ? _c : Object)
], DepositOrderModel.prototype, "paymentProviderChannel", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_d = typeof _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["OrderStatusEnum"] !== "undefined" && _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["OrderStatusEnum"]) === "function" ? _d : Object)
], DepositOrderModel.prototype, "status", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: false,
        defaultValue: '',
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositOrderModel.prototype, "errorCode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: false,
        defaultValue: '',
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositOrderModel.prototype, "errorMessage", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["BeforeCreate"],
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [DepositOrderModel]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], DepositOrderModel, "prepareCreate", null);
DepositOrderModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Table"])({ tableName: 'deposit' })
], DepositOrderModel);



/***/ }),

/***/ "./apps/backend/src/app/models/deposit.pending.order.model.ts":
/*!********************************************************************!*\
  !*** ./apps/backend/src/app/models/deposit.pending.order.model.ts ***!
  \********************************************************************/
/*! exports provided: DepositPendingOrderModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepositPendingOrderModel", function() { return DepositPendingOrderModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./payment.provider.channel.model */ "./apps/backend/src/app/models/payment.provider.channel.model.ts");
/* harmony import */ var _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./payment.provider.entity.model */ "./apps/backend/src/app/models/payment.provider.entity.model.ts");
var _a, _b, _c, _d;





let DepositPendingOrderModel = class DepositPendingOrderModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Model"] {
    static prepareCreate(deposit) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () { });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].UUIDV4,
        defaultValue: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].UUIDV4,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositPendingOrderModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositPendingOrderModel.prototype, "orderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositPendingOrderModel.prototype, "userId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].DATE,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof Date !== "undefined" && Date) === "function" ? _a : Object)
], DepositPendingOrderModel.prototype, "date", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].DECIMAL,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositPendingOrderModel.prototype, "amount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].DECIMAL,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositPendingOrderModel.prototype, "usdtExchangeRate", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].INTEGER,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositPendingOrderModel.prototype, "paymentProviderCardId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositPendingOrderModel.prototype, "userName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositPendingOrderModel.prototype, "last4Digit", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: true,
        unique: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositPendingOrderModel.prototype, "providerOrderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].NUMBER,
        allowNull: true,
        unique: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositPendingOrderModel.prototype, "channelId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["ForeignKey"])(() => _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEntityModel"]),
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].INTEGER,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositPendingOrderModel.prototype, "paymentProviderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["BelongsTo"])(() => _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEntityModel"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_b = typeof _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEntityModel"] !== "undefined" && _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEntityModel"]) === "function" ? _b : Object)
], DepositPendingOrderModel.prototype, "paymentProviders", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["ForeignKey"])(() => _payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderChannelModel"]),
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].INTEGER,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositPendingOrderModel.prototype, "paymentProviderChannelId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["BelongsTo"])(() => _payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderChannelModel"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_c = typeof _payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderChannelModel"] !== "undefined" && _payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderChannelModel"]) === "function" ? _c : Object)
], DepositPendingOrderModel.prototype, "paymentProviderChannel", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_d = typeof _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["OrderStatusEnum"] !== "undefined" && _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["OrderStatusEnum"]) === "function" ? _d : Object)
], DepositPendingOrderModel.prototype, "status", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositPendingOrderModel.prototype, "hash", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: false,
        defaultValue: '',
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositPendingOrderModel.prototype, "errorCode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: false,
        defaultValue: '',
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositPendingOrderModel.prototype, "errorMessage", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["BeforeCreate"],
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [DepositPendingOrderModel]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], DepositPendingOrderModel, "prepareCreate", null);
DepositPendingOrderModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Table"])({ tableName: 'pendingDeposit' })
], DepositPendingOrderModel);



/***/ }),

/***/ "./apps/backend/src/app/models/locale.model.ts":
/*!*****************************************************!*\
  !*** ./apps/backend/src/app/models/locale.model.ts ***!
  \*****************************************************/
/*! exports provided: LocaleModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocaleModel", function() { return LocaleModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__);


let LocaleModel = class LocaleModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Model"] {
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].NUMBER,
        autoIncrement: true,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], LocaleModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], LocaleModel.prototype, "localeName", void 0);
LocaleModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Table"])({ tableName: 'locale', timestamps: false })
], LocaleModel);



/***/ }),

/***/ "./apps/backend/src/app/models/options.model.ts":
/*!******************************************************!*\
  !*** ./apps/backend/src/app/models/options.model.ts ***!
  \******************************************************/
/*! exports provided: OptionsModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OptionsModel", function() { return OptionsModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__);
var _a;


let OptionsModel = class OptionsModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Model"] {
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].UUIDV4,
        defaultValue: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].UUIDV4,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], OptionsModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        unique: true,
        defaultValue: '',
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], OptionsModel.prototype, "optName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].BLOB,
        allowNull: false,
        defaultValue: '',
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof Buffer !== "undefined" && Buffer) === "function" ? _a : Object)
], OptionsModel.prototype, "optValue", void 0);
OptionsModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Table"])({ tableName: 'options', timestamps: false })
], OptionsModel);



/***/ }),

/***/ "./apps/backend/src/app/models/payment.provider.bank.entity.ts":
/*!*********************************************************************!*\
  !*** ./apps/backend/src/app/models/payment.provider.bank.entity.ts ***!
  \*********************************************************************/
/*! exports provided: PaymentProviderBankModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderBankModel", function() { return PaymentProviderBankModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _bank_entity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bank.entity */ "./apps/backend/src/app/models/bank.entity.ts");
/* harmony import */ var _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./payment.provider.entity.model */ "./apps/backend/src/app/models/payment.provider.entity.model.ts");
var _a, _b;




let PaymentProviderBankModel = class PaymentProviderBankModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Model"] {
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        autoIncrement: true,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderBankModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["ForeignKey"])(() => _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderEntityModel"]),
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].NUMBER,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderBankModel.prototype, "paymentProviderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["ForeignKey"])(() => _bank_entity__WEBPACK_IMPORTED_MODULE_2__["BankModel"]),
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderBankModel.prototype, "bankId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderBankModel.prototype, "paymentProviderBankCode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderBankModel.prototype, "paymentProviderBankName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].BOOLEAN,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderBankModel.prototype, "isActive", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].BOOLEAN,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderBankModel.prototype, "isAvailable", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["BelongsTo"])(() => _bank_entity__WEBPACK_IMPORTED_MODULE_2__["BankModel"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof _bank_entity__WEBPACK_IMPORTED_MODULE_2__["BankModel"] !== "undefined" && _bank_entity__WEBPACK_IMPORTED_MODULE_2__["BankModel"]) === "function" ? _a : Object)
], PaymentProviderBankModel.prototype, "bank", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["BelongsTo"])(() => _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderEntityModel"], 'paymentProviderId'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_b = typeof _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderEntityModel"] !== "undefined" && _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderEntityModel"]) === "function" ? _b : Object)
], PaymentProviderBankModel.prototype, "paymentProvider", void 0);
PaymentProviderBankModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Table"])({ tableName: 'paymentProviderBank', timestamps: false })
], PaymentProviderBankModel);



/***/ }),

/***/ "./apps/backend/src/app/models/payment.provider.card.model.ts":
/*!********************************************************************!*\
  !*** ./apps/backend/src/app/models/payment.provider.card.model.ts ***!
  \********************************************************************/
/*! exports provided: PaymentProviderCardModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderCardModel", function() { return PaymentProviderCardModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _bank_entity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bank.entity */ "./apps/backend/src/app/models/bank.entity.ts");
/* harmony import */ var _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./payment.provider.entity.model */ "./apps/backend/src/app/models/payment.provider.entity.model.ts");
var _a, _b;




let PaymentProviderCardModel = class PaymentProviderCardModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Model"] {
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        autoIncrement: true,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderCardModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["ForeignKey"])(() => _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderEntityModel"]),
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].NUMBER,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderCardModel.prototype, "paymentProviderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["ForeignKey"])(() => _bank_entity__WEBPACK_IMPORTED_MODULE_2__["BankModel"]),
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderCardModel.prototype, "bankId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderCardModel.prototype, "bankAccountName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderCardModel.prototype, "bankAccountNumber", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderCardModel.prototype, "province", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderCardModel.prototype, "city", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderCardModel.prototype, "branch", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].DECIMAL,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderCardModel.prototype, "maxDailyAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].DECIMAL,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderCardModel.prototype, "minAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].DECIMAL,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderCardModel.prototype, "maxAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].BOOLEAN,
        allowNull: false,
        defaultValue: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderCardModel.prototype, "active", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["BelongsTo"])(() => _bank_entity__WEBPACK_IMPORTED_MODULE_2__["BankModel"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof _bank_entity__WEBPACK_IMPORTED_MODULE_2__["BankModel"] !== "undefined" && _bank_entity__WEBPACK_IMPORTED_MODULE_2__["BankModel"]) === "function" ? _a : Object)
], PaymentProviderCardModel.prototype, "bank", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["BelongsTo"])(() => _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderEntityModel"], 'paymentProviderId'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_b = typeof _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderEntityModel"] !== "undefined" && _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderEntityModel"]) === "function" ? _b : Object)
], PaymentProviderCardModel.prototype, "paymentProvider", void 0);
PaymentProviderCardModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Table"])({ tableName: 'paymentProviderCard', timestamps: false })
], PaymentProviderCardModel);



/***/ }),

/***/ "./apps/backend/src/app/models/payment.provider.channel.model.ts":
/*!***********************************************************************!*\
  !*** ./apps/backend/src/app/models/payment.provider.channel.model.ts ***!
  \***********************************************************************/
/*! exports provided: PaymentProviderChannelModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderChannelModel", function() { return PaymentProviderChannelModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./payment.provider.entity.model */ "./apps/backend/src/app/models/payment.provider.entity.model.ts");
/* harmony import */ var _channel_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./channel.model */ "./apps/backend/src/app/models/channel.model.ts");
var _a, _b, _c, _d;




let PaymentProviderChannelModel = class PaymentProviderChannelModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Model"] {
    static prepareCreate(deposit) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () { });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        autoIncrement: true,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderChannelModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["ForeignKey"])(() => _channel_model__WEBPACK_IMPORTED_MODULE_3__["ChannelModel"]),
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderChannelModel.prototype, "channelId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["ForeignKey"])(() => _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_2__["PaymentProviderEntityModel"]),
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderChannelModel.prototype, "paymentProviderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderChannelModel.prototype, "providerChannelName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].DECIMAL,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderChannelModel.prototype, "providerMinAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].DECIMAL,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderChannelModel.prototype, "providerMaxAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].BOOLEAN,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderChannelModel.prototype, "isActive", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].BOOLEAN,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderChannelModel.prototype, "isAvailable", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].BOOLEAN,
        allowNull: false,
        defaultValue: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderChannelModel.prototype, "isFrozen", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].DATE,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof Date !== "undefined" && Date) === "function" ? _a : Object)
], PaymentProviderChannelModel.prototype, "frozenCheckedDate", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].BOOLEAN,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderChannelModel.prototype, "isMinMaxAuto", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].DATE,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_b = typeof Date !== "undefined" && Date) === "function" ? _b : Object)
], PaymentProviderChannelModel.prototype, "testedAt", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["BelongsTo"])(() => _channel_model__WEBPACK_IMPORTED_MODULE_3__["ChannelModel"], 'channelId'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_c = typeof _channel_model__WEBPACK_IMPORTED_MODULE_3__["ChannelModel"] !== "undefined" && _channel_model__WEBPACK_IMPORTED_MODULE_3__["ChannelModel"]) === "function" ? _c : Object)
], PaymentProviderChannelModel.prototype, "channel", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["BelongsTo"])(() => _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_2__["PaymentProviderEntityModel"], 'paymentProviderId'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_d = typeof _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_2__["PaymentProviderEntityModel"] !== "undefined" && _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_2__["PaymentProviderEntityModel"]) === "function" ? _d : Object)
], PaymentProviderChannelModel.prototype, "paymentProvider", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["BeforeCreate"],
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [PaymentProviderChannelModel]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], PaymentProviderChannelModel, "prepareCreate", null);
PaymentProviderChannelModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Table"])({ tableName: 'paymentProviderChannel' })
], PaymentProviderChannelModel);



/***/ }),

/***/ "./apps/backend/src/app/models/payment.provider.entity.model.ts":
/*!**********************************************************************!*\
  !*** ./apps/backend/src/app/models/payment.provider.entity.model.ts ***!
  \**********************************************************************/
/*! exports provided: PaymentProviderEntityModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderEntityModel", function() { return PaymentProviderEntityModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__);


let PaymentProviderEntityModel = class PaymentProviderEntityModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Model"] {
    static prepareCreate(deposit) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () { });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].NUMBER,
        autoIncrement: true,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderEntityModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderEntityModel.prototype, "providerName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].BOOLEAN,
        defaultValue: true,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderEntityModel.prototype, "isDepositSupport", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].BOOLEAN,
        defaultValue: true,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderEntityModel.prototype, "isWithdrawalSupport", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].BOOLEAN,
        defaultValue: true,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderEntityModel.prototype, "isOnlyCardSupport", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].BOOLEAN,
        defaultValue: false,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderEntityModel.prototype, "needsDepositPhoneNumber", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].BOOLEAN,
        defaultValue: false,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderEntityModel.prototype, "needsWithdrawPhoneNumber", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].BOOLEAN,
        defaultValue: false,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderEntityModel.prototype, "needsDepositBankCode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["BeforeCreate"],
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [PaymentProviderEntityModel]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], PaymentProviderEntityModel, "prepareCreate", null);
PaymentProviderEntityModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Table"])({ tableName: 'paymentProviders' })
], PaymentProviderEntityModel);



/***/ }),

/***/ "./apps/backend/src/app/models/payment.provider.usdt.protocol.model.ts":
/*!*****************************************************************************!*\
  !*** ./apps/backend/src/app/models/payment.provider.usdt.protocol.model.ts ***!
  \*****************************************************************************/
/*! exports provided: PaymentProviderUsdtProtocolModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderUsdtProtocolModel", function() { return PaymentProviderUsdtProtocolModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./payment.provider.entity.model */ "./apps/backend/src/app/models/payment.provider.entity.model.ts");
/* harmony import */ var _usdtProtocol__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./usdtProtocol */ "./apps/backend/src/app/models/usdtProtocol.ts");
var _a, _b;




let PaymentProviderUsdtProtocolModel = class PaymentProviderUsdtProtocolModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Model"] {
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        autoIncrement: true,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderUsdtProtocolModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["ForeignKey"])(() => _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_2__["PaymentProviderEntityModel"]),
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].NUMBER,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderUsdtProtocolModel.prototype, "paymentProviderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["ForeignKey"])(() => _usdtProtocol__WEBPACK_IMPORTED_MODULE_3__["UsdtProtocolModel"]),
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderUsdtProtocolModel.prototype, "usdtProtoId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderUsdtProtocolModel.prototype, "providerUsdtProtoName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderUsdtProtocolModel.prototype, "providerUsdtProtoCurrency", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].BOOLEAN,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderUsdtProtocolModel.prototype, "isAvailable", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["BelongsTo"])(() => _usdtProtocol__WEBPACK_IMPORTED_MODULE_3__["UsdtProtocolModel"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof _usdtProtocol__WEBPACK_IMPORTED_MODULE_3__["UsdtProtocolModel"] !== "undefined" && _usdtProtocol__WEBPACK_IMPORTED_MODULE_3__["UsdtProtocolModel"]) === "function" ? _a : Object)
], PaymentProviderUsdtProtocolModel.prototype, "usdtProtocol", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["BelongsTo"])(() => _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_2__["PaymentProviderEntityModel"], 'paymentProviderId'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_b = typeof _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_2__["PaymentProviderEntityModel"] !== "undefined" && _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_2__["PaymentProviderEntityModel"]) === "function" ? _b : Object)
], PaymentProviderUsdtProtocolModel.prototype, "paymentProvider", void 0);
PaymentProviderUsdtProtocolModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Table"])({ tableName: 'paymentProviderUsdtProtocol', timestamps: false })
], PaymentProviderUsdtProtocolModel);



/***/ }),

/***/ "./apps/backend/src/app/models/payment.system.locale.model.ts":
/*!********************************************************************!*\
  !*** ./apps/backend/src/app/models/payment.system.locale.model.ts ***!
  \********************************************************************/
/*! exports provided: PaymentSystemLocaleModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentSystemLocaleModel", function() { return PaymentSystemLocaleModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _payment_system_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./payment.system.model */ "./apps/backend/src/app/models/payment.system.model.ts");
/* harmony import */ var _locale_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./locale.model */ "./apps/backend/src/app/models/locale.model.ts");
var _a;




let PaymentSystemLocaleModel = class PaymentSystemLocaleModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Model"] {
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].NUMBER,
        autoIncrement: true,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentSystemLocaleModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["ForeignKey"])(() => _payment_system_model__WEBPACK_IMPORTED_MODULE_2__["PaymentSystemModel"]),
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentSystemLocaleModel.prototype, "paymentSystemId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["ForeignKey"])(() => _locale_model__WEBPACK_IMPORTED_MODULE_3__["LocaleModel"]),
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentSystemLocaleModel.prototype, "localeId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentSystemLocaleModel.prototype, "label", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["BelongsTo"])(() => _locale_model__WEBPACK_IMPORTED_MODULE_3__["LocaleModel"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof _locale_model__WEBPACK_IMPORTED_MODULE_3__["LocaleModel"] !== "undefined" && _locale_model__WEBPACK_IMPORTED_MODULE_3__["LocaleModel"]) === "function" ? _a : Object)
], PaymentSystemLocaleModel.prototype, "locale", void 0);
PaymentSystemLocaleModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Table"])({ tableName: 'paymentSystemLocale', timestamps: false })
], PaymentSystemLocaleModel);



/***/ }),

/***/ "./apps/backend/src/app/models/payment.system.model.ts":
/*!*************************************************************!*\
  !*** ./apps/backend/src/app/models/payment.system.model.ts ***!
  \*************************************************************/
/*! exports provided: PaymentSystemModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentSystemModel", function() { return PaymentSystemModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__);


//import { ChannelModel } from './channel.model';
let PaymentSystemModel = class PaymentSystemModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Model"] {
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].NUMBER,
        autoIncrement: true,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentSystemModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].BOOLEAN,
        allowNull: false,
        defaultValue: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentSystemModel.prototype, "isBank", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentSystemModel.prototype, "paymentSystemName", void 0);
PaymentSystemModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Table"])({ tableName: 'paymentSystem', timestamps: false })
], PaymentSystemModel);



/***/ }),

/***/ "./apps/backend/src/app/models/test.entity.ts":
/*!****************************************************!*\
  !*** ./apps/backend/src/app/models/test.entity.ts ***!
  \****************************************************/
/*! exports provided: TestModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TestModel", function() { return TestModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__);


//import { Test2Model } from './test2.entity';
let TestModel = class TestModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Model"] {
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].UUIDV4,
        defaultValue: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].UUIDV4,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], TestModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], TestModel.prototype, "a", void 0);
TestModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Table"])({ tableName: 'test', timestamps: true })
], TestModel);



/***/ }),

/***/ "./apps/backend/src/app/models/usdtProtocol.ts":
/*!*****************************************************!*\
  !*** ./apps/backend/src/app/models/usdtProtocol.ts ***!
  \*****************************************************/
/*! exports provided: UsdtProtocolModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UsdtProtocolModel", function() { return UsdtProtocolModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__);


let UsdtProtocolModel = class UsdtProtocolModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Model"] {
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        autoIncrement: true,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], UsdtProtocolModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UsdtProtocolModel.prototype, "usdtProtoName", void 0);
UsdtProtocolModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Table"])({ tableName: 'usdtProtocol', timestamps: false })
], UsdtProtocolModel);



/***/ }),

/***/ "./apps/backend/src/app/models/withdraw.order.model.ts":
/*!*************************************************************!*\
  !*** ./apps/backend/src/app/models/withdraw.order.model.ts ***!
  \*************************************************************/
/*! exports provided: WithdrawOrderModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WithdrawOrderModel", function() { return WithdrawOrderModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./payment.provider.entity.model */ "./apps/backend/src/app/models/payment.provider.entity.model.ts");
var _a, _b;



let WithdrawOrderModel = class WithdrawOrderModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Model"] {
    static prepareCreate(withdraw) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () { });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].UUIDV4,
        defaultValue: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].UUIDV4,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderModel.prototype, "orderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderModel.prototype, "userId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].DATE,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof Date !== "undefined" && Date) === "function" ? _a : Object)
], WithdrawOrderModel.prototype, "date", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].DECIMAL,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], WithdrawOrderModel.prototype, "amount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderModel.prototype, "clientOrderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: true,
        unique: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderModel.prototype, "providerOrderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["ForeignKey"])(() => _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_2__["PaymentProviderEntityModel"]),
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], WithdrawOrderModel.prototype, "paymentProviderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["BelongsTo"])(() => _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_2__["PaymentProviderEntityModel"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_b = typeof _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_2__["PaymentProviderEntityModel"] !== "undefined" && _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_2__["PaymentProviderEntityModel"]) === "function" ? _b : Object)
], WithdrawOrderModel.prototype, "paymentProviders", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderModel.prototype, "currency", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        defaultValue: '',
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderModel.prototype, "hashcode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], WithdrawOrderModel.prototype, "bankId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderModel.prototype, "bankAccountName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderModel.prototype, "bankAccountNumber", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderModel.prototype, "province", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderModel.prototype, "city", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderModel.prototype, "branch", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderModel.prototype, "userName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderModel.prototype, "countryCallingCode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderModel.prototype, "phoneNumber", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderModel.prototype, "status", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        defaultValue: '',
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderModel.prototype, "errorCode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        defaultValue: '',
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderModel.prototype, "errorMessage", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["BeforeCreate"],
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [WithdrawOrderModel]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], WithdrawOrderModel, "prepareCreate", null);
WithdrawOrderModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Table"])({ tableName: 'withdraw' })
], WithdrawOrderModel);



/***/ }),

/***/ "./apps/backend/src/app/models/withdraw.pending.order.model.ts":
/*!*********************************************************************!*\
  !*** ./apps/backend/src/app/models/withdraw.pending.order.model.ts ***!
  \*********************************************************************/
/*! exports provided: WithdrawPendingOrderModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WithdrawPendingOrderModel", function() { return WithdrawPendingOrderModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./payment.provider.entity.model */ "./apps/backend/src/app/models/payment.provider.entity.model.ts");
var _a, _b;



let WithdrawPendingOrderModel = class WithdrawPendingOrderModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Model"] {
    static prepareCreate(withdrawPending) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () { });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].UUIDV4,
        defaultValue: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].UUIDV4,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderModel.prototype, "orderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderModel.prototype, "userId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].DATE,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof Date !== "undefined" && Date) === "function" ? _a : Object)
], WithdrawPendingOrderModel.prototype, "date", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].DECIMAL,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], WithdrawPendingOrderModel.prototype, "amount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderModel.prototype, "clientOrderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: true,
        unique: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderModel.prototype, "providerOrderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["ForeignKey"])(() => _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_2__["PaymentProviderEntityModel"]),
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], WithdrawPendingOrderModel.prototype, "paymentProviderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["BelongsTo"])(() => _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_2__["PaymentProviderEntityModel"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_b = typeof _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_2__["PaymentProviderEntityModel"] !== "undefined" && _payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_2__["PaymentProviderEntityModel"]) === "function" ? _b : Object)
], WithdrawPendingOrderModel.prototype, "paymentProviders", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderModel.prototype, "currency", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderModel.prototype, "hashcode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], WithdrawPendingOrderModel.prototype, "bankId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderModel.prototype, "bankAccountName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderModel.prototype, "bankAccountNumber", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderModel.prototype, "province", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderModel.prototype, "city", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderModel.prototype, "branch", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderModel.prototype, "userName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderModel.prototype, "countryCallingCode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderModel.prototype, "phoneNumber", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderModel.prototype, "status", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        defaultValue: '',
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderModel.prototype, "errorCode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        defaultValue: '',
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderModel.prototype, "errorMessage", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["BeforeCreate"],
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [WithdrawPendingOrderModel]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], WithdrawPendingOrderModel, "prepareCreate", null);
WithdrawPendingOrderModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Table"])({ tableName: 'pendingWithdraw' })
], WithdrawPendingOrderModel);



/***/ }),

/***/ "./apps/backend/src/app/notify/dto/notify.get.request.dto.ts":
/*!*******************************************************************!*\
  !*** ./apps/backend/src/app/notify/dto/notify.get.request.dto.ts ***!
  \*******************************************************************/
/*! exports provided: OrderLatest, NotifyGetRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OrderLatest", function() { return OrderLatest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotifyGetRequestDto", function() { return NotifyGetRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_3__);




class OrderLatest {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], OrderLatest.prototype, "date", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsInt"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], OrderLatest.prototype, "nums", void 0);
class NotifyGetRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        type: OrderLatest,
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["ValidateNested"])({ each: true }),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Type"])(() => OrderLatest),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", OrderLatest)
], NotifyGetRequestDto.prototype, "depositOrderLatest", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        type: OrderLatest,
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["ValidateNested"])({ each: true }),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Type"])(() => OrderLatest),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", OrderLatest)
], NotifyGetRequestDto.prototype, "withdrawOrderLatest", void 0);


/***/ }),

/***/ "./apps/backend/src/app/notify/notify.controller.ts":
/*!**********************************************************!*\
  !*** ./apps/backend/src/app/notify/notify.controller.ts ***!
  \**********************************************************/
/*! exports provided: NotifyController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotifyController", function() { return NotifyController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../auth/jwt-auth.guard */ "./apps/backend/src/app/auth/jwt-auth.guard.ts");
/* harmony import */ var _dto_notify_get_request_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dto/notify.get.request.dto */ "./apps/backend/src/app/notify/dto/notify.get.request.dto.ts");
/* harmony import */ var _notify_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./notify.service */ "./apps/backend/src/app/notify/notify.service.ts");
var _a, _b;







let NotifyController = class NotifyController {
    constructor(notifyService) {
        this.notifyService = notifyService;
    }
    gets(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.notifyService.gets(request);
        });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].getNotify),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _dto_notify_get_request_dto__WEBPACK_IMPORTED_MODULE_5__["NotifyGetRequestDto"] !== "undefined" && _dto_notify_get_request_dto__WEBPACK_IMPORTED_MODULE_5__["NotifyGetRequestDto"]) === "function" ? _a : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], NotifyController.prototype, "gets", null);
NotifyController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].notify),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].notifyEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_b = typeof _notify_service__WEBPACK_IMPORTED_MODULE_6__["NotifyService"] !== "undefined" && _notify_service__WEBPACK_IMPORTED_MODULE_6__["NotifyService"]) === "function" ? _b : Object])
], NotifyController);



/***/ }),

/***/ "./apps/backend/src/app/notify/notify.module.ts":
/*!******************************************************!*\
  !*** ./apps/backend/src/app/notify/notify.module.ts ***!
  \******************************************************/
/*! exports provided: NotifyModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotifyModule", function() { return NotifyModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _notify_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./notify.controller */ "./apps/backend/src/app/notify/notify.controller.ts");
/* harmony import */ var _notify_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./notify.service */ "./apps/backend/src/app/notify/notify.service.ts");





let NotifyModule = class NotifyModule {
};
NotifyModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["SequelizeModule"].forFeature([])],
        providers: [_notify_service__WEBPACK_IMPORTED_MODULE_4__["NotifyService"]],
        controllers: [_notify_controller__WEBPACK_IMPORTED_MODULE_3__["NotifyController"]],
        exports: [_notify_service__WEBPACK_IMPORTED_MODULE_4__["NotifyService"]],
    })
], NotifyModule);



/***/ }),

/***/ "./apps/backend/src/app/notify/notify.service.ts":
/*!*******************************************************!*\
  !*** ./apps/backend/src/app/notify/notify.service.ts ***!
  \*******************************************************/
/*! exports provided: NotifyService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotifyService", function() { return NotifyService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sequelize */ "sequelize");
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(sequelize__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_4__);
var _a;





let NotifyService = class NotifyService {
    constructor(sequelize) {
        this.sequelize = sequelize;
    }
    gets(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = {
                result: false,
                data: {},
            };
            let sql = '';
            let items = [];
            if (request.depositOrderLatest) {
                sql = `
      select 
      count(*) "cnt"
      from (
        select 
            pd.id , pd."userId" , pd."date" , pd."orderId" , pd."providerOrderId" , pd.amount , pd.status , 
            pd."channelId" , pd."paymentProviderId" , c2."fromPaymentSystemId" ,
            pd."paymentProviderChannelId", pd."userName", pd."last4Digit",
            pp."providerName", pp."isDepositSupport" , pp."isWithdrawalSupport", pp."isOnlyCardSupport",
            ppc."providerChannelName" , ppc."providerMinAmount" , ppc."providerMaxAmount", ppc."isActive" , ppc."isAvailable" ,
            c2."channelName" , c2."depositOrWithdrawable" , c2."toPaymentSystemId" 
          from  "pendingDeposit" pd 
          left join channel c2 on pd."channelId"  = c2.id
          left join "paymentProviders" pp on pd."paymentProviderId"  = pp.id 
          left join "paymentProviderChannel" ppc on pd."paymentProviderChannelId" = ppc.id 
          where pd."date" >= to_date('${request.depositOrderLatest.date}', 'MM/DD/YYYY' )
        union
        select
            d2.id , d2."userId" , d2."date" , d2."orderId" , d2."providerOrderId" , d2.amount , d2.status , 
            d2."channelId" , d2."paymentProviderId" , c3."fromPaymentSystemId" ,
            d2."paymentProviderChannelId", d2."userName", d2."last4Digit",
            pp."providerName", pp."isDepositSupport" , pp."isWithdrawalSupport", pp."isOnlyCardSupport",
            ppc."providerChannelName" , ppc."providerMinAmount" , ppc."providerMaxAmount", ppc."isActive" , ppc."isAvailable" ,
            c3."channelName" , c3."depositOrWithdrawable" , c3."toPaymentSystemId" 
          from deposit d2 
          left join channel c3 on d2."channelId"  = c3.id 
          left join "paymentProviders" pp on d2."paymentProviderId"  = pp.id 
          left join "paymentProviderChannel" ppc on d2."paymentProviderChannelId" = ppc.id
          where d2."date" >= to_date('${request.depositOrderLatest.date}', 'MM/DD/YYYY' ) 
      ) a`;
                items = yield this.sequelize.query(sql, {
                    type: sequelize__WEBPACK_IMPORTED_MODULE_3__["QueryTypes"].SELECT,
                });
                const numDepositsLatest = numeral__WEBPACK_IMPORTED_MODULE_4__(items[0]['cnt']).value();
                response.data.numsDepositNew =
                    numDepositsLatest - request.depositOrderLatest.nums;
            }
            if (request.withdrawOrderLatest) {
                sql = `
      select 
        count(*) "cnt"
        from (
          select 
              pw.id , pw."userId" , pw."date" , pw."orderId" , pw."clientOrderId" , pw.amount ,
              pw."providerOrderId" , pw.status ,
              pw."paymentProviderId" , pp."providerName", pp."isDepositSupport" , pp."isWithdrawalSupport", pp."isOnlyCardSupport",
              pw.currency , pw.hashcode , pw."errorCode" , pw."errorMessage" ,
              pw."bankId", pw."bankAccountName", pw."bankAccountNumber", 
              pw."province", pw."city", pw."branch",
              pw."userName", pw."phoneNumber", pw."countryCallingCode",
              ppb."paymentProviderBankCode" , ppb."paymentProviderBankName" , ppb.id "paymentProviderBankId",
              pw."currency", bk."bankName", bk."bankCode"
            from "pendingWithdraw" pw 
            left join "paymentProviders" pp on pw."paymentProviderId" = pp.id 
            left join "paymentProviderBank" ppb on pw."paymentProviderId" =  ppb."paymentProviderId" AND pw."bankId" = ppb."bankId"
            left join "bank" bk on bk."id" = ppb."bankId"
            where pw."date" >= to_date('${request.withdrawOrderLatest.date}', 'MM/DD/YYYY' )
          union
          select
              w.id, w."userId", w."date" , w."orderId" , w."clientOrderId" , w.amount ,
              w."providerOrderId" , w.status ,
              w."paymentProviderId", pp."providerName", pp."isDepositSupport" , pp."isWithdrawalSupport", pp."isOnlyCardSupport",
              w.currency , w.hashcode , w."errorCode" , w."errorMessage" ,
              w."bankId", w."bankAccountName", w."bankAccountNumber", 
              w."province", w."city", w."branch",
              w."userName", w."phoneNumber", w."countryCallingCode",
              ppb."paymentProviderBankCode" , ppb."paymentProviderBankName" , ppb.id "paymentProviderBankId",
              w."currency", bk."bankName", bk."bankCode"
            from withdraw w 
            left join "paymentProviders" pp on w."paymentProviderId" = pp.id
            left join "paymentProviderBank" ppb on w."paymentProviderId" =  ppb."paymentProviderId" AND w."bankId" = ppb."bankId"
            left join "bank" bk on bk."id" = ppb."bankId"
            where w."date" >= to_date('${request.withdrawOrderLatest.date}', 'MM/DD/YYYY' )
          order by "date" desc, "userId", "id"
      ) a`;
                items = yield this.sequelize.query(sql, {
                    type: sequelize__WEBPACK_IMPORTED_MODULE_3__["QueryTypes"].SELECT,
                });
                const numWithdrawsLatest = numeral__WEBPACK_IMPORTED_MODULE_4__(items[0]['cnt']).value();
                response.data.numsWithdrawNew =
                    numWithdrawsLatest - request.withdrawOrderLatest.nums;
            }
            response.result = true;
            return response;
        });
    }
};
NotifyService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Sequelize"]) === "function" ? _a : Object])
], NotifyService);



/***/ }),

/***/ "./apps/backend/src/app/options/dto/options.update.request.dto.ts":
/*!************************************************************************!*\
  !*** ./apps/backend/src/app/options/dto/options.update.request.dto.ts ***!
  \************************************************************************/
/*! exports provided: OptionsUpdateRequestItem, OptionsUpdateRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OptionsUpdateRequestItem", function() { return OptionsUpdateRequestItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OptionsUpdateRequestDto", function() { return OptionsUpdateRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);




class OptionsUpdateRequestItem {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], OptionsUpdateRequestItem.prototype, "optName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Object)
], OptionsUpdateRequestItem.prototype, "optValue", void 0);
class OptionsUpdateRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        type: [OptionsUpdateRequestItem],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["ValidateNested"])({ each: true }),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Type"])(() => OptionsUpdateRequestItem),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Array)
], OptionsUpdateRequestDto.prototype, "options", void 0);


/***/ }),

/***/ "./apps/backend/src/app/options/dto/options.update.response.dto.ts":
/*!*************************************************************************!*\
  !*** ./apps/backend/src/app/options/dto/options.update.response.dto.ts ***!
  \*************************************************************************/
/*! exports provided: OptionsUpdateResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OptionsUpdateResponseDto", function() { return OptionsUpdateResponseDto; });
class OptionsUpdateResponseDto {
}


/***/ }),

/***/ "./apps/backend/src/app/options/dto/update-option.dto.ts":
/*!***************************************************************!*\
  !*** ./apps/backend/src/app/options/dto/update-option.dto.ts ***!
  \***************************************************************/
/*! exports provided: UpdateOptionDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateOptionDto", function() { return UpdateOptionDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);



class UpdateOptionDto {
    static updateRequestFactory(item, requestItem) {
        if (requestItem.optValue !== undefined) {
            item.optValue = Buffer.from(`${requestItem.optValue}`);
        }
        return item;
    }
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], UpdateOptionDto.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], UpdateOptionDto.prototype, "isActive", void 0);


/***/ }),

/***/ "./apps/backend/src/app/options/options.controller.ts":
/*!************************************************************!*\
  !*** ./apps/backend/src/app/options/options.controller.ts ***!
  \************************************************************/
/*! exports provided: OptionsController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OptionsController", function() { return OptionsController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../auth/jwt-auth.guard */ "./apps/backend/src/app/auth/jwt-auth.guard.ts");
/* harmony import */ var _dto_options_update_request_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dto/options.update.request.dto */ "./apps/backend/src/app/options/dto/options.update.request.dto.ts");
/* harmony import */ var _options_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./options.service */ "./apps/backend/src/app/options/options.service.ts");
var _a, _b;







let OptionsController = class OptionsController {
    constructor(optionsService) {
        this.optionsService = optionsService;
    }
    getsGeneral() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.optionsService.findAllGeneral();
        });
    }
    updateGeneral(updateRequestDto) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.optionsService.updateByRequest(updateRequestDto);
        });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Get"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].getOptionsGeneral),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", []),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], OptionsController.prototype, "getsGeneral", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].updateOptionsGeneral),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _dto_options_update_request_dto__WEBPACK_IMPORTED_MODULE_5__["OptionsUpdateRequestDto"] !== "undefined" && _dto_options_update_request_dto__WEBPACK_IMPORTED_MODULE_5__["OptionsUpdateRequestDto"]) === "function" ? _a : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], OptionsController.prototype, "updateGeneral", null);
OptionsController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].options),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].optionsEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_b = typeof _options_service__WEBPACK_IMPORTED_MODULE_6__["OptionsService"] !== "undefined" && _options_service__WEBPACK_IMPORTED_MODULE_6__["OptionsService"]) === "function" ? _b : Object])
], OptionsController);



/***/ }),

/***/ "./apps/backend/src/app/options/options.module.ts":
/*!********************************************************!*\
  !*** ./apps/backend/src/app/options/options.module.ts ***!
  \********************************************************/
/*! exports provided: OptionsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OptionsModule", function() { return OptionsModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_options_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/options.model */ "./apps/backend/src/app/models/options.model.ts");
/* harmony import */ var _options_controller__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./options.controller */ "./apps/backend/src/app/options/options.controller.ts");
/* harmony import */ var _options_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./options.service */ "./apps/backend/src/app/options/options.service.ts");






let OptionsModule = class OptionsModule {
};
OptionsModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["SequelizeModule"].forFeature([_models_options_model__WEBPACK_IMPORTED_MODULE_3__["OptionsModel"]])],
        providers: [_options_service__WEBPACK_IMPORTED_MODULE_5__["OptionsService"]],
        controllers: [_options_controller__WEBPACK_IMPORTED_MODULE_4__["OptionsController"]],
        exports: [_options_service__WEBPACK_IMPORTED_MODULE_5__["OptionsService"]],
    })
], OptionsModule);



/***/ }),

/***/ "./apps/backend/src/app/options/options.service.ts":
/*!*********************************************************!*\
  !*** ./apps/backend/src/app/options/options.service.ts ***!
  \*********************************************************/
/*! exports provided: OptionsKeyGeneralEnum, OptionsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OptionsKeyGeneralEnum", function() { return OptionsKeyGeneralEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OptionsService", function() { return OptionsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _models_options_model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../models/options.model */ "./apps/backend/src/app/models/options.model.ts");
/* harmony import */ var _dto_options_update_response_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dto/options.update.response.dto */ "./apps/backend/src/app/options/dto/options.update.response.dto.ts");
/* harmony import */ var _dto_update_option_dto__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./dto/update-option.dto */ "./apps/backend/src/app/options/dto/update-option.dto.ts");
var _a;








var OptionsKeyGeneralEnum;
(function (OptionsKeyGeneralEnum) {
    OptionsKeyGeneralEnum["EuroCupAmount"] = "euroCupAmount";
    OptionsKeyGeneralEnum["WithdrawDefaultMinAmount"] = "withdrawDefaultMinAmount";
    OptionsKeyGeneralEnum["WithdrawDefaultMaxAmount"] = "withdrawDefaultMaxAmount";
    OptionsKeyGeneralEnum["DailyMaxNumWithdraw"] = "dailyMaxNumWithdraw";
    OptionsKeyGeneralEnum["DailyMaxAmountWithdraw"] = "dailyMaxAmountWithdraw";
})(OptionsKeyGeneralEnum || (OptionsKeyGeneralEnum = {}));
let OptionsService = class OptionsService {
    constructor(sequelize, optionsRepository) {
        this.sequelize = sequelize;
        this.optionsRepository = optionsRepository;
    }
    findOne(options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.optionsRepository.findOne(options);
        });
    }
    findAll(options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.optionsRepository.findAll(options);
        });
    }
    findById(bankId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.optionsRepository.findByPk(bankId);
        });
    }
    findAllGeneral() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const euroCupAmountValue = yield this.optionsRepository.findOne({
                where: { optName: OptionsKeyGeneralEnum.EuroCupAmount },
            });
            const dailyMaxAmountWithdrawValue = yield this.optionsRepository.findOne({
                where: { optName: OptionsKeyGeneralEnum.DailyMaxAmountWithdraw },
            });
            const dailyMaxNumWithdrawValue = yield this.optionsRepository.findOne({
                where: { optName: OptionsKeyGeneralEnum.DailyMaxNumWithdraw },
            });
            const withdrawDefaultMaxAmountValue = yield this.optionsRepository.findOne({
                where: { optName: OptionsKeyGeneralEnum.WithdrawDefaultMaxAmount },
            });
            const withdrawDefaultMinAmountValue = yield this.optionsRepository.findOne({
                where: { optName: OptionsKeyGeneralEnum.WithdrawDefaultMinAmount },
            });
            return {
                euroCupAmount: numeral__WEBPACK_IMPORTED_MODULE_3__(euroCupAmountValue.optValue.toString('utf8')).value(),
                dailyMaxAmountWithdraw: numeral__WEBPACK_IMPORTED_MODULE_3__(dailyMaxAmountWithdrawValue.optValue.toString('utf8')).value(),
                dailyMaxNumWithdraw: numeral__WEBPACK_IMPORTED_MODULE_3__(dailyMaxNumWithdrawValue.optValue.toString('utf8')).value(),
                withdrawDefaultMaxAmount: numeral__WEBPACK_IMPORTED_MODULE_3__(withdrawDefaultMaxAmountValue.optValue.toString('utf8')).value(),
                withdrawDefaultMinAmount: numeral__WEBPACK_IMPORTED_MODULE_3__(withdrawDefaultMinAmountValue.optValue.toString('utf8')).value(),
            };
        });
    }
    updateByRequest(updateRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = new _dto_options_update_response_dto__WEBPACK_IMPORTED_MODULE_6__["OptionsUpdateResponseDto"]();
            for (let i = 0; i < updateRequest.options.length; i++) {
                const requestItem = updateRequest.options[i];
                const option = yield this.optionsRepository.findOne({
                    where: { optName: requestItem.optName },
                });
                if (!option) {
                    continue;
                }
                const optionUpdated = _dto_update_option_dto__WEBPACK_IMPORTED_MODULE_7__["UpdateOptionDto"].updateRequestFactory(option, requestItem);
                yield optionUpdated.save();
            }
            response.result = true;
            return response;
        });
    }
};
OptionsService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_4__["InjectModel"])(_models_options_model__WEBPACK_IMPORTED_MODULE_5__["OptionsModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Sequelize"]) === "function" ? _a : Object, Object])
], OptionsService);



/***/ }),

/***/ "./apps/backend/src/app/payment/bank/bank.controller.ts":
/*!**************************************************************!*\
  !*** ./apps/backend/src/app/payment/bank/bank.controller.ts ***!
  \**************************************************************/
/*! exports provided: BankController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BankController", function() { return BankController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../auth/jwt-auth.guard */ "./apps/backend/src/app/auth/jwt-auth.guard.ts");
/* harmony import */ var _bank_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./bank.service */ "./apps/backend/src/app/payment/bank/bank.service.ts");
/* harmony import */ var _dto_bank_get_request_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dto/bank.get.request.dto */ "./apps/backend/src/app/payment/bank/dto/bank.get.request.dto.ts");
var _a, _b;







let BankController = class BankController {
    constructor(bankService) {
        this.bankService = bankService;
    }
    gets(query) {
        return this.bankService.findAllByQuery(query);
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Get"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].getBanks),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Query"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _dto_bank_get_request_dto__WEBPACK_IMPORTED_MODULE_6__["BankGetRequestDto"] !== "undefined" && _dto_bank_get_request_dto__WEBPACK_IMPORTED_MODULE_6__["BankGetRequestDto"]) === "function" ? _a : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", void 0)
], BankController.prototype, "gets", null);
BankController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].bank),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].paymentEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_b = typeof _bank_service__WEBPACK_IMPORTED_MODULE_5__["BankService"] !== "undefined" && _bank_service__WEBPACK_IMPORTED_MODULE_5__["BankService"]) === "function" ? _b : Object])
], BankController);



/***/ }),

/***/ "./apps/backend/src/app/payment/bank/bank.module.ts":
/*!**********************************************************!*\
  !*** ./apps/backend/src/app/payment/bank/bank.module.ts ***!
  \**********************************************************/
/*! exports provided: BankModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BankModule", function() { return BankModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_bank_entity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../models/bank.entity */ "./apps/backend/src/app/models/bank.entity.ts");
/* harmony import */ var _bank_controller__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./bank.controller */ "./apps/backend/src/app/payment/bank/bank.controller.ts");
/* harmony import */ var _bank_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./bank.service */ "./apps/backend/src/app/payment/bank/bank.service.ts");






let BankModule = class BankModule {
};
BankModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["SequelizeModule"].forFeature([_models_bank_entity__WEBPACK_IMPORTED_MODULE_3__["BankModel"]])],
        providers: [_bank_service__WEBPACK_IMPORTED_MODULE_5__["BankService"], _models_bank_entity__WEBPACK_IMPORTED_MODULE_3__["BankModel"]],
        controllers: [_bank_controller__WEBPACK_IMPORTED_MODULE_4__["BankController"]],
        exports: [_bank_service__WEBPACK_IMPORTED_MODULE_5__["BankService"]],
    })
], BankModule);



/***/ }),

/***/ "./apps/backend/src/app/payment/bank/bank.service.ts":
/*!***********************************************************!*\
  !*** ./apps/backend/src/app/payment/bank/bank.service.ts ***!
  \***********************************************************/
/*! exports provided: BankService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BankService", function() { return BankService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_bank_entity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../models/bank.entity */ "./apps/backend/src/app/models/bank.entity.ts");




let BankService = class BankService {
    constructor(bankRepository) {
        this.bankRepository = bankRepository;
    }
    findOne(options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.bankRepository.findOne(options);
        });
    }
    findAll(options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.bankRepository.findAll(options);
        });
    }
    findById(bankId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.bankRepository.findByPk(bankId);
        });
    }
    findAllByQuery(query) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const findOptions = {
                include: [],
                order: [['id', 'asc']],
            }, where = {};
            findOptions.where = where;
            return this.bankRepository.findAll(findOptions);
        });
    }
};
BankService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_bank_entity__WEBPACK_IMPORTED_MODULE_3__["BankModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [Object])
], BankService);



/***/ }),

/***/ "./apps/backend/src/app/payment/bank/dto/bank.get.request.dto.ts":
/*!***********************************************************************!*\
  !*** ./apps/backend/src/app/payment/bank/dto/bank.get.request.dto.ts ***!
  \***********************************************************************/
/*! exports provided: BankGetRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BankGetRequestDto", function() { return BankGetRequestDto; });
class BankGetRequestDto {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/betContruct/betConstruct.perform.service.ts":
/*!**********************************************************************************!*\
  !*** ./apps/backend/src/app/payment/betContruct/betConstruct.perform.service.ts ***!
  \**********************************************************************************/
/*! exports provided: BetConstructPerformService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BetConstructPerformService", function() { return BetConstructPerformService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_bull__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/bull */ "@nestjs/bull");
/* harmony import */ var _nestjs_bull__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_bull__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var bull__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! bull */ "bull");
/* harmony import */ var bull__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(bull__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _models_bcOrders__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../models/bcOrders */ "./apps/backend/src/app/models/bcOrders.ts");
/* harmony import */ var _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../order/deposit-order/deposit.order.service */ "./apps/backend/src/app/payment/order/deposit-order/deposit.order.service.ts");
/* harmony import */ var _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../order/deposit-pending-order/deposit.pending.order.service */ "./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.service.ts");
/* harmony import */ var _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../order/withdraw-order/withdraw.order.service */ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.service.ts");
/* harmony import */ var _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../order/withdraw-pending-order/withdraw.pending.order.service */ "./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.service.ts");
/* harmony import */ var _providers_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../providers/payment-provider-channel/payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");
/* harmony import */ var _dto_bc_deposit_in_params__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./dto/bc.deposit.in.params */ "./apps/backend/src/app/payment/betContruct/dto/bc.deposit.in.params.ts");
/* harmony import */ var _dto_bc_withdraw_in_params__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./dto/bc.withdraw.in.params */ "./apps/backend/src/app/payment/betContruct/dto/bc.withdraw.in.params.ts");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! moment-timezone */ "moment-timezone");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var _betConstruct_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./betConstruct.service */ "./apps/backend/src/app/payment/betContruct/betConstruct.service.ts");
/* harmony import */ var _nestjs_schedule__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @nestjs/schedule */ "@nestjs/schedule");
/* harmony import */ var _nestjs_schedule__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_nestjs_schedule__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var _models_test_entity__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../models/test.entity */ "./apps/backend/src/app/models/test.entity.ts");
var _a, _b, _c, _d, _e, _f, _g, _h, _j;




















let BetConstructPerformService = class BetConstructPerformService {
    constructor(configService, httpService, bcOrdersRepository, betConstructService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, performBCTasksQueue, testRepository) {
        this.configService = configService;
        this.httpService = httpService;
        this.bcOrdersRepository = bcOrdersRepository;
        this.betConstructService = betConstructService;
        this.depositPendingOrderService = depositPendingOrderService;
        this.depositOrderService = depositOrderService;
        this.withdrawPendingOrderService = withdrawPendingOrderService;
        this.withdrawOrderService = withdrawOrderService;
        this.performBCTasksQueue = performBCTasksQueue;
        this.testRepository = testRepository;
    }
    intervalEntry() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.performTask();
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Perform BetConstruct Task
    ///////////////////////////////////////////////////////////////////////////////
    performTask(force) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.performJob && !force) {
                return false;
            }
            try {
                if (this.performJob) {
                    yield this.performJob.finished();
                }
                this.performJob = yield this.performBCTasksQueue.add('perform-bc-tasks', {}, { timeout: 60000, attempts: 1 } // 60s 1m
                );
                /* await this.testRepository.create({
                  a: JSON.stringify({ createdJob: this.performJob.id }),
                }); */
                yield this.performJob.finished();
            }
            catch (error) {
                yield this.testRepository.create({
                    a: JSON.stringify(error),
                });
            }
            this.performJob = null;
            return true;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Perform BcTasks Consumer
    ///////////////////////////////////////////////////////////////////////////////
    performBCTasks(job) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const bcOrders = yield this.bcOrdersRepository.findAll({
                where: { processed: false },
                limit: this.configService.get('betConstruct.numberOfTasksProcessed'),
            });
            /* await this.testRepository.create({
              a: JSON.stringify({
                name: 'perform-bc-tasks',
                job: job.id,
                bcOrders: bcOrders.length,
              }),
            }); */
            for (let i = 0; i < bcOrders.length; i++) {
                const bcOrder = bcOrders[i];
                if (this.bcOrderInProcess && this.bcOrderInProcess.id === bcOrder.id) {
                    continue;
                }
                this.bcOrderInProcess = bcOrder;
                yield this.performBcOrder(bcOrder);
                this.bcOrderInProcess = null;
                if (yield job.isFailed()) {
                    break;
                }
            }
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Perform BcOrder
    ///////////////////////////////////////////////////////////////////////////////
    performBcOrder(bcOrder) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            bcOrder.logData = JSON.stringify({
                performed: moment_timezone__WEBPACK_IMPORTED_MODULE_16__().utcOffset('+08:00').format('YYYY-MM-DD HH:mm:ss'),
            });
            yield bcOrder.save();
            switch (`${bcOrder.depositOrWithdrawable}`) {
                case `${_providers_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_12__["DepositOrWithdrawalEnum"].DEPOSIT}`:
                    yield this.performBcOrderDeposit(bcOrder);
                    break;
                case `${_providers_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_12__["DepositOrWithdrawalEnum"].WITHDRAWAL}`:
                    yield this.performBcOrderWithdraw(bcOrder);
                    break;
                default:
                    break;
            }
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Perform BcOrder Deposit
    ///////////////////////////////////////////////////////////////////////////////
    performBcOrderDeposit(bcOrder) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            try {
                const inParams = new _dto_bc_deposit_in_params__WEBPACK_IMPORTED_MODULE_13__["BCDepositInParams"]();
                const orderPending = yield this.depositPendingOrderService.findByOrderId(`${bcOrder.orderId}`);
                if (orderPending) {
                    inParams.amount = orderPending.amount;
                    inParams.currency = _workspace_enums__WEBPACK_IMPORTED_MODULE_5__["CurrencyEnum"].CNY;
                    inParams.orderId = numeral__WEBPACK_IMPORTED_MODULE_15__(bcOrder.orderId).value();
                    inParams.userId = numeral__WEBPACK_IMPORTED_MODULE_15__(orderPending.userId).value();
                    // Do not Process for Pending Order
                    return false;
                }
                else {
                    const orderSuccess = yield this.depositOrderService.findByOrderId(`${bcOrder.orderId}`);
                    if (!orderSuccess) {
                        return false;
                    }
                    inParams.amount = orderSuccess.amount;
                    inParams.currency = _workspace_enums__WEBPACK_IMPORTED_MODULE_5__["CurrencyEnum"].CNY;
                    inParams.orderId = numeral__WEBPACK_IMPORTED_MODULE_15__(bcOrder.orderId).value();
                    inParams.userId = numeral__WEBPACK_IMPORTED_MODULE_15__(orderSuccess.userId).value();
                }
                console.log(inParams, '... BC Deposit Start');
                const bcDepositResult = yield this.betConstructService.deposit(inParams);
                return bcDepositResult.result;
            }
            catch (error) {
                console.log(error);
            }
            return null;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Perform BcOrder Withdraw
    ///////////////////////////////////////////////////////////////////////////////
    performBcOrderWithdraw(bcOrder) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            try {
                const inParams = new _dto_bc_withdraw_in_params__WEBPACK_IMPORTED_MODULE_14__["BCWithdrawInParams"]();
                const orderPending = yield this.withdrawPendingOrderService.findByClientOrderId(`${bcOrder.orderId}`);
                if (orderPending) {
                    inParams.amount = orderPending.amount;
                    inParams.currency = orderPending.currency;
                    inParams.orderId = numeral__WEBPACK_IMPORTED_MODULE_15__(bcOrder.orderId).value();
                    inParams.reason = this.configService.get('betConstruct.withdraw.reason');
                    inParams.userId = orderPending.userId;
                    inParams.status = this.betConstructService.getBCWithdrawStatusByOrderStatus(orderPending.status);
                }
                else {
                    const orderSuccess = yield this.withdrawOrderService.findByClientOrderId(`${bcOrder.orderId}`);
                    if (!orderSuccess) {
                        return false;
                    }
                    inParams.amount = orderSuccess.amount;
                    inParams.currency = orderSuccess.currency;
                    inParams.orderId = numeral__WEBPACK_IMPORTED_MODULE_15__(bcOrder.orderId).value();
                    inParams.reason = this.configService.get('betConstruct.withdraw.reason');
                    inParams.userId = orderSuccess.userId;
                    inParams.status = this.betConstructService.getBCWithdrawStatusByOrderStatus(orderSuccess.status);
                }
                if (inParams.status !== _dto_bc_withdraw_in_params__WEBPACK_IMPORTED_MODULE_14__["BCWithdrawStatus"].SUCCESS &&
                    inParams.status !== _dto_bc_withdraw_in_params__WEBPACK_IMPORTED_MODULE_14__["BCWithdrawStatus"].FAILED) {
                    return false;
                }
                console.log(inParams, '... BC Withdraw Start');
                const bcWithdrawResult = yield this.betConstructService.withdraw(inParams);
                return bcWithdrawResult.result;
            }
            catch (error) {
                console.log(error);
            }
        });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_schedule__WEBPACK_IMPORTED_MODULE_18__["Interval"])('bcPerformScheduler', 60000),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", []),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], BetConstructPerformService.prototype, "intervalEntry", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_bull__WEBPACK_IMPORTED_MODULE_1__["Process"])('perform-bc-tasks'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof bull__WEBPACK_IMPORTED_MODULE_6__["Job"] !== "undefined" && bull__WEBPACK_IMPORTED_MODULE_6__["Job"]) === "function" ? _a : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], BetConstructPerformService.prototype, "performBCTasks", null);
BetConstructPerformService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    Object(_nestjs_bull__WEBPACK_IMPORTED_MODULE_1__["Processor"])('performBCTasks'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(2, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_4__["InjectModel"])(_models_bcOrders__WEBPACK_IMPORTED_MODULE_7__["BcOrdersModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(8, Object(_nestjs_bull__WEBPACK_IMPORTED_MODULE_1__["InjectQueue"])('performBCTasks')),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(9, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_4__["InjectModel"])(_models_test_entity__WEBPACK_IMPORTED_MODULE_19__["TestModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_b = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_3__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_3__["ConfigService"]) === "function" ? _b : Object, typeof (_c = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_2__["HttpService"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_2__["HttpService"]) === "function" ? _c : Object, Object, typeof (_d = typeof _betConstruct_service__WEBPACK_IMPORTED_MODULE_17__["BetConstructService"] !== "undefined" && _betConstruct_service__WEBPACK_IMPORTED_MODULE_17__["BetConstructService"]) === "function" ? _d : Object, typeof (_e = typeof _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_9__["DepositPendingOrderService"] !== "undefined" && _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_9__["DepositPendingOrderService"]) === "function" ? _e : Object, typeof (_f = typeof _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_8__["DepositOrderService"] !== "undefined" && _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_8__["DepositOrderService"]) === "function" ? _f : Object, typeof (_g = typeof _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_11__["WithdrawPendingOrderService"] !== "undefined" && _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_11__["WithdrawPendingOrderService"]) === "function" ? _g : Object, typeof (_h = typeof _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_10__["WithdrawOrderService"] !== "undefined" && _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_10__["WithdrawOrderService"]) === "function" ? _h : Object, typeof (_j = typeof bull__WEBPACK_IMPORTED_MODULE_6__["Queue"] !== "undefined" && bull__WEBPACK_IMPORTED_MODULE_6__["Queue"]) === "function" ? _j : Object, Object])
], BetConstructPerformService);



/***/ }),

/***/ "./apps/backend/src/app/payment/betContruct/betConstruct.service.ts":
/*!**************************************************************************!*\
  !*** ./apps/backend/src/app/payment/betContruct/betConstruct.service.ts ***!
  \**************************************************************************/
/*! exports provided: BetConstructService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BetConstructService", function() { return BetConstructService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! md5 */ "md5");
/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(md5__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! qs */ "qs");
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _models_bcOrders__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../models/bcOrders */ "./apps/backend/src/app/models/bcOrders.ts");
/* harmony import */ var _providers_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../providers/payment-provider-channel/payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");
/* harmony import */ var _dto_bc_check_withdraw_hash_out__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./dto/bc.check.withdraw.hash.out */ "./apps/backend/src/app/payment/betContruct/dto/bc.check.withdraw.hash.out.ts");
/* harmony import */ var _dto_bc_check_withdraw_ipwhitelist_out__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./dto/bc.check.withdraw.ipwhitelist.out */ "./apps/backend/src/app/payment/betContruct/dto/bc.check.withdraw.ipwhitelist.out.ts");
/* harmony import */ var _dto_bc_checkclient_out__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./dto/bc.checkclient.out */ "./apps/backend/src/app/payment/betContruct/dto/bc.checkclient.out.ts");
/* harmony import */ var _dto_bc_checkclient_request_params__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./dto/bc.checkclient.request.params */ "./apps/backend/src/app/payment/betContruct/dto/bc.checkclient.request.params.ts");
/* harmony import */ var _dto_bc_deposit_in_params__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./dto/bc.deposit.in.params */ "./apps/backend/src/app/payment/betContruct/dto/bc.deposit.in.params.ts");
/* harmony import */ var _dto_bc_deposit_out__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./dto/bc.deposit.out */ "./apps/backend/src/app/payment/betContruct/dto/bc.deposit.out.ts");
/* harmony import */ var _dto_bc_deposit_request_params__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./dto/bc.deposit.request.params */ "./apps/backend/src/app/payment/betContruct/dto/bc.deposit.request.params.ts");
/* harmony import */ var _dto_bc_withdraw_in_params__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./dto/bc.withdraw.in.params */ "./apps/backend/src/app/payment/betContruct/dto/bc.withdraw.in.params.ts");
/* harmony import */ var _dto_bc_withdraw_out__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./dto/bc.withdraw.out */ "./apps/backend/src/app/payment/betContruct/dto/bc.withdraw.out.ts");
/* harmony import */ var _dto_bc_withdraw_request_params__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./dto/bc.withdraw.request.params */ "./apps/backend/src/app/payment/betContruct/dto/bc.withdraw.request.params.ts");
/* harmony import */ var _dto_create_bcorders_dto__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./dto/create-bcorders.dto */ "./apps/backend/src/app/payment/betContruct/dto/create-bcorders.dto.ts");
var _a, _b;





















let BetConstructService = class BetConstructService {
    constructor(configService, httpService, bcOrdersRepository) {
        this.configService = configService;
        this.httpService = httpService;
        this.bcOrdersRepository = bcOrdersRepository;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Check Client
    ////////////////////////////////////////////////////////////////////////////////
    checkClient(inParams) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const checkOut = new _dto_bc_checkclient_out__WEBPACK_IMPORTED_MODULE_12__["BCCheckClientOut"]();
            checkOut.result = false;
            try {
                const host = this.configService.get('BC_HOST');
                const url = this.configService.get('BC_CHECKCLIENT_URL');
                const resource = this.configService.get('BC_RESOURCE');
                const key = this.configService.get('BC_SECRETKEY');
                const params = new _dto_bc_checkclient_request_params__WEBPACK_IMPORTED_MODULE_13__["BCCheckClientRequestParams"]();
                params.command = this.configService.get('betConstruct.checkClient.command');
                params.account = inParams.userId;
                params.currency = inParams.currency;
                params.sid = this.configService.get('BC_SID');
                params.hashcode = md5__WEBPACK_IMPORTED_MODULE_5__(`${params.command}${params.account}${params.currency}${params.sid}${key}`);
                const response = yield this.httpService
                    .get(`https://${host}/${url}/${resource}`, { params })
                    .toPromise();
                const data = response.data;
                // console.log(`https://${host}/${url}/${resource}`);
                // console.log(JSON.stringify(params));
                // console.log(JSON.stringify(data), '++++++');
                if (data && `${data.response.code}` === `0`) {
                    checkOut.result = true;
                }
                else {
                    checkOut.errorCode = data ? data.response.code : -1;
                    checkOut.errorMessage = data ? data.response.message : 'UNKNOWN';
                }
            }
            catch (error) {
                checkOut.error = error;
            }
            return checkOut;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Add Deposit BCOrder
    ////////////////////////////////////////////////////////////////////////////////
    addDepositBcOrder(inParams) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let bcOrder = yield this.bcOrdersRepository.findOne({
                where: {
                    orderId: inParams.orderId,
                    depositOrWithdrawable: _providers_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_9__["DepositOrWithdrawalEnum"].DEPOSIT,
                },
            });
            // Check There is already success processed Order.
            if (bcOrder && bcOrder.processed) {
                return null;
            }
            if (bcOrder) {
                bcOrder.status = _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"].SUCCESS;
                bcOrder.processed = false;
                yield bcOrder.save();
            }
            else {
                const createBCOrders = new _dto_create_bcorders_dto__WEBPACK_IMPORTED_MODULE_20__["CreateBCOrdersDto"]();
                createBCOrders.orderId = inParams.orderId;
                createBCOrders.depositOrWithdrawable = _providers_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_9__["DepositOrWithdrawalEnum"].DEPOSIT;
                createBCOrders.processed = false;
                createBCOrders.status = _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"].SUCCESS;
                bcOrder = yield this.bcOrdersRepository.create(createBCOrders);
                if (!bcOrder) {
                    return null;
                }
            }
            return bcOrder;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Deposit
    ////////////////////////////////////////////////////////////////////////////////
    deposit(inParams) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const depositOut = new _dto_bc_deposit_out__WEBPACK_IMPORTED_MODULE_15__["BCDepositOut"]();
            depositOut.result = false;
            const bcOrder = yield this.addDepositBcOrder(inParams);
            if (!bcOrder) {
                depositOut.errorCode = this.configService.get('betConstruct.notCreateBCOrdersRecordErrorCode');
                depositOut.errorMessage = this.configService.get('betConstruct.notCreateBCOrdersRecordErrorMessage');
                return depositOut;
            }
            try {
                const host = this.configService.get('BC_HOST');
                const url = this.configService.get('BC_DEPOSIT_URL');
                const resource = this.configService.get('BC_RESOURCE');
                const key = this.configService.get('BC_SECRETKEY');
                const params = new _dto_bc_deposit_request_params__WEBPACK_IMPORTED_MODULE_16__["BCDepositRequestParams"]();
                params.command = this.configService.get('betConstruct.deposit.command');
                params.account = inParams.userId;
                params.txn_id = inParams.orderId;
                params.amount = inParams.amount;
                params.currency = inParams.currency;
                params.sid = this.configService.get('BC_SID');
                params.hashcode = md5__WEBPACK_IMPORTED_MODULE_5__(`${params.command}${params.txn_id}${params.account}${params.amount}${params.currency}${params.sid}${key}`);
                const response = yield this.httpService
                    .get(`https://${host}/${url}/${resource}`, { params })
                    .toPromise();
                const data = response.data;
                //console.log(data, '>>> BC Deposit');
                if (`${data.response.code}` === `0`) {
                    depositOut.result = true;
                    bcOrder.processed = true;
                    yield bcOrder.save();
                }
                else {
                    depositOut.errorCode = data.response.code;
                    depositOut.errorMessage = data.response.message;
                }
            }
            catch (error) {
                depositOut.error = error;
            }
            return depositOut;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Add Withdraw BC Order
    ////////////////////////////////////////////////////////////////////////////////
    addWithdrawBcOrder(inParams, options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let bcOrder = yield this.bcOrdersRepository.findOne({
                where: {
                    orderId: inParams.orderId,
                    depositOrWithdrawable: _providers_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_9__["DepositOrWithdrawalEnum"].WITHDRAWAL,
                },
            });
            if (bcOrder && bcOrder.processed) {
                return null;
            }
            const status = this.getOrderStatusByBCWithdrawStatus(inParams.status);
            if (status === null) {
                return null;
            }
            if (bcOrder) {
                bcOrder.processed = false;
                bcOrder.status = status;
            }
            else {
                const createBCOrders = new _dto_create_bcorders_dto__WEBPACK_IMPORTED_MODULE_20__["CreateBCOrdersDto"]();
                createBCOrders.orderId = numeral__WEBPACK_IMPORTED_MODULE_7__(inParams.orderId).value();
                createBCOrders.depositOrWithdrawable = _providers_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_9__["DepositOrWithdrawalEnum"].WITHDRAWAL;
                createBCOrders.processed = false;
                createBCOrders.status = status;
                bcOrder = yield this.bcOrdersRepository.create(createBCOrders, options);
                if (!bcOrder) {
                    return null;
                }
            }
            return bcOrder;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Withdraw
    ////////////////////////////////////////////////////////////////////////////////
    withdraw(inParams) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const withdrawOut = new _dto_bc_withdraw_out__WEBPACK_IMPORTED_MODULE_18__["BCWithdrawOut"]();
            withdrawOut.result = false;
            const bcOrder = yield this.addWithdrawBcOrder(inParams);
            if (!bcOrder) {
                withdrawOut.errorCode = this.configService.get('betConstruct.notCreateBCOrdersRecordErrorCode');
                withdrawOut.errorMessage = this.configService.get('betConstruct.notCreateBCOrdersRecordErrorMessage');
                return withdrawOut;
            }
            const params = new _dto_bc_withdraw_request_params__WEBPACK_IMPORTED_MODULE_19__["BCWithdrawRequestParams"]();
            params.playerId = inParams.userId;
            params.orderId = inParams.orderId;
            params.currency = inParams.currency;
            params.amount = inParams.amount;
            params.status = inParams.status;
            params.reason = inParams.reason;
            const withdrawalKey = this.configService.get('WITHDRAWAL_TOKEN');
            const bcKey = this.configService.get('BC_SECRETKEY');
            const txtSource = `${params.orderId}` +
                `${params.playerId}` +
                `${params.currency}` +
                `${params.amount}` +
                `${params.status}` +
                `${withdrawalKey}` +
                `${bcKey}`;
            params.hash = md5__WEBPACK_IMPORTED_MODULE_5__(txtSource);
            // console.log(JSON.stringify(params));
            // console.log('_________________');
            // console.log(txtSource);
            // console.log('_________________');
            // console.log(params.hash);
            try {
                const host = this.configService.get('BC_HOST_WITHDRAW');
                const url = this.configService.get('BC_WITHDRAW_URL');
                //console.log(`https://${host}/${url}`);
                const response = yield this.httpService
                    .post(`https://${host}/${url}`, qs__WEBPACK_IMPORTED_MODULE_6__["stringify"](params), {
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    },
                })
                    .toPromise();
                const data = response.data;
                //console.log(data, '>>> WITHDRAW');
                if (`${data.response.code}` === `0`) {
                    withdrawOut.result = true;
                    bcOrder.processed = true;
                    yield bcOrder.save();
                }
                else {
                    withdrawOut.errorCode = data.response.code;
                    withdrawOut.errorMessage = data.response.message;
                }
                //console.log(withdrawOut);
                return withdrawOut;
            }
            catch (error) {
                //console.log(error);
                withdrawOut.error = error;
                withdrawOut.errorCode = this.configService.get('betConstruct.withdraw.serviceErrorCode');
                withdrawOut.errorMessage = this.configService.get('betConstruct.withdraw.serviceErrorMessage');
            }
            return withdrawOut;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// CHECK WITHDRAW IP WHITELIST
    ////////////////////////////////////////////////////////////////////////////////
    checkWithdrawIPWhitelist(inParams) {
        const out = new _dto_bc_check_withdraw_ipwhitelist_out__WEBPACK_IMPORTED_MODULE_11__["BCCheckWithdrawIPWhiteListOut"]();
        out.result = false;
        const ip_in = inParams.ip.trim();
        const ipWhiteList = this.configService.get('BC_WITHDRAW_IP_WHITELIST');
        if (!ipWhiteList) {
            return out;
        }
        const ips = ipWhiteList.split(',') || [];
        const ipMatched = ips.find((ip) => ip.trim() === ip_in);
        out.result = ipMatched ? true : false;
        if (!out.result) {
            out.errorCode = this.configService.get('betConstruct.withdraw.checkIPWhiteListErrorCode');
            out.errorMessage = this.configService.get('betConstruct.withdraw.checkIPWhiteListErrorMessage');
        }
        return out;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// CHECK WITHDRAW HASH
    ////////////////////////////////////////////////////////////////////////////////
    checkWithdrawHash(inParams) {
        const out = new _dto_bc_check_withdraw_hash_out__WEBPACK_IMPORTED_MODULE_10__["BCCheckWithdrawHashOut"]();
        out.result = false;
        const command = this.configService.get('betConstruct.withdraw.command');
        const keyBC = this.configService.get('BC_SECRETKEY');
        const tokenWithdrawal = this.configService.get('WITHDRAWAL_TOKEN');
        const txtSource = `${command}${inParams.amount}` +
            `${inParams.bankAccountName}${inParams.bankAccountNumber}` +
            `${inParams.bankCode}${inParams.branch}` +
            `${inParams.city}${inParams.currency}${inParams.orderId}` +
            `${inParams.phoneNumber !== undefined ? inParams.phoneNumber : ''}` +
            `${inParams.province}` +
            `${tokenWithdrawal}${inParams.userId}` +
            `${inParams.userName !== undefined ? inParams.userName : ''}` +
            `${keyBC}`;
        const hash = md5__WEBPACK_IMPORTED_MODULE_5__(txtSource);
        out.result = hash.toUpperCase() === inParams.hashCode.toUpperCase();
        // console.log(txtSource);
        console.log(hash);
        if (!out.result) {
            out.errorCode = this.configService.get('betConstruct.withdraw.checkHashErrorCode');
            out.errorMessage = this.configService.get('betConstruct.withdraw.checkHashErrorMessage');
        }
        return out;
    }
    getBCDepositStatusByOrderStatus(orderStatus) {
        switch (orderStatus) {
            case _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"].SUCCESS:
                return _dto_bc_withdraw_in_params__WEBPACK_IMPORTED_MODULE_17__["BCWithdrawStatus"].SUCCESS;
            case _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"].FAILED:
                return _dto_bc_withdraw_in_params__WEBPACK_IMPORTED_MODULE_17__["BCWithdrawStatus"].FAILED;
            default:
                break;
        }
        return null;
    }
    getOrderStatusByBCDepositStatus(depositStatus) {
        switch (depositStatus) {
            case _dto_bc_deposit_in_params__WEBPACK_IMPORTED_MODULE_14__["BCDepositStatus"].SUCCESS:
                return _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"].SUCCESS;
            case _dto_bc_deposit_in_params__WEBPACK_IMPORTED_MODULE_14__["BCDepositStatus"].FAILED:
                return _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"].FAILED;
            default:
                break;
        }
        return null;
    }
    getBCWithdrawStatusByOrderStatus(orderStatus) {
        switch (orderStatus) {
            case _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"].SUCCESS:
                return _dto_bc_withdraw_in_params__WEBPACK_IMPORTED_MODULE_17__["BCWithdrawStatus"].SUCCESS;
            case _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"].FAILED:
                return _dto_bc_withdraw_in_params__WEBPACK_IMPORTED_MODULE_17__["BCWithdrawStatus"].FAILED;
            default:
                break;
        }
        return null;
    }
    getOrderStatusByBCWithdrawStatus(withdrawStatus) {
        switch (withdrawStatus) {
            case _dto_bc_withdraw_in_params__WEBPACK_IMPORTED_MODULE_17__["BCWithdrawStatus"].SUCCESS:
                return _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"].SUCCESS;
            case _dto_bc_withdraw_in_params__WEBPACK_IMPORTED_MODULE_17__["BCWithdrawStatus"].FAILED:
                return _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"].FAILED;
            default:
                break;
        }
        return null;
    }
};
BetConstructService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(2, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__["InjectModel"])(_models_bcOrders__WEBPACK_IMPORTED_MODULE_8__["BcOrdersModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"]) === "function" ? _a : Object, typeof (_b = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpService"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpService"]) === "function" ? _b : Object, Object])
], BetConstructService);



/***/ }),

/***/ "./apps/backend/src/app/payment/betContruct/betConsturct.module.ts":
/*!*************************************************************************!*\
  !*** ./apps/backend/src/app/payment/betContruct/betConsturct.module.ts ***!
  \*************************************************************************/
/*! exports provided: BetConstructModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BetConstructModule", function() { return BetConstructModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_bull__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/bull */ "@nestjs/bull");
/* harmony import */ var _nestjs_bull__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_bull__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _models_bcOrders__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../models/bcOrders */ "./apps/backend/src/app/models/bcOrders.ts");
/* harmony import */ var _models_test_entity__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../models/test.entity */ "./apps/backend/src/app/models/test.entity.ts");
/* harmony import */ var _order_deposit_order_deposit_order_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../order/deposit-order/deposit.order.module */ "./apps/backend/src/app/payment/order/deposit-order/deposit.order.module.ts");
/* harmony import */ var _order_deposit_pending_order_deposit_pending_order_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../order/deposit-pending-order/deposit.pending.order.module */ "./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.module.ts");
/* harmony import */ var _order_withdraw_order_withdraw_order_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../order/withdraw-order/withdraw.order.module */ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.module.ts");
/* harmony import */ var _order_withdraw_pending_order_withdraw_pending_order_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../order/withdraw-pending-order/withdraw.pending.order.module */ "./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.module.ts");
/* harmony import */ var _betConstruct_perform_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./betConstruct.perform.service */ "./apps/backend/src/app/payment/betContruct/betConstruct.perform.service.ts");
/* harmony import */ var _betConstruct_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./betConstruct.service */ "./apps/backend/src/app/payment/betContruct/betConstruct.service.ts");












let BetConstructModule = class BetConstructModule {
};
BetConstructModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_2__["Module"])({
        imports: [
            _nestjs_bull__WEBPACK_IMPORTED_MODULE_1__["BullModule"].registerQueue({
                name: 'performBCTasks',
            }),
            _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__["SequelizeModule"].forFeature([_models_bcOrders__WEBPACK_IMPORTED_MODULE_4__["BcOrdersModel"], _models_test_entity__WEBPACK_IMPORTED_MODULE_5__["TestModel"]]),
            _nestjs_common__WEBPACK_IMPORTED_MODULE_2__["HttpModule"].register({
                timeout: 45000,
                maxRedirects: 5,
            }),
            _order_deposit_pending_order_deposit_pending_order_module__WEBPACK_IMPORTED_MODULE_7__["DepositPendingOrderModule"],
            _order_deposit_order_deposit_order_module__WEBPACK_IMPORTED_MODULE_6__["DepositOrderModule"],
            _order_withdraw_pending_order_withdraw_pending_order_module__WEBPACK_IMPORTED_MODULE_9__["WithdrawPendingOrderModule"],
            _order_withdraw_order_withdraw_order_module__WEBPACK_IMPORTED_MODULE_8__["WithdrawOrderModule"],
        ],
        providers: [_betConstruct_service__WEBPACK_IMPORTED_MODULE_11__["BetConstructService"], _betConstruct_perform_service__WEBPACK_IMPORTED_MODULE_10__["BetConstructPerformService"]],
        controllers: [],
        exports: [_betConstruct_service__WEBPACK_IMPORTED_MODULE_11__["BetConstructService"], _betConstruct_perform_service__WEBPACK_IMPORTED_MODULE_10__["BetConstructPerformService"]],
    })
], BetConstructModule);



/***/ }),

/***/ "./apps/backend/src/app/payment/betContruct/dto/bc.check.withdraw.hash.in.param.ts":
/*!*****************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/betContruct/dto/bc.check.withdraw.hash.in.param.ts ***!
  \*****************************************************************************************/
/*! exports provided: BCCheckWithdrawHashInparams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCCheckWithdrawHashInparams", function() { return BCCheckWithdrawHashInparams; });
class BCCheckWithdrawHashInparams {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/betContruct/dto/bc.check.withdraw.hash.out.ts":
/*!************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/betContruct/dto/bc.check.withdraw.hash.out.ts ***!
  \************************************************************************************/
/*! exports provided: BCCheckWithdrawHashOut */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCCheckWithdrawHashOut", function() { return BCCheckWithdrawHashOut; });
class BCCheckWithdrawHashOut {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/betContruct/dto/bc.check.withdraw.ipwhitelist.in.params.ts":
/*!*************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/betContruct/dto/bc.check.withdraw.ipwhitelist.in.params.ts ***!
  \*************************************************************************************************/
/*! exports provided: BCCheckWithdrawIPWhiteListInparams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCCheckWithdrawIPWhiteListInparams", function() { return BCCheckWithdrawIPWhiteListInparams; });
class BCCheckWithdrawIPWhiteListInparams {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/betContruct/dto/bc.check.withdraw.ipwhitelist.out.ts":
/*!*******************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/betContruct/dto/bc.check.withdraw.ipwhitelist.out.ts ***!
  \*******************************************************************************************/
/*! exports provided: BCCheckWithdrawIPWhiteListOut */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCCheckWithdrawIPWhiteListOut", function() { return BCCheckWithdrawIPWhiteListOut; });
class BCCheckWithdrawIPWhiteListOut {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/betContruct/dto/bc.checkclient.out.ts":
/*!****************************************************************************!*\
  !*** ./apps/backend/src/app/payment/betContruct/dto/bc.checkclient.out.ts ***!
  \****************************************************************************/
/*! exports provided: BCCheckClientOut */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCCheckClientOut", function() { return BCCheckClientOut; });
class BCCheckClientOut {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/betContruct/dto/bc.checkclient.request.params.ts":
/*!***************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/betContruct/dto/bc.checkclient.request.params.ts ***!
  \***************************************************************************************/
/*! exports provided: BCCheckClientRequestParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCCheckClientRequestParams", function() { return BCCheckClientRequestParams; });
class BCCheckClientRequestParams {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/betContruct/dto/bc.deposit.in.params.ts":
/*!******************************************************************************!*\
  !*** ./apps/backend/src/app/payment/betContruct/dto/bc.deposit.in.params.ts ***!
  \******************************************************************************/
/*! exports provided: BCDepositStatus, BCDepositInParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCDepositStatus", function() { return BCDepositStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCDepositInParams", function() { return BCDepositInParams; });
var BCDepositStatus;
(function (BCDepositStatus) {
    BCDepositStatus["SUCCESS"] = "success";
    BCDepositStatus["FAILED"] = "failed";
})(BCDepositStatus || (BCDepositStatus = {}));
class BCDepositInParams {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/betContruct/dto/bc.deposit.out.ts":
/*!************************************************************************!*\
  !*** ./apps/backend/src/app/payment/betContruct/dto/bc.deposit.out.ts ***!
  \************************************************************************/
/*! exports provided: BCDepositOut */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCDepositOut", function() { return BCDepositOut; });
class BCDepositOut {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/betContruct/dto/bc.deposit.request.params.ts":
/*!***********************************************************************************!*\
  !*** ./apps/backend/src/app/payment/betContruct/dto/bc.deposit.request.params.ts ***!
  \***********************************************************************************/
/*! exports provided: BCDepositRequestParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCDepositRequestParams", function() { return BCDepositRequestParams; });
class BCDepositRequestParams {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/betContruct/dto/bc.withdraw.in.params.ts":
/*!*******************************************************************************!*\
  !*** ./apps/backend/src/app/payment/betContruct/dto/bc.withdraw.in.params.ts ***!
  \*******************************************************************************/
/*! exports provided: BCWithdrawStatus, BCWithdrawInParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCWithdrawStatus", function() { return BCWithdrawStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCWithdrawInParams", function() { return BCWithdrawInParams; });
var BCWithdrawStatus;
(function (BCWithdrawStatus) {
    BCWithdrawStatus["SUCCESS"] = "success";
    BCWithdrawStatus["FAILED"] = "failed";
})(BCWithdrawStatus || (BCWithdrawStatus = {}));
class BCWithdrawInParams {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/betContruct/dto/bc.withdraw.out.ts":
/*!*************************************************************************!*\
  !*** ./apps/backend/src/app/payment/betContruct/dto/bc.withdraw.out.ts ***!
  \*************************************************************************/
/*! exports provided: BCWithdrawOut */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCWithdrawOut", function() { return BCWithdrawOut; });
class BCWithdrawOut {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/betContruct/dto/bc.withdraw.request.params.ts":
/*!************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/betContruct/dto/bc.withdraw.request.params.ts ***!
  \************************************************************************************/
/*! exports provided: BCWithdrawRequestParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCWithdrawRequestParams", function() { return BCWithdrawRequestParams; });
class BCWithdrawRequestParams {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/betContruct/dto/create-bcorders.dto.ts":
/*!*****************************************************************************!*\
  !*** ./apps/backend/src/app/payment/betContruct/dto/create-bcorders.dto.ts ***!
  \*****************************************************************************/
/*! exports provided: CreateBCOrdersDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreateBCOrdersDto", function() { return CreateBCOrdersDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);



class CreateBCOrdersDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], CreateBCOrdersDto.prototype, "orderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], CreateBCOrdersDto.prototype, "depositOrWithdrawable", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], CreateBCOrdersDto.prototype, "processed", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBCOrdersDto.prototype, "status", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/channel/channel.controller.ts":
/*!********************************************************************!*\
  !*** ./apps/backend/src/app/payment/channel/channel.controller.ts ***!
  \********************************************************************/
/*! exports provided: ChannelController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChannelController", function() { return ChannelController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../auth/jwt-auth.guard */ "./apps/backend/src/app/auth/jwt-auth.guard.ts");
/* harmony import */ var _channel_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./channel.service */ "./apps/backend/src/app/payment/channel/channel.service.ts");
/* harmony import */ var _dto_channel_get_request_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dto/channel.get.request.dto */ "./apps/backend/src/app/payment/channel/dto/channel.get.request.dto.ts");
var _a, _b;







let ChannelController = class ChannelController {
    constructor(channelService) {
        this.channelService = channelService;
    }
    gets(query) {
        return this.channelService.findAllByQuery(query);
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Get"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].getChannels),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Query"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _dto_channel_get_request_dto__WEBPACK_IMPORTED_MODULE_6__["ChannelGetRequestDto"] !== "undefined" && _dto_channel_get_request_dto__WEBPACK_IMPORTED_MODULE_6__["ChannelGetRequestDto"]) === "function" ? _a : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", void 0)
], ChannelController.prototype, "gets", null);
ChannelController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].channel),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].paymentEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_b = typeof _channel_service__WEBPACK_IMPORTED_MODULE_5__["ChannelService"] !== "undefined" && _channel_service__WEBPACK_IMPORTED_MODULE_5__["ChannelService"]) === "function" ? _b : Object])
], ChannelController);



/***/ }),

/***/ "./apps/backend/src/app/payment/channel/channel.module.ts":
/*!****************************************************************!*\
  !*** ./apps/backend/src/app/payment/channel/channel.module.ts ***!
  \****************************************************************/
/*! exports provided: ChannelModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChannelModule", function() { return ChannelModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_channel_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../models/channel.model */ "./apps/backend/src/app/models/channel.model.ts");
/* harmony import */ var _channel_controller__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./channel.controller */ "./apps/backend/src/app/payment/channel/channel.controller.ts");
/* harmony import */ var _channel_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./channel.service */ "./apps/backend/src/app/payment/channel/channel.service.ts");






let ChannelModule = class ChannelModule {
};
ChannelModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["SequelizeModule"].forFeature([_models_channel_model__WEBPACK_IMPORTED_MODULE_3__["ChannelModel"]])],
        providers: [_channel_service__WEBPACK_IMPORTED_MODULE_5__["ChannelService"], _models_channel_model__WEBPACK_IMPORTED_MODULE_3__["ChannelModel"]],
        controllers: [_channel_controller__WEBPACK_IMPORTED_MODULE_4__["ChannelController"]],
        exports: [_channel_service__WEBPACK_IMPORTED_MODULE_5__["ChannelService"]],
    })
], ChannelModule);



/***/ }),

/***/ "./apps/backend/src/app/payment/channel/channel.service.ts":
/*!*****************************************************************!*\
  !*** ./apps/backend/src/app/payment/channel/channel.service.ts ***!
  \*****************************************************************/
/*! exports provided: ChannelService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChannelService", function() { return ChannelService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_channel_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../models/channel.model */ "./apps/backend/src/app/models/channel.model.ts");
/* harmony import */ var _models_payment_system_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../models/payment.system.model */ "./apps/backend/src/app/models/payment.system.model.ts");





let ChannelService = class ChannelService {
    constructor(channelRepository) {
        this.channelRepository = channelRepository;
    }
    findAllByQuery(query) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const findOptions = {
                include: [
                    { model: _models_payment_system_model__WEBPACK_IMPORTED_MODULE_4__["PaymentSystemModel"], as: 'fromPaymentSystem' },
                    { model: _models_payment_system_model__WEBPACK_IMPORTED_MODULE_4__["PaymentSystemModel"], as: 'toPaymentSystem' },
                ],
                order: [['id', 'asc']],
            }, where = {};
            if (query.depositOrWithdrawable !== undefined) {
                where['depositOrWithdrawable'] = query.depositOrWithdrawable;
            }
            findOptions.where = where;
            return this.channelRepository.findAll(findOptions);
        });
    }
    findById(channelId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.channelRepository.findByPk(channelId, {
                include: [
                    { model: _models_payment_system_model__WEBPACK_IMPORTED_MODULE_4__["PaymentSystemModel"], as: 'fromPaymentSystem' },
                    { model: _models_payment_system_model__WEBPACK_IMPORTED_MODULE_4__["PaymentSystemModel"], as: 'toPaymentSystem' },
                ],
            });
        });
    }
    findByChannelName(channelName) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.channelRepository.findOne({
                where: {
                    channelName: channelName.toString(),
                },
            });
        });
    }
    findAll() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.channelRepository.findAll();
        });
    }
};
ChannelService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_channel_model__WEBPACK_IMPORTED_MODULE_3__["ChannelModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [Object])
], ChannelService);



/***/ }),

/***/ "./apps/backend/src/app/payment/channel/dto/channel.get.request.dto.ts":
/*!*****************************************************************************!*\
  !*** ./apps/backend/src/app/payment/channel/dto/channel.get.request.dto.ts ***!
  \*****************************************************************************/
/*! exports provided: ChannelGetRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChannelGetRequestDto", function() { return ChannelGetRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);




class ChannelGetRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsIn"])([1, 2]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], ChannelGetRequestDto.prototype, "depositOrWithdrawable", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/dto/depositable.channel.ts":
/*!*****************************************************************!*\
  !*** ./apps/backend/src/app/payment/dto/depositable.channel.ts ***!
  \*****************************************************************/
/*! exports provided: DepositableChannel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepositableChannel", function() { return DepositableChannel; });
class DepositableChannel {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/dto/depositable.paymentsystem.ts":
/*!***********************************************************************!*\
  !*** ./apps/backend/src/app/payment/dto/depositable.paymentsystem.ts ***!
  \***********************************************************************/
/*! exports provided: DepositablePaymentSystem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepositablePaymentSystem", function() { return DepositablePaymentSystem; });
class DepositablePaymentSystem {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/dto/depositable.usdtproto.ts":
/*!*******************************************************************!*\
  !*** ./apps/backend/src/app/payment/dto/depositable.usdtproto.ts ***!
  \*******************************************************************/
/*! exports provided: DepositableUsdtProto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepositableUsdtProto", function() { return DepositableUsdtProto; });
class DepositableUsdtProto {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/dto/payment.deposit.bycard.request.dto.ts":
/*!********************************************************************************!*\
  !*** ./apps/backend/src/app/payment/dto/payment.deposit.bycard.request.dto.ts ***!
  \********************************************************************************/
/*! exports provided: PaymentDepositByCardRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentDepositByCardRequestDto", function() { return PaymentDepositByCardRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);



class PaymentDepositByCardRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentDepositByCardRequestDto.prototype, "data1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentDepositByCardRequestDto.prototype, "data2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentDepositByCardRequestDto.prototype, "userName", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/dto/payment.deposit.request.dto.ts":
/*!*************************************************************************!*\
  !*** ./apps/backend/src/app/payment/dto/payment.deposit.request.dto.ts ***!
  \*************************************************************************/
/*! exports provided: PaymentDepositRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentDepositRequestDto", function() { return PaymentDepositRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");




class PaymentDepositRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsDecimal"])({ decimal_digits: '0,2' }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentDepositRequestDto.prototype, "amount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        enum: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["PaymentSystemEnum"],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["PaymentSystemEnum"]),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentDepositRequestDto.prototype, "paymentSystem", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumberString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentDepositRequestDto.prototype, "userId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])({
        enum: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["BankCodeEnum"],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["BankCodeEnum"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentDepositRequestDto.prototype, "bankCode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])({
        enum: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["UsdtProtocolEnum"],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["UsdtProtocolEnum"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentDepositRequestDto.prototype, "usdtProto", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])({}),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentDepositRequestDto.prototype, "userName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])({}),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentDepositRequestDto.prototype, "phoneNumber", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/dto/payment.make.deposit.success.request.dto.ts":
/*!**************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/dto/payment.make.deposit.success.request.dto.ts ***!
  \**************************************************************************************/
/*! exports provided: PaymentMakeDepositSuccessRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentMakeDepositSuccessRequestDto", function() { return PaymentMakeDepositSuccessRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_3__);




class PaymentMakeDepositSuccessRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsInt"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentMakeDepositSuccessRequestDto.prototype, "orderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])()
    //@Transform((params) => Number(params.value))
    ,
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsDecimal"])({ decimal_digits: '0,2' }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentMakeDepositSuccessRequestDto.prototype, "amount", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/dto/payment.make.withdraw.success.request.dto.ts":
/*!***************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/dto/payment.make.withdraw.success.request.dto.ts ***!
  \***************************************************************************************/
/*! exports provided: PaymentMakeWithdrawSuccessRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentMakeWithdrawSuccessRequestDto", function() { return PaymentMakeWithdrawSuccessRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_3__);




class PaymentMakeWithdrawSuccessRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsInt"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentMakeWithdrawSuccessRequestDto.prototype, "orderId", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/dto/payment.manual.deposit.request.dto.ts":
/*!********************************************************************************!*\
  !*** ./apps/backend/src/app/payment/dto/payment.manual.deposit.request.dto.ts ***!
  \********************************************************************************/
/*! exports provided: PaymentManualDepositRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentManualDepositRequestDto", function() { return PaymentManualDepositRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_3__);




class PaymentManualDepositRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsInt"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentManualDepositRequestDto.prototype, "userId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentManualDepositRequestDto.prototype, "paymentProviderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentManualDepositRequestDto.prototype, "paymentProviderChannelId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])()
    //@Transform((params) => Number(params.value))
    ,
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsDecimal"])({ decimal_digits: '0,2' }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentManualDepositRequestDto.prototype, "amount", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/dto/payment.manual.deposit.result.dto.ts":
/*!*******************************************************************************!*\
  !*** ./apps/backend/src/app/payment/dto/payment.manual.deposit.result.dto.ts ***!
  \*******************************************************************************/
/*! exports provided: PaymentManualDepositResultDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentManualDepositResultDto", function() { return PaymentManualDepositResultDto; });
class PaymentManualDepositResultDto {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/dto/payment.manual.withdraw.request.dto.ts":
/*!*********************************************************************************!*\
  !*** ./apps/backend/src/app/payment/dto/payment.manual.withdraw.request.dto.ts ***!
  \*********************************************************************************/
/*! exports provided: PaymentManualWithdrawRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentManualWithdrawRequestDto", function() { return PaymentManualWithdrawRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");





class PaymentManualWithdrawRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsInt"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentManualWithdrawRequestDto.prototype, "userId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentManualWithdrawRequestDto.prototype, "orderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])()
    //@Transform((params) => Number(params.value))
    ,
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsDecimal"])({ decimal_digits: '0,2' }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentManualWithdrawRequestDto.prototype, "amount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsInt"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentManualWithdrawRequestDto.prototype, "paymentProviderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsInt"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentManualWithdrawRequestDto.prototype, "bankId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentManualWithdrawRequestDto.prototype, "bankAccountName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumberString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentManualWithdrawRequestDto.prototype, "bankAccountNumber", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentManualWithdrawRequestDto.prototype, "province", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentManualWithdrawRequestDto.prototype, "city", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentManualWithdrawRequestDto.prototype, "branch", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        enum: _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["CurrencyEnum"],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["CurrencyEnum"]),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentManualWithdrawRequestDto.prototype, "currency", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentManualWithdrawRequestDto.prototype, "userName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentManualWithdrawRequestDto.prototype, "countryCallingCode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentManualWithdrawRequestDto.prototype, "phoneNumber", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/dto/payment.manual.withdraw.result.dto.ts":
/*!********************************************************************************!*\
  !*** ./apps/backend/src/app/payment/dto/payment.manual.withdraw.result.dto.ts ***!
  \********************************************************************************/
/*! exports provided: PaymentManualWithdrawResultDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentManualWithdrawResultDto", function() { return PaymentManualWithdrawResultDto; });
class PaymentManualWithdrawResultDto {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/dto/payment.test.deposit.request.dto.ts":
/*!******************************************************************************!*\
  !*** ./apps/backend/src/app/payment/dto/payment.test.deposit.request.dto.ts ***!
  \******************************************************************************/
/*! exports provided: PaymentTestDepositRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentTestDepositRequestDto", function() { return PaymentTestDepositRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var libphonenumber_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! libphonenumber-js */ "libphonenumber-js");
/* harmony import */ var libphonenumber_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(libphonenumber_js__WEBPACK_IMPORTED_MODULE_4__);





class PaymentTestDepositRequestDto {
    fixPhoneNumber() {
        if (!this.phoneNumber) {
            return;
        }
        try {
            let phoneNumber = Object(libphonenumber_js__WEBPACK_IMPORTED_MODULE_4__["parsePhoneNumber"])(this.phoneNumber, 'CN');
            if (!phoneNumber.isValid() && this.phoneNumber.substring(0, 1) !== '+') {
                this.phoneNumber = `+${this.phoneNumber}`;
                phoneNumber = Object(libphonenumber_js__WEBPACK_IMPORTED_MODULE_4__["parsePhoneNumber"])(this.phoneNumber, 'CN');
            }
            if (phoneNumber.isValid()) {
                this.countryCallingCode = phoneNumber.countryCallingCode;
                this.phoneNumber = phoneNumber
                    .format('NATIONAL', {
                    humanReadable: false,
                    nationalPrefix: false,
                    v2: false,
                })
                    .replace(/\D/g, '');
            }
        }
        catch (error) { }
    }
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentTestDepositRequestDto.prototype, "paymentProviderChannelId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])()
    //@Transform((params) => Number(params.value))
    ,
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsDecimal"])({ decimal_digits: '0,2' }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentTestDepositRequestDto.prototype, "amount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])({}),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentTestDepositRequestDto.prototype, "userName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])({}),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentTestDepositRequestDto.prototype, "phoneNumber", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])({}),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsInt"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentTestDepositRequestDto.prototype, "bankId", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/dto/payment.test.deposit.result.dto.ts":
/*!*****************************************************************************!*\
  !*** ./apps/backend/src/app/payment/dto/payment.test.deposit.result.dto.ts ***!
  \*****************************************************************************/
/*! exports provided: PaymentTestDepositResultDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentTestDepositResultDto", function() { return PaymentTestDepositResultDto; });
class PaymentTestDepositResultDto {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/dto/payment.withdraw.request.dto.ts":
/*!**************************************************************************!*\
  !*** ./apps/backend/src/app/payment/dto/payment.withdraw.request.dto.ts ***!
  \**************************************************************************/
/*! exports provided: PaymentWithdrawRequestDto, PaymentWithdrawQueryRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentWithdrawRequestDto", function() { return PaymentWithdrawRequestDto; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentWithdrawQueryRequestDto", function() { return PaymentWithdrawQueryRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_4__);





class PaymentWithdrawRequestDto {
    static checkToken(token) {
        return token === process.env.WITHDRAWAL_TOKEN;
    }
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentWithdrawRequestDto.prototype, "orderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsDecimal"])({ decimal_digits: '0,2' }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentWithdrawRequestDto.prototype, "amount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumberString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentWithdrawRequestDto.prototype, "userId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        enum: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["BankCodeEnum"],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["BankCodeEnum"]),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentWithdrawRequestDto.prototype, "bankCode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentWithdrawRequestDto.prototype, "bankAccountName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumberString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["MinLength"])(13),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["MaxLength"])(20),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentWithdrawRequestDto.prototype, "bankAccountNumber", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentWithdrawRequestDto.prototype, "province", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentWithdrawRequestDto.prototype, "city", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentWithdrawRequestDto.prototype, "branch", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        enum: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["CurrencyEnum"],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["CurrencyEnum"]),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentWithdrawRequestDto.prototype, "currency", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentWithdrawRequestDto.prototype, "userName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentWithdrawRequestDto.prototype, "phoneNumber", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["MinLength"])(32),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["MaxLength"])(32),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentWithdrawRequestDto.prototype, "hashcode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentWithdrawRequestDto.prototype, "token", void 0);
class PaymentWithdrawQueryRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentWithdrawQueryRequestDto.prototype, "orderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_4__["Transform"])((params) => (Number.isNaN(+params.value) ? 0 : +params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsInt"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentWithdrawQueryRequestDto.prototype, "amount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["CurrencyEnum"]),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentWithdrawQueryRequestDto.prototype, "currency", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/dto/withdrawable.banks.ts":
/*!****************************************************************!*\
  !*** ./apps/backend/src/app/payment/dto/withdrawable.banks.ts ***!
  \****************************************************************/
/*! exports provided: WithdrawableBank */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WithdrawableBank", function() { return WithdrawableBank; });
class WithdrawableBank {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/huobi/huobi.module.ts":
/*!************************************************************!*\
  !*** ./apps/backend/src/app/payment/huobi/huobi.module.ts ***!
  \************************************************************/
/*! exports provided: HuobiModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HuobiModule", function() { return HuobiModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_bull__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/bull */ "@nestjs/bull");
/* harmony import */ var _nestjs_bull__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_bull__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _models_options_model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../models/options.model */ "./apps/backend/src/app/models/options.model.ts");
/* harmony import */ var _huobi_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./huobi.service */ "./apps/backend/src/app/payment/huobi/huobi.service.ts");







let HuobiModule = class HuobiModule {
};
HuobiModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_2__["Module"])({
        imports: [
            _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_4__["SequelizeModule"].forFeature([_models_options_model__WEBPACK_IMPORTED_MODULE_5__["OptionsModel"]]),
            _nestjs_bull__WEBPACK_IMPORTED_MODULE_1__["BullModule"].registerQueue({
                name: 'performHuobi',
            }),
            _nestjs_common__WEBPACK_IMPORTED_MODULE_2__["HttpModule"].register({
                timeout: 45000,
                maxRedirects: 5,
            }),
            _nestjs_config__WEBPACK_IMPORTED_MODULE_3__["ConfigModule"].forRoot({}),
        ],
        providers: [_huobi_service__WEBPACK_IMPORTED_MODULE_6__["HuobiService"]],
        controllers: [],
        exports: [_huobi_service__WEBPACK_IMPORTED_MODULE_6__["HuobiService"]],
    })
], HuobiModule);



/***/ }),

/***/ "./apps/backend/src/app/payment/huobi/huobi.service.ts":
/*!*************************************************************!*\
  !*** ./apps/backend/src/app/payment/huobi/huobi.service.ts ***!
  \*************************************************************/
/*! exports provided: HuobiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HuobiService", function() { return HuobiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_bull__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/bull */ "@nestjs/bull");
/* harmony import */ var _nestjs_bull__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_bull__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _nestjs_schedule__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @nestjs/schedule */ "@nestjs/schedule");
/* harmony import */ var _nestjs_schedule__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_nestjs_schedule__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var bull__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! bull */ "bull");
/* harmony import */ var bull__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(bull__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _models_options_model__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../models/options.model */ "./apps/backend/src/app/models/options.model.ts");
var _a, _b, _c, _d;








let HuobiService = class HuobiService {
    constructor(performHuobiTasksQueue, httpService, optionsRepository, configService) {
        this.performHuobiTasksQueue = performHuobiTasksQueue;
        this.httpService = httpService;
        this.optionsRepository = optionsRepository;
        this.configService = configService;
        this.performTask();
    }
    intervalEntry() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const huobiCheck = this.configService.get('HUOBI_CHECK');
            if (!huobiCheck || !JSON.parse(huobiCheck)) {
                return;
            }
            this.performTask();
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Perform Huobi Task
    ///////////////////////////////////////////////////////////////////////////////
    performTask(force) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.performJob && !force) {
                return false;
            }
            try {
                if (this.performJob) {
                    yield this.performJob.finished();
                }
                this.performJob = yield this.performHuobiTasksQueue.add('perform-huobi-tasks', {}, { timeout: 60000, attempts: 1 } // 60s 1m
                );
                yield this.performJob.finished();
            }
            catch (error) { }
            this.performJob = null;
            return true;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Perform Huobi Task Consumer
    ///////////////////////////////////////////////////////////////////////////////
    performHuobiTasks(job) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let itemUsdtRate;
            try {
                const response = yield this.httpService
                    .get('https://api.huobi.pro/general/exchange_rate/list', { params: {} })
                    .toPromise();
                const rawData = response.data;
                if (!rawData) {
                    return;
                }
                const { code, data, message, success } = rawData;
                if (code !== 200 || success !== true) {
                    return;
                }
                itemUsdtRate = data.find((item) => item.name === 'usdt_cny');
                if (!itemUsdtRate) {
                    return;
                }
                let optionItem = yield this.optionsRepository.findOne({
                    where: { optName: 'huobiExchangeData' },
                });
                if (!optionItem) {
                    optionItem = this.optionsRepository.build({
                        optName: 'huobiExchangeData',
                        optValue: JSON.stringify(itemUsdtRate),
                    });
                }
                else {
                    optionItem.optValue = Buffer.from(JSON.stringify(itemUsdtRate));
                }
                yield optionItem.save();
            }
            catch (error) {
                //console.log(error);
            }
        });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_schedule__WEBPACK_IMPORTED_MODULE_4__["Interval"])('huobiPerformScheduler', 60000),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", []),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], HuobiService.prototype, "intervalEntry", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_bull__WEBPACK_IMPORTED_MODULE_1__["Process"])('perform-huobi-tasks'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof bull__WEBPACK_IMPORTED_MODULE_6__["Job"] !== "undefined" && bull__WEBPACK_IMPORTED_MODULE_6__["Job"]) === "function" ? _a : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], HuobiService.prototype, "performHuobiTasks", null);
HuobiService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    Object(_nestjs_bull__WEBPACK_IMPORTED_MODULE_1__["Processor"])('performHuobi'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_bull__WEBPACK_IMPORTED_MODULE_1__["InjectQueue"])('performHuobi')),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(2, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_5__["InjectModel"])(_models_options_model__WEBPACK_IMPORTED_MODULE_7__["OptionsModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_b = typeof bull__WEBPACK_IMPORTED_MODULE_6__["Queue"] !== "undefined" && bull__WEBPACK_IMPORTED_MODULE_6__["Queue"]) === "function" ? _b : Object, typeof (_c = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_2__["HttpService"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_2__["HttpService"]) === "function" ? _c : Object, Object, typeof (_d = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_3__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_3__["ConfigService"]) === "function" ? _d : Object])
], HuobiService);



/***/ }),

/***/ "./apps/backend/src/app/payment/order/deposit-order/deposit.order.dto.ts":
/*!*******************************************************************************!*\
  !*** ./apps/backend/src/app/payment/order/deposit-order/deposit.order.dto.ts ***!
  \*******************************************************************************/
/*! exports provided: ORDER_NUMBER_PREFIX, DepositOrderCreateDto, DepositOrderUpdateDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ORDER_NUMBER_PREFIX", function() { return ORDER_NUMBER_PREFIX; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepositOrderCreateDto", function() { return DepositOrderCreateDto; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepositOrderUpdateDto", function() { return DepositOrderUpdateDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
var _a;





const ORDER_NUMBER_PREFIX = 'ORDER';
class DepositOrderCreateDto {
    static pendingDepositFactory(pendingOrder) {
        const orderCreate = new DepositOrderCreateDto();
        orderCreate.orderId = pendingOrder.orderId;
        orderCreate.userId = pendingOrder.userId;
        orderCreate.amount = pendingOrder.amount;
        orderCreate.usdtExchangeRate = pendingOrder.usdtExchangeRate;
        orderCreate.status = pendingOrder.status;
        orderCreate.providerOrderId = pendingOrder.providerOrderId;
        orderCreate.channelId = pendingOrder.channelId;
        orderCreate.date = pendingOrder.date;
        orderCreate.paymentProviderId = pendingOrder.paymentProviderId;
        orderCreate.paymentProviderChannelId =
            pendingOrder.paymentProviderChannelId;
        orderCreate.userName = pendingOrder.userName;
        orderCreate.last4Digit = pendingOrder.last4Digit;
        orderCreate.paymentProviderCardId = pendingOrder.paymentProviderCardId;
        return orderCreate;
    }
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsDecimal"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositOrderCreateDto.prototype, "amount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsDecimal"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositOrderCreateDto.prototype, "usdtExchangeRate", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositOrderCreateDto.prototype, "userId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsDate"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Type"])(() => Date),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof Date !== "undefined" && Date) === "function" ? _a : Object)
], DepositOrderCreateDto.prototype, "date", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositOrderCreateDto.prototype, "paymentProviderCardId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositOrderCreateDto.prototype, "userName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositOrderCreateDto.prototype, "last4Digit", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositOrderCreateDto.prototype, "orderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositOrderCreateDto.prototype, "providerOrderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositOrderCreateDto.prototype, "channelId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositOrderCreateDto.prototype, "paymentProviderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositOrderCreateDto.prototype, "paymentProviderChannelId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositOrderCreateDto.prototype, "status", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositOrderCreateDto.prototype, "hash", void 0);
class DepositOrderUpdateDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositOrderUpdateDto.prototype, "status", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositOrderUpdateDto.prototype, "providerOrderId", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/order/deposit-order/deposit.order.module.ts":
/*!**********************************************************************************!*\
  !*** ./apps/backend/src/app/payment/order/deposit-order/deposit.order.module.ts ***!
  \**********************************************************************************/
/*! exports provided: DepositOrderModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepositOrderModule", function() { return DepositOrderModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_deposit_order_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/deposit.order.model */ "./apps/backend/src/app/models/deposit.order.model.ts");
/* harmony import */ var _deposit_order_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./deposit.order.service */ "./apps/backend/src/app/payment/order/deposit-order/deposit.order.service.ts");





let DepositOrderModule = class DepositOrderModule {
};
DepositOrderModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["SequelizeModule"].forFeature([_models_deposit_order_model__WEBPACK_IMPORTED_MODULE_3__["DepositOrderModel"]])],
        providers: [_deposit_order_service__WEBPACK_IMPORTED_MODULE_4__["DepositOrderService"], _models_deposit_order_model__WEBPACK_IMPORTED_MODULE_3__["DepositOrderModel"]],
        controllers: [],
        exports: [_deposit_order_service__WEBPACK_IMPORTED_MODULE_4__["DepositOrderService"]],
    })
], DepositOrderModule);



/***/ }),

/***/ "./apps/backend/src/app/payment/order/deposit-order/deposit.order.service.ts":
/*!***********************************************************************************!*\
  !*** ./apps/backend/src/app/payment/order/deposit-order/deposit.order.service.ts ***!
  \***********************************************************************************/
/*! exports provided: DepositOrderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepositOrderService", function() { return DepositOrderService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_deposit_order_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/deposit.order.model */ "./apps/backend/src/app/models/deposit.order.model.ts");




let DepositOrderService = class DepositOrderService {
    constructor(depositRepository) {
        this.depositRepository = depositRepository;
    }
    create(depositOrderCreateDto, options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            depositOrderCreateDto.date = new Date();
            const createdDepositOrder = new _models_deposit_order_model__WEBPACK_IMPORTED_MODULE_3__["DepositOrderModel"](depositOrderCreateDto);
            yield createdDepositOrder.save(options);
            return this.sanitizeDeposit(createdDepositOrder);
        });
    }
    update(order, options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return yield order.save(options);
        });
    }
    sanitizeDeposit(Deposit) {
        const sanitized = Deposit;
        delete sanitized.status;
        delete sanitized.paymentProviderId;
        delete sanitized.paymentProviderChannelId;
        return sanitized;
    }
    findByOrderId(orderId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.depositRepository.findOne({
                where: {
                    orderId: orderId,
                },
            });
        });
    }
    findByHash(hash) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.depositRepository.findOne({
                where: {
                    hash,
                },
            });
        });
    }
};
DepositOrderService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_deposit_order_model__WEBPACK_IMPORTED_MODULE_3__["DepositOrderModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [Object])
], DepositOrderService);



/***/ }),

/***/ "./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.dto.ts":
/*!***********************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.dto.ts ***!
  \***********************************************************************************************/
/*! exports provided: ORDER_NUMBER_PREFIX, DepositPendingOrderCreateDto, DepositPendingOrderUpdateDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ORDER_NUMBER_PREFIX", function() { return ORDER_NUMBER_PREFIX; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepositPendingOrderCreateDto", function() { return DepositPendingOrderCreateDto; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepositPendingOrderUpdateDto", function() { return DepositPendingOrderUpdateDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
var _a;





const ORDER_NUMBER_PREFIX = 'ORDER';
class DepositPendingOrderCreateDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositPendingOrderCreateDto.prototype, "orderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsDecimal"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositPendingOrderCreateDto.prototype, "amount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsDecimal"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositPendingOrderCreateDto.prototype, "usdtExchangeRate", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositPendingOrderCreateDto.prototype, "userId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsDate"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Type"])(() => Date),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof Date !== "undefined" && Date) === "function" ? _a : Object)
], DepositPendingOrderCreateDto.prototype, "date", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositPendingOrderCreateDto.prototype, "paymentProviderCardId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositPendingOrderCreateDto.prototype, "userName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositPendingOrderCreateDto.prototype, "last4Digit", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositPendingOrderCreateDto.prototype, "providerOrderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositPendingOrderCreateDto.prototype, "channelId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositPendingOrderCreateDto.prototype, "paymentProviderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], DepositPendingOrderCreateDto.prototype, "paymentProviderChannelId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositPendingOrderCreateDto.prototype, "status", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositPendingOrderCreateDto.prototype, "hash", void 0);
class DepositPendingOrderUpdateDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositPendingOrderUpdateDto.prototype, "status", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], DepositPendingOrderUpdateDto.prototype, "providerId", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.module.ts":
/*!**************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.module.ts ***!
  \**************************************************************************************************/
/*! exports provided: DepositPendingOrderModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepositPendingOrderModule", function() { return DepositPendingOrderModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_deposit_pending_order_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/deposit.pending.order.model */ "./apps/backend/src/app/models/deposit.pending.order.model.ts");
/* harmony import */ var _deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./deposit.pending.order.service */ "./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.service.ts");





let DepositPendingOrderModule = class DepositPendingOrderModule {
};
DepositPendingOrderModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["SequelizeModule"].forFeature([_models_deposit_pending_order_model__WEBPACK_IMPORTED_MODULE_3__["DepositPendingOrderModel"]])],
        providers: [_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_4__["DepositPendingOrderService"], _models_deposit_pending_order_model__WEBPACK_IMPORTED_MODULE_3__["DepositPendingOrderModel"]],
        controllers: [],
        exports: [_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_4__["DepositPendingOrderService"]],
    })
], DepositPendingOrderModule);



/***/ }),

/***/ "./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.service.ts":
/*!***************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.service.ts ***!
  \***************************************************************************************************/
/*! exports provided: DepositPendingOrderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepositPendingOrderService", function() { return DepositPendingOrderService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_deposit_pending_order_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/deposit.pending.order.model */ "./apps/backend/src/app/models/deposit.pending.order.model.ts");




let DepositPendingOrderService = class DepositPendingOrderService {
    constructor(depositPendingOrderRepository) {
        this.depositPendingOrderRepository = depositPendingOrderRepository;
    }
    create(orderCreate, options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            orderCreate.date = new Date();
            const order = new _models_deposit_pending_order_model__WEBPACK_IMPORTED_MODULE_3__["DepositPendingOrderModel"](orderCreate);
            yield order.save(options);
            return this.sanitizeDeposit(order);
        });
    }
    update(order, options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return yield order.save(options);
        });
    }
    sanitizeDeposit(Deposit) {
        const sanitized = Deposit;
        delete sanitized.status;
        delete sanitized.paymentProviderId;
        delete sanitized.paymentProviderChannelId;
        return sanitized;
    }
    findByOrderId(orderId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.depositPendingOrderRepository.findOne({
                where: {
                    orderId: orderId,
                },
            });
        });
    }
    findByHash(hash) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.depositPendingOrderRepository.findOne({
                where: {
                    hash,
                },
            });
        });
    }
    destroy(order, options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield order.destroy(options);
        });
    }
};
DepositPendingOrderService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_deposit_pending_order_model__WEBPACK_IMPORTED_MODULE_3__["DepositPendingOrderModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [Object])
], DepositPendingOrderService);



/***/ }),

/***/ "./apps/backend/src/app/payment/order/deposit/deposit.order.all.controller.ts":
/*!************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/order/deposit/deposit.order.all.controller.ts ***!
  \************************************************************************************/
/*! exports provided: DepositOrderAllController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepositOrderAllController", function() { return DepositOrderAllController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../auth/jwt-auth.guard */ "./apps/backend/src/app/auth/jwt-auth.guard.ts");
/* harmony import */ var _deposit_order_all_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./deposit.order.all.service */ "./apps/backend/src/app/payment/order/deposit/deposit.order.all.service.ts");
var _a;






let DepositOrderAllController = class DepositOrderAllController {
    constructor(depositOrderAllService) {
        this.depositOrderAllService = depositOrderAllService;
    }
    gets() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.depositOrderAllService.findAll();
        });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Get"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].getDepositAllOrders),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", []),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], DepositOrderAllController.prototype, "gets", null);
DepositOrderAllController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].depositAllOrders),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].paymentEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _deposit_order_all_service__WEBPACK_IMPORTED_MODULE_5__["DepositOrderAllService"] !== "undefined" && _deposit_order_all_service__WEBPACK_IMPORTED_MODULE_5__["DepositOrderAllService"]) === "function" ? _a : Object])
], DepositOrderAllController);



/***/ }),

/***/ "./apps/backend/src/app/payment/order/deposit/deposit.order.all.module.ts":
/*!********************************************************************************!*\
  !*** ./apps/backend/src/app/payment/order/deposit/deposit.order.all.module.ts ***!
  \********************************************************************************/
/*! exports provided: DepositOrderAllModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepositOrderAllModule", function() { return DepositOrderAllModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _deposit_order_all_controller__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./deposit.order.all.controller */ "./apps/backend/src/app/payment/order/deposit/deposit.order.all.controller.ts");
/* harmony import */ var _deposit_order_all_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./deposit.order.all.service */ "./apps/backend/src/app/payment/order/deposit/deposit.order.all.service.ts");




let DepositOrderAllModule = class DepositOrderAllModule {
};
DepositOrderAllModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [],
        providers: [_deposit_order_all_service__WEBPACK_IMPORTED_MODULE_3__["DepositOrderAllService"]],
        controllers: [_deposit_order_all_controller__WEBPACK_IMPORTED_MODULE_2__["DepositOrderAllController"]],
        exports: [_deposit_order_all_service__WEBPACK_IMPORTED_MODULE_3__["DepositOrderAllService"]],
    })
], DepositOrderAllModule);



/***/ }),

/***/ "./apps/backend/src/app/payment/order/deposit/deposit.order.all.service.ts":
/*!*********************************************************************************!*\
  !*** ./apps/backend/src/app/payment/order/deposit/deposit.order.all.service.ts ***!
  \*********************************************************************************/
/*! exports provided: DepositOrderAllService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepositOrderAllService", function() { return DepositOrderAllService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sequelize */ "sequelize");
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(sequelize__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_4__);
var _a;





let DepositOrderAllService = class DepositOrderAllService {
    constructor(sequelize) {
        this.sequelize = sequelize;
    }
    findAll() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const sql = `
    select 
        pd.id , pd."userId" , pd."date" , pd."orderId" , pd."providerOrderId" , pd.amount , pd.status , 
        pd."channelId" , pd."paymentProviderId" , c2."fromPaymentSystemId" ,
        pd."paymentProviderChannelId", pd."userName", pd."last4Digit",
        pp."providerName", pp."isDepositSupport" , pp."isWithdrawalSupport", pp."isOnlyCardSupport",
        ppc."providerChannelName" , ppc."providerMinAmount" , ppc."providerMaxAmount", ppc."isActive" , ppc."isAvailable" ,
        c2."channelName" , c2."depositOrWithdrawable" , c2."toPaymentSystemId" 
      from  "pendingDeposit" pd 
      left join channel c2 on pd."channelId"  = c2.id
      left join "paymentProviders" pp on pd."paymentProviderId"  = pp.id 
      left join "paymentProviderChannel" ppc on pd."paymentProviderChannelId" = ppc.id 
    union
    select
        d2.id , d2."userId" , d2."date" , d2."orderId" , d2."providerOrderId" , d2.amount , d2.status , 
        d2."channelId" , d2."paymentProviderId" , c3."fromPaymentSystemId" ,
        d2."paymentProviderChannelId", d2."userName", d2."last4Digit",
        pp."providerName", pp."isDepositSupport" , pp."isWithdrawalSupport", pp."isOnlyCardSupport",
        ppc."providerChannelName" , ppc."providerMinAmount" , ppc."providerMaxAmount", ppc."isActive" , ppc."isAvailable" ,
        c3."channelName" , c3."depositOrWithdrawable" , c3."toPaymentSystemId" 
      from deposit d2 
      left join channel c3 on d2."channelId"  = c3.id 
      left join "paymentProviders" pp on d2."paymentProviderId"  = pp.id 
      left join "paymentProviderChannel" ppc on d2."paymentProviderChannelId" = ppc.id
    order by "date" desc, "userId", "id"   `;
            const items = yield this.sequelize.query(sql, {
                type: sequelize__WEBPACK_IMPORTED_MODULE_3__["QueryTypes"].SELECT,
            });
            const orders = [];
            items.forEach((item) => {
                const order = {};
                order.id = item['id'];
                order.userId = numeral__WEBPACK_IMPORTED_MODULE_4__(item['userId']).value();
                order.date = item['date'];
                order.orderId = numeral__WEBPACK_IMPORTED_MODULE_4__(item['orderId']).value();
                order.providerOrderId = item['providerOrderId'];
                order.amount = numeral__WEBPACK_IMPORTED_MODULE_4__(item['amount']).value();
                order.status = item['status'];
                order.userName = item['userName'];
                order.last4Digit = item['last4Digit'];
                order.paymentProvider = {
                    id: numeral__WEBPACK_IMPORTED_MODULE_4__(item['paymentProviderId']).value(),
                    providerName: item['providerName'],
                    isDepositSupport: JSON.parse(item['isDepositSupport']),
                    isWithdrawalSupport: JSON.parse(item['isWithdrawalSupport']),
                    isOnlyCardSupport: JSON.parse(item['isOnlyCardSupport']),
                };
                order.paymentProviderChannel = {
                    id: numeral__WEBPACK_IMPORTED_MODULE_4__(item['paymentProviderChannelId']).value(),
                    providerChannelName: item['providerChannelName'],
                    providerMinAmount: numeral__WEBPACK_IMPORTED_MODULE_4__(item['providerMinAmount']).value(),
                    providerMaxAmount: numeral__WEBPACK_IMPORTED_MODULE_4__(item['providerMaxAmount']).value(),
                    isActive: JSON.parse(item['isActive']),
                    isAvailable: JSON.parse(item['isAvailable']),
                };
                order.channel = {
                    id: numeral__WEBPACK_IMPORTED_MODULE_4__(item['channelId']).value(),
                    channelName: item['channelName'],
                    depositOrWithdrawable: numeral__WEBPACK_IMPORTED_MODULE_4__(item['depositOrWithdrawable']).value(),
                    fromPaymentSystemId: numeral__WEBPACK_IMPORTED_MODULE_4__(item['fromPaymentSystemId']).value(),
                    toPaymentSystemId: numeral__WEBPACK_IMPORTED_MODULE_4__(item['toPaymentSystemId']).value(),
                };
                orders.push(order);
            });
            return orders;
        });
    }
};
DepositOrderAllService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Sequelize"]) === "function" ? _a : Object])
], DepositOrderAllService);



/***/ }),

/***/ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.dto.ts":
/*!*********************************************************************************!*\
  !*** ./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.dto.ts ***!
  \*********************************************************************************/
/*! exports provided: ORDER_NUMBER_PREFIX, WithdrawOrderCreateDto, WithdrawOrderUpdateDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ORDER_NUMBER_PREFIX", function() { return ORDER_NUMBER_PREFIX; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WithdrawOrderCreateDto", function() { return WithdrawOrderCreateDto; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WithdrawOrderUpdateDto", function() { return WithdrawOrderUpdateDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
var _a;





const ORDER_NUMBER_PREFIX = 'ORDER';
class WithdrawOrderCreateDto {
    static pendingWithdrawFactory(pendingOrder) {
        const orderCreate = new WithdrawOrderCreateDto();
        orderCreate.orderId = pendingOrder.orderId;
        orderCreate.userId = pendingOrder.userId;
        orderCreate.clientOrderId = pendingOrder.clientOrderId;
        orderCreate.amount = pendingOrder.amount;
        orderCreate.status = pendingOrder.status;
        orderCreate.providerOrderId = pendingOrder.providerOrderId;
        orderCreate.date = pendingOrder.date;
        orderCreate.paymentProviderId = pendingOrder.paymentProviderId;
        orderCreate.currency = pendingOrder.currency;
        orderCreate.hashcode = pendingOrder.hashcode;
        orderCreate.bankId = pendingOrder.bankId;
        orderCreate.bankAccountName = pendingOrder.bankAccountName;
        orderCreate.bankAccountNumber = pendingOrder.bankAccountNumber;
        orderCreate.province = pendingOrder.province;
        orderCreate.city = pendingOrder.city;
        orderCreate.branch = pendingOrder.branch;
        orderCreate.userName = pendingOrder.userName;
        orderCreate.countryCallingCode = pendingOrder.countryCallingCode;
        orderCreate.phoneNumber = pendingOrder.phoneNumber;
        return orderCreate;
    }
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderCreateDto.prototype, "orderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsUUID"])('4'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderCreateDto.prototype, "userId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderCreateDto.prototype, "clientOrderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsDecimal"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], WithdrawOrderCreateDto.prototype, "amount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsDate"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Type"])(() => Date),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof Date !== "undefined" && Date) === "function" ? _a : Object)
], WithdrawOrderCreateDto.prototype, "date", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderCreateDto.prototype, "providerOrderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], WithdrawOrderCreateDto.prototype, "paymentProviderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["CurrencyEnum"]),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderCreateDto.prototype, "currency", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumberString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["MinLength"])(32),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["MaxLength"])(32),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderCreateDto.prototype, "hashcode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], WithdrawOrderCreateDto.prototype, "bankId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderCreateDto.prototype, "bankAccountName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderCreateDto.prototype, "bankAccountNumber", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderCreateDto.prototype, "province", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderCreateDto.prototype, "city", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderCreateDto.prototype, "branch", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderCreateDto.prototype, "userName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderCreateDto.prototype, "countryCallingCode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderCreateDto.prototype, "phoneNumber", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderCreateDto.prototype, "status", void 0);
class WithdrawOrderUpdateDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderUpdateDto.prototype, "status", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawOrderUpdateDto.prototype, "providerId", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.module.ts":
/*!************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.module.ts ***!
  \************************************************************************************/
/*! exports provided: WithdrawOrderModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WithdrawOrderModule", function() { return WithdrawOrderModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_withdraw_order_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/withdraw.order.model */ "./apps/backend/src/app/models/withdraw.order.model.ts");
/* harmony import */ var _withdraw_order_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./withdraw.order.service */ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.service.ts");





let WithdrawOrderModule = class WithdrawOrderModule {
};
WithdrawOrderModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["SequelizeModule"].forFeature([_models_withdraw_order_model__WEBPACK_IMPORTED_MODULE_3__["WithdrawOrderModel"]])],
        providers: [_withdraw_order_service__WEBPACK_IMPORTED_MODULE_4__["WithdrawOrderService"], _models_withdraw_order_model__WEBPACK_IMPORTED_MODULE_3__["WithdrawOrderModel"]],
        controllers: [],
        exports: [_withdraw_order_service__WEBPACK_IMPORTED_MODULE_4__["WithdrawOrderService"]],
    })
], WithdrawOrderModule);



/***/ }),

/***/ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.service.ts":
/*!*************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.service.ts ***!
  \*************************************************************************************/
/*! exports provided: WithdrawOrderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WithdrawOrderService", function() { return WithdrawOrderService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_withdraw_order_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/withdraw.order.model */ "./apps/backend/src/app/models/withdraw.order.model.ts");




let WithdrawOrderService = class WithdrawOrderService {
    constructor(withdrawRepository) {
        this.withdrawRepository = withdrawRepository;
    }
    create(withdrawOrderCreateDto, options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            withdrawOrderCreateDto.date = new Date();
            const order = new _models_withdraw_order_model__WEBPACK_IMPORTED_MODULE_3__["WithdrawOrderModel"](withdrawOrderCreateDto);
            yield order.save(options);
            return order;
        });
    }
    update(order, options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return yield order.save(options);
        });
    }
    sanitizeWithdraw(Withdraw) {
        const sanitized = Withdraw;
        delete sanitized.status;
        delete sanitized.paymentProviderId;
        return sanitized;
    }
    findByOrderId(orderId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.withdrawRepository.findOne({
                where: {
                    orderId: orderId,
                },
            });
        });
    }
    findByClientOrderId(clientOrderId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.withdrawRepository.findOne({
                where: { clientOrderId },
            });
        });
    }
    findByOrder(withdrawQueryRequestDto) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const orderId = withdrawQueryRequestDto.orderId;
            const currency = withdrawQueryRequestDto.currency;
            const amount = withdrawQueryRequestDto.amount;
            return this.withdrawRepository.findOne({
                where: {
                    orderId: orderId,
                    currency: currency,
                    amount: amount,
                },
            });
        });
    }
};
WithdrawOrderService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_withdraw_order_model__WEBPACK_IMPORTED_MODULE_3__["WithdrawOrderModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [Object])
], WithdrawOrderService);



/***/ }),

/***/ "./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.dto.ts":
/*!*************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.dto.ts ***!
  \*************************************************************************************************/
/*! exports provided: ORDER_NUMBER_PREFIX, WithdrawPendingOrderCreateDto, WithdrawPendingOrderUpdateDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ORDER_NUMBER_PREFIX", function() { return ORDER_NUMBER_PREFIX; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WithdrawPendingOrderCreateDto", function() { return WithdrawPendingOrderCreateDto; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WithdrawPendingOrderUpdateDto", function() { return WithdrawPendingOrderUpdateDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
var _a;





const ORDER_NUMBER_PREFIX = 'ORDER';
class WithdrawPendingOrderCreateDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsDecimal"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], WithdrawPendingOrderCreateDto.prototype, "amount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderCreateDto.prototype, "orderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderCreateDto.prototype, "userId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderCreateDto.prototype, "clientOrderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsDate"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Type"])(() => Date),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof Date !== "undefined" && Date) === "function" ? _a : Object)
], WithdrawPendingOrderCreateDto.prototype, "date", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderCreateDto.prototype, "providerOrderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], WithdrawPendingOrderCreateDto.prototype, "paymentProviderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["CurrencyEnum"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderCreateDto.prototype, "currency", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderCreateDto.prototype, "hashcode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], WithdrawPendingOrderCreateDto.prototype, "bankId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderCreateDto.prototype, "bankAccountName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderCreateDto.prototype, "bankAccountNumber", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderCreateDto.prototype, "province", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderCreateDto.prototype, "city", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderCreateDto.prototype, "branch", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderCreateDto.prototype, "userName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderCreateDto.prototype, "countryCallingCode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderCreateDto.prototype, "phoneNumber", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderCreateDto.prototype, "status", void 0);
class WithdrawPendingOrderUpdateDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderUpdateDto.prototype, "status", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], WithdrawPendingOrderUpdateDto.prototype, "providerId", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.module.ts":
/*!****************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.module.ts ***!
  \****************************************************************************************************/
/*! exports provided: WithdrawPendingOrderModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WithdrawPendingOrderModule", function() { return WithdrawPendingOrderModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_withdraw_pending_order_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/withdraw.pending.order.model */ "./apps/backend/src/app/models/withdraw.pending.order.model.ts");
/* harmony import */ var _withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./withdraw.pending.order.service */ "./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.service.ts");





let WithdrawPendingOrderModule = class WithdrawPendingOrderModule {
};
WithdrawPendingOrderModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["SequelizeModule"].forFeature([_models_withdraw_pending_order_model__WEBPACK_IMPORTED_MODULE_3__["WithdrawPendingOrderModel"]])],
        providers: [_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_4__["WithdrawPendingOrderService"], _models_withdraw_pending_order_model__WEBPACK_IMPORTED_MODULE_3__["WithdrawPendingOrderModel"]],
        controllers: [],
        exports: [_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_4__["WithdrawPendingOrderService"]],
    })
], WithdrawPendingOrderModule);



/***/ }),

/***/ "./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.service.ts":
/*!*****************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.service.ts ***!
  \*****************************************************************************************************/
/*! exports provided: WithdrawPendingOrderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WithdrawPendingOrderService", function() { return WithdrawPendingOrderService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_withdraw_pending_order_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/withdraw.pending.order.model */ "./apps/backend/src/app/models/withdraw.pending.order.model.ts");




let WithdrawPendingOrderService = class WithdrawPendingOrderService {
    constructor(withdrawPendingRepository) {
        this.withdrawPendingRepository = withdrawPendingRepository;
    }
    create(withdrawOrderCreateDto, options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            withdrawOrderCreateDto.date = new Date();
            const order = _models_withdraw_pending_order_model__WEBPACK_IMPORTED_MODULE_3__["WithdrawPendingOrderModel"].build(withdrawOrderCreateDto);
            return yield order.save(options);
        });
    }
    update(order, options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return yield order.save(options);
        });
    }
    destroy(order, options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield order.destroy(options);
        });
    }
    findOne() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.withdrawPendingRepository.findOne();
        });
    }
    findByOrderId(orderId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.withdrawPendingRepository.findOne({
                where: {
                    orderId: orderId,
                },
            });
        });
    }
    findByClientOrderId(clientOrderId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.withdrawPendingRepository.findOne({
                where: { clientOrderId },
            });
        });
    }
    findByOrder(withdrawQueryRequestDto) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const orderId = withdrawQueryRequestDto.orderId;
            const currency = withdrawQueryRequestDto.currency;
            const amount = withdrawQueryRequestDto.amount;
            return this.withdrawPendingRepository.findOne({
                where: {
                    orderId: orderId,
                    currency: currency,
                    amount: amount,
                },
            });
        });
    }
};
WithdrawPendingOrderService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_withdraw_pending_order_model__WEBPACK_IMPORTED_MODULE_3__["WithdrawPendingOrderModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [Object])
], WithdrawPendingOrderService);



/***/ }),

/***/ "./apps/backend/src/app/payment/order/withdraw/dto/get.withdraw.order.all.request.dto.ts":
/*!***********************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/order/withdraw/dto/get.withdraw.order.all.request.dto.ts ***!
  \***********************************************************************************************/
/*! exports provided: GetWithdrawOrderAllRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetWithdrawOrderAllRequestDto", function() { return GetWithdrawOrderAllRequestDto; });
/* harmony import */ var _shared_dto_Search_dto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../shared/dto/Search.dto */ "./apps/backend/src/app/shared/dto/Search.dto.ts");

class GetWithdrawOrderAllRequestDto extends _shared_dto_Search_dto__WEBPACK_IMPORTED_MODULE_0__["SearchDto"] {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/order/withdraw/withdraw.order.all.controller.ts":
/*!**************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/order/withdraw/withdraw.order.all.controller.ts ***!
  \**************************************************************************************/
/*! exports provided: WithdrawOrderAllController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WithdrawOrderAllController", function() { return WithdrawOrderAllController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _dto_get_withdraw_order_all_request_dto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dto/get.withdraw.order.all.request.dto */ "./apps/backend/src/app/payment/order/withdraw/dto/get.withdraw.order.all.request.dto.ts");
/* harmony import */ var _withdraw_order_all_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./withdraw.order.all.service */ "./apps/backend/src/app/payment/order/withdraw/withdraw.order.all.service.ts");
var _a, _b;






let WithdrawOrderAllController = class WithdrawOrderAllController {
    constructor(withdrawOrderAllService) {
        this.withdrawOrderAllService = withdrawOrderAllService;
    }
    // @UseGuards(JwtAuthGuard)
    // @ApiBearerAuth()
    gets(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.withdrawOrderAllService.findAll(request);
        });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].getWithdrawAllOrders),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _dto_get_withdraw_order_all_request_dto__WEBPACK_IMPORTED_MODULE_4__["GetWithdrawOrderAllRequestDto"] !== "undefined" && _dto_get_withdraw_order_all_request_dto__WEBPACK_IMPORTED_MODULE_4__["GetWithdrawOrderAllRequestDto"]) === "function" ? _a : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], WithdrawOrderAllController.prototype, "gets", null);
WithdrawOrderAllController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].withdrawAllOrders),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].paymentEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_b = typeof _withdraw_order_all_service__WEBPACK_IMPORTED_MODULE_5__["WithdrawOrderAllService"] !== "undefined" && _withdraw_order_all_service__WEBPACK_IMPORTED_MODULE_5__["WithdrawOrderAllService"]) === "function" ? _b : Object])
], WithdrawOrderAllController);



/***/ }),

/***/ "./apps/backend/src/app/payment/order/withdraw/withdraw.order.all.module.ts":
/*!**********************************************************************************!*\
  !*** ./apps/backend/src/app/payment/order/withdraw/withdraw.order.all.module.ts ***!
  \**********************************************************************************/
/*! exports provided: WithdrawOrderAllModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WithdrawOrderAllModule", function() { return WithdrawOrderAllModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _withdraw_order_all_controller__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./withdraw.order.all.controller */ "./apps/backend/src/app/payment/order/withdraw/withdraw.order.all.controller.ts");
/* harmony import */ var _withdraw_order_all_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./withdraw.order.all.service */ "./apps/backend/src/app/payment/order/withdraw/withdraw.order.all.service.ts");




let WithdrawOrderAllModule = class WithdrawOrderAllModule {
};
WithdrawOrderAllModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [],
        providers: [_withdraw_order_all_service__WEBPACK_IMPORTED_MODULE_3__["WithdrawOrderAllService"]],
        controllers: [_withdraw_order_all_controller__WEBPACK_IMPORTED_MODULE_2__["WithdrawOrderAllController"]],
        exports: [_withdraw_order_all_service__WEBPACK_IMPORTED_MODULE_3__["WithdrawOrderAllService"]],
    })
], WithdrawOrderAllModule);



/***/ }),

/***/ "./apps/backend/src/app/payment/order/withdraw/withdraw.order.all.service.ts":
/*!***********************************************************************************!*\
  !*** ./apps/backend/src/app/payment/order/withdraw/withdraw.order.all.service.ts ***!
  \***********************************************************************************/
/*! exports provided: WithdrawOrderAllService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WithdrawOrderAllService", function() { return WithdrawOrderAllService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sequelize */ "sequelize");
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(sequelize__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_4__);
var _a;





const filterKeys = {
    userId: { type: 'string' }
};
let WithdrawOrderAllService = class WithdrawOrderAllService {
    constructor(sequelize) {
        this.sequelize = sequelize;
    }
    findAll(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let sql_where_1 = '';
            let sql_where_2 = '';
            let prefix = '';
            request.filters.forEach(_ => {
                const filterKey = filterKeys[_.key];
                if (!filterKey) {
                    return;
                }
                const value = filterKey.type === 'number' ? _.value : `'${_.value}'`;
                prefix = sql_where_1.length > 0 ? "AND" : "";
                sql_where_1 += ` ${prefix} pw."${_.key}" = ${value}`;
                prefix = sql_where_2.length > 0 ? "AND" : "";
                sql_where_2 += ` ${prefix} w."${_.key}" = ${value}`;
            });
            if (sql_where_1.length > 0)
                sql_where_1 = `where ${sql_where_1}`;
            if (sql_where_2.length > 0)
                sql_where_2 = `where ${sql_where_2}`;
            let sql = `
    select
        sum(total) total
      from
        (
        select
          count(pw.*) total
          from
            "pendingWithdraw" pw
          ${sql_where_1}
        union all
          select
            count(w.*) total
          from
            withdraw w
          ${sql_where_2} 
        ) x
    `;
            const totalDatas = yield this.sequelize.query(sql, {
                type: sequelize__WEBPACK_IMPORTED_MODULE_3__["QueryTypes"].SELECT,
            });
            const total = totalDatas[0]['total'];
            let sql_sorts = '';
            request.sorts.forEach(_ => {
                prefix = sql_sorts.length > 0 ? ',' : '';
                sql_sorts += ` ${prefix} "${_.property}" ${_.direction}`;
            });
            if (sql_sorts.length > 0)
                sql_sorts = `order by ${sql_sorts}`;
            sql = `
      select 
          pw.id , pw."userId" , pw."date" , pw."orderId" , pw."clientOrderId" , pw.amount ,
          pw."providerOrderId" , pw.status ,
          pw."paymentProviderId" , pp."providerName", pp."isDepositSupport" , pp."isWithdrawalSupport", pp."isOnlyCardSupport",
          pw.currency , pw.hashcode , pw."errorCode" , pw."errorMessage" ,
          pw."bankId", pw."bankAccountName", pw."bankAccountNumber", 
          pw."province", pw."city", pw."branch",
          pw."userName", pw."phoneNumber", pw."countryCallingCode",
          ppb."paymentProviderBankCode" , ppb."paymentProviderBankName" , ppb.id "paymentProviderBankId",
          pw."currency", bk."bankName", bk."bankCode"
        from "pendingWithdraw" pw 
        left join "paymentProviders" pp on pw."paymentProviderId" = pp.id 
        left join "paymentProviderBank" ppb on pw."paymentProviderId" =  ppb."paymentProviderId" AND pw."bankId" = ppb."bankId"
        left join "bank" bk on bk."id" = ppb."bankId"
        ${sql_where_1}
      union
      select
          w.id, w."userId", w."date" , w."orderId" , w."clientOrderId" , w.amount ,
          w."providerOrderId" , w.status ,
          w."paymentProviderId", pp."providerName", pp."isDepositSupport" , pp."isWithdrawalSupport", pp."isOnlyCardSupport",
          w.currency , w.hashcode , w."errorCode" , w."errorMessage" ,
          w."bankId", w."bankAccountName", w."bankAccountNumber", 
          w."province", w."city", w."branch",
          w."userName", w."phoneNumber", w."countryCallingCode",
          ppb."paymentProviderBankCode" , ppb."paymentProviderBankName" , ppb.id "paymentProviderBankId",
          w."currency", bk."bankName", bk."bankCode"
        from withdraw w 
        left join "paymentProviders" pp on w."paymentProviderId" = pp.id
        left join "paymentProviderBank" ppb on w."paymentProviderId" =  ppb."paymentProviderId" AND w."bankId" = ppb."bankId"
        left join "bank" bk on bk."id" = ppb."bankId"
        ${sql_where_2}
      -- order by "date" desc, "userId", "id"
      ${sql_sorts}
      limit ${request.pageSize} offset ${request.page * request.pageSize}`;
            const items = yield this.sequelize.query(sql, {
                type: sequelize__WEBPACK_IMPORTED_MODULE_3__["QueryTypes"].SELECT,
            });
            const orders = [];
            items.forEach((item) => {
                const order = {};
                order.id = item['id'];
                order.userId = numeral__WEBPACK_IMPORTED_MODULE_4__(item['userId']).value();
                order.date = item['date'];
                order.orderId = numeral__WEBPACK_IMPORTED_MODULE_4__(item['orderId']).value();
                order.clientOrderId = numeral__WEBPACK_IMPORTED_MODULE_4__(item['clientOrderId']).value();
                order.providerOrderId = item['providerOrderId'];
                order.amount = numeral__WEBPACK_IMPORTED_MODULE_4__(item['amount']).value();
                order.status = item['status'];
                order.errorCode = item['errorCode'];
                order.errorMessage = item['errorMessage'];
                order.paymentProvider = {
                    id: numeral__WEBPACK_IMPORTED_MODULE_4__(item['paymentProviderId']).value(),
                    providerName: item['providerName'],
                    isDepositSupport: JSON.parse(item['isDepositSupport']),
                    isWithdrawalSupport: JSON.parse(item['isWithdrawalSupport']),
                    isOnlyCardSupport: JSON.parse(item['isOnlyCardSupport']),
                };
                order.paymentProviderBank = {
                    id: numeral__WEBPACK_IMPORTED_MODULE_4__(item['paymentProviderBankId']).value(),
                    paymentProviderBankCode: item['paymentProviderBankCode'],
                    paymentProviderBankName: item['paymentProviderBankName'],
                    bankId: item['bankId'],
                };
                order.bankId = item['bankId'];
                order.bankAccountName = item['bankAccountName'];
                order.bankAccountNumber = item['bankAccountNumber'];
                order.province = item['province'];
                order.city = item['city'];
                order.branch = item['branch'];
                order.userName = item['usrName'];
                order.countryCallingCode = item['countryCallingCode'];
                order.phoneNumber = item['phoneNumber'];
                order.currency = item['currency'];
                order.bank = {
                    id: item['bankId'],
                    bankCode: item['bankCode'],
                    bankName: item['bankName'],
                };
                orders.push(order);
            });
            return { total, orders };
        });
    }
};
WithdrawOrderAllService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Sequelize"]) === "function" ? _a : Object])
], WithdrawOrderAllService);



/***/ }),

/***/ "./apps/backend/src/app/payment/payment.check.service.ts":
/*!***************************************************************!*\
  !*** ./apps/backend/src/app/payment/payment.check.service.ts ***!
  \***************************************************************/
/*! exports provided: PaymentCheckServie */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentCheckServie", function() { return PaymentCheckServie; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_bull__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/bull */ "@nestjs/bull");
/* harmony import */ var _nestjs_bull__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_bull__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _nestjs_schedule__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @nestjs/schedule */ "@nestjs/schedule");
/* harmony import */ var _nestjs_schedule__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_nestjs_schedule__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var bull__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! bull */ "bull");
/* harmony import */ var bull__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(bull__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _models_bank_entity__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../models/bank.entity */ "./apps/backend/src/app/models/bank.entity.ts");
/* harmony import */ var _channel_channel_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./channel/channel.service */ "./apps/backend/src/app/payment/channel/channel.service.ts");
/* harmony import */ var _payment_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./payment.service */ "./apps/backend/src/app/payment/payment.service.ts");
/* harmony import */ var _providers_payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./providers/payment-provider-bank/payment.provider.bank.service */ "./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.service.ts");
/* harmony import */ var _providers_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./providers/payment-provider-channel/payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");
/* harmony import */ var _providers_payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./providers/payment-provider-entity/Payment.provider.entity.service */ "./apps/backend/src/app/payment/providers/payment-provider-entity/Payment.provider.entity.service.ts");
var _a, _b, _c, _d, _e, _f, _g, _h;












let PaymentCheckServie = class PaymentCheckServie {
    constructor(configService, channelService, paymentService, payProviderEntityService, payProviderChannelService, payProviderBankService, paymentCheckQueue) {
        this.configService = configService;
        this.channelService = channelService;
        this.paymentService = paymentService;
        this.payProviderEntityService = payProviderEntityService;
        this.payProviderChannelService = payProviderChannelService;
        this.payProviderBankService = payProviderBankService;
        this.paymentCheckQueue = paymentCheckQueue;
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Perform Check Schedule
    ///////////////////////////////////////////////////////////////////////////////
    intervalEntry() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const paymentChannelCheck = this.configService.get('PAYMENT_CHANNEL_CHECK');
            if (!paymentChannelCheck || !JSON.parse(paymentChannelCheck)) {
                return;
            }
            this.performPaymentCheck();
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Perform Payment Check
    ///////////////////////////////////////////////////////////////////////////////
    performPaymentCheck(force) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.performJob && !force) {
                return false;
            }
            try {
                if (this.performJob) {
                    yield this.performJob.finished();
                }
                this.performJob = yield this.paymentCheckQueue.add('perform-payment-check-tasks', {}, { timeout: 900000, attempts: 1 } // 15mins
                );
                yield this.performJob.finished();
            }
            catch (error) { }
            this.performJob = null;
            return true;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Perform PaymentCheckTasks Consummer
    ///////////////////////////////////////////////////////////////////////////////
    performPaymentCheckTasks(job) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            // check payment provider channel
            console.log('check payment provider channel');
            try {
                const paymentProviderChannels = yield this.payProviderChannelService.getDeposits();
                if (paymentProviderChannels && paymentProviderChannels.length > 0) {
                    for (let i = 0; i < paymentProviderChannels.length; i++) {
                        const paymentProviderChannel = paymentProviderChannels[i];
                        const isAvaialble = yield this.paymentService.getPaymentProviderChannelDepositable(paymentProviderChannel);
                        paymentProviderChannel.isAvailable = isAvaialble;
                        yield paymentProviderChannel.save();
                        if (yield job.isFailed()) {
                            return;
                        }
                    }
                }
            }
            catch (error) {
                console.log(error);
            }
            // check payment provider bank
            console.log('check payment provider bank');
            try {
                const paymentProviders = yield this.payProviderEntityService.findAll();
                for (let i = 0; i < paymentProviders.length; i++) {
                    const paymentProvider = paymentProviders[i];
                    const paymentProviderBanks = yield this.payProviderBankService.findAll({
                        include: [{ model: _models_bank_entity__WEBPACK_IMPORTED_MODULE_6__["BankModel"], as: 'bank' }],
                        where: {
                            paymentProviderId: paymentProvider.id,
                        },
                        order: [[{ model: _models_bank_entity__WEBPACK_IMPORTED_MODULE_6__["BankModel"], as: 'bank' }, 'id', 'ASC']],
                    });
                    if (!paymentProviderBanks || paymentProviderBanks.length < 1) {
                        continue;
                    }
                    let paymentProviderBank = paymentProviderBanks[0];
                    // console.log(
                    //   paymentProviderBank.paymentProviderId,
                    //   ':',
                    //   paymentProviderBank.paymentProviderBankName
                    // );
                    const isAvailable = yield this.paymentService.getPaymentProviderBankWithdrawable(paymentProviderBank);
                    for (let j = 0; j < paymentProviderBanks.length; j++) {
                        paymentProviderBank = paymentProviderBanks[j];
                        paymentProviderBank.isAvailable = isAvailable;
                        yield paymentProviderBank.save();
                    }
                    if (yield job.isFailed()) {
                        return;
                    }
                }
            }
            catch (error) {
                console.log(error);
            }
            console.log('END OF CHECK');
        });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_schedule__WEBPACK_IMPORTED_MODULE_4__["Interval"])('paymentCheckScheduler', 900000) // 15mins
    ,
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", []),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], PaymentCheckServie.prototype, "intervalEntry", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_bull__WEBPACK_IMPORTED_MODULE_1__["Process"])('perform-payment-check-tasks'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof bull__WEBPACK_IMPORTED_MODULE_5__["Job"] !== "undefined" && bull__WEBPACK_IMPORTED_MODULE_5__["Job"]) === "function" ? _a : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], PaymentCheckServie.prototype, "performPaymentCheckTasks", null);
PaymentCheckServie = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    Object(_nestjs_bull__WEBPACK_IMPORTED_MODULE_1__["Processor"])('paymentCheckTasks'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(6, Object(_nestjs_bull__WEBPACK_IMPORTED_MODULE_1__["InjectQueue"])('paymentCheckTasks')),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_b = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_3__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_3__["ConfigService"]) === "function" ? _b : Object, typeof (_c = typeof _channel_channel_service__WEBPACK_IMPORTED_MODULE_7__["ChannelService"] !== "undefined" && _channel_channel_service__WEBPACK_IMPORTED_MODULE_7__["ChannelService"]) === "function" ? _c : Object, typeof (_d = typeof _payment_service__WEBPACK_IMPORTED_MODULE_8__["PaymentService"] !== "undefined" && _payment_service__WEBPACK_IMPORTED_MODULE_8__["PaymentService"]) === "function" ? _d : Object, typeof (_e = typeof _providers_payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_11__["PaymentProviderEntityService"] !== "undefined" && _providers_payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_11__["PaymentProviderEntityService"]) === "function" ? _e : Object, typeof (_f = typeof _providers_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_10__["PaymentProviderChannelService"] !== "undefined" && _providers_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_10__["PaymentProviderChannelService"]) === "function" ? _f : Object, typeof (_g = typeof _providers_payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderBankService"] !== "undefined" && _providers_payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderBankService"]) === "function" ? _g : Object, typeof (_h = typeof bull__WEBPACK_IMPORTED_MODULE_5__["Queue"] !== "undefined" && bull__WEBPACK_IMPORTED_MODULE_5__["Queue"]) === "function" ? _h : Object])
], PaymentCheckServie);



/***/ }),

/***/ "./apps/backend/src/app/payment/payment.controller.ts":
/*!************************************************************!*\
  !*** ./apps/backend/src/app/payment/payment.controller.ts ***!
  \************************************************************/
/*! exports provided: PaymentController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentController", function() { return PaymentController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _payment_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./payment.service */ "./apps/backend/src/app/payment/payment.service.ts");
/* harmony import */ var _providers_payment_provider_payment_provider_deposit_request_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./providers/payment-provider/payment.provider.deposit.request.dto */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.deposit.request.dto.ts");
/* harmony import */ var _decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../decorators/request.ip.decorators */ "./apps/backend/src/app/decorators/request.ip.decorators.ts");
/* harmony import */ var _providers_payment_provider_payment_provider_withdraw_request_dto__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./providers/payment-provider/payment.provider.withdraw.request.dto */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.withdraw.request.dto.ts");
/* harmony import */ var _auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../auth/jwt-auth.guard */ "./apps/backend/src/app/auth/jwt-auth.guard.ts");
/* harmony import */ var _dto_payment_manual_deposit_request_dto__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./dto/payment.manual.deposit.request.dto */ "./apps/backend/src/app/payment/dto/payment.manual.deposit.request.dto.ts");
/* harmony import */ var _dto_payment_make_deposit_success_request_dto__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./dto/payment.make.deposit.success.request.dto */ "./apps/backend/src/app/payment/dto/payment.make.deposit.success.request.dto.ts");
/* harmony import */ var _dto_payment_manual_withdraw_request_dto__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./dto/payment.manual.withdraw.request.dto */ "./apps/backend/src/app/payment/dto/payment.manual.withdraw.request.dto.ts");
/* harmony import */ var _dto_payment_make_withdraw_success_request_dto__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./dto/payment.make.withdraw.success.request.dto */ "./apps/backend/src/app/payment/dto/payment.make.withdraw.success.request.dto.ts");
/* harmony import */ var _dto_payment_test_deposit_request_dto__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./dto/payment.test.deposit.request.dto */ "./apps/backend/src/app/payment/dto/payment.test.deposit.request.dto.ts");
/* harmony import */ var _dto_payment_deposit_bycard_request_dto__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./dto/payment.deposit.bycard.request.dto */ "./apps/backend/src/app/payment/dto/payment.deposit.bycard.request.dto.ts");
/* harmony import */ var _dto_payment_deposit_request_dto__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./dto/payment.deposit.request.dto */ "./apps/backend/src/app/payment/dto/payment.deposit.request.dto.ts");
/* harmony import */ var _dto_payment_withdraw_request_dto__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./dto/payment.withdraw.request.dto */ "./apps/backend/src/app/payment/dto/payment.withdraw.request.dto.ts");
var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r;

















// class BCWithdrawRequest {
//   @ApiProperty()
//   @IsString()
//   @IsNotEmpty()
//   userId: string;
//   @ApiProperty()
//   @IsString()
//   @IsNotEmpty()
//   orderId: string;
//   @ApiProperty()
//   @IsNumber()
//   @IsNotEmpty()
//   amount: number;
//   @ApiProperty()
//   @IsString()
//   @IsNotEmpty()
//   currency: string;
// }
let PaymentController = class PaymentController {
    constructor(paymentService) {
        this.paymentService = paymentService;
    }
    ///////////////////////////////////////////////////////////////////////////////////////
    // Deposit
    //////////////////////////////////////////////////////////////////////////////////////
    deposit(depositRequestDto, ip, headers, req) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const paymentProviderDepositRequestDto = _providers_payment_provider_payment_provider_deposit_request_dto__WEBPACK_IMPORTED_MODULE_5__["PaymentProviderDepositRequestDto"].responseFactory(depositRequestDto, ip, headers);
            return this.paymentService.deposit(paymentProviderDepositRequestDto);
        });
    }
    ///////////////////////////////////////////////////////////////////////////////////////
    // Deposit
    //////////////////////////////////////////////////////////////////////////////////////
    getDepositInfo(requestDto) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.paymentService.depositByCard(requestDto);
        });
    }
    manualDeposit(requestDto, ip, headers) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.paymentService.manualDeposit(requestDto, ip, headers);
        });
    }
    testDeposit(requestDto, ip, headers) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.paymentService.testDeposit(requestDto, ip, headers);
        });
    }
    depositMakeSuccess(requestDto) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.paymentService.makeDepositSuccess(requestDto);
        });
    }
    // @Post('getHeaders')
    // async getHeaders(
    //   @Headers() headers,
    //   @Ip() ip,
    //   @RequestIpAddress() requestIp,
    //   @Req() request
    // ) {
    //   return {
    //     headers,
    //     ip,
    //     requestIp,
    //     remoteAddress: request.connection.remoteAddress,
    //     reqIp: request.ip,
    //     token: process.env.SECRET_TOKEN,
    //   };
    // }
    ///////////////////////////////////////////////////////////////////////////////////////
    // Withdraw
    //////////////////////////////////////////////////////////////////////////////////////
    withdraw(withdrawRequestDto, ip, headers) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const checkToken = _dto_payment_withdraw_request_dto__WEBPACK_IMPORTED_MODULE_16__["PaymentWithdrawRequestDto"].checkToken(withdrawRequestDto.token);
            if (!checkToken) {
                throw new _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpException"]('Unauthorized request', _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].FORBIDDEN);
            }
            const paymentProviderWithdrawRequestDto = _providers_payment_provider_payment_provider_withdraw_request_dto__WEBPACK_IMPORTED_MODULE_7__["PaymentProviderWithdrawRequestDto"].responseFactory(withdrawRequestDto, ip, headers);
            return this.paymentService.withdraw(paymentProviderWithdrawRequestDto);
        });
    }
    manualWithdraw(requestDto, ip, headers) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.paymentService.manualWithdraw(requestDto, ip, headers);
        });
    }
    withdrawMakeSuccess(requestDto) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.paymentService.makeWithdrawSuccess(requestDto);
        });
    }
    // @Post('bcwithdraw')
    // async bcWithdraw(@Body() params: BCWithdrawRequest) {
    //   return this.paymentService.bcWithdraw(params);
    // }
    ///////////////////////////////////////////////////////////////////////////////////////
    // Get Depositable PaymentSystems
    //////////////////////////////////////////////////////////////////////////////////////
    getDepositablePaymentSystems() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.paymentService.getDepositablePaymentSystems();
        });
    }
    ///////////////////////////////////////////////////////////////////////////////////////
    // Get Depositable UsdtProtos
    //////////////////////////////////////////////////////////////////////////////////////
    getDepositableUsdtProtos() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.paymentService.getDepositableUsdtProts();
        });
    }
    // ///////////////////////////////////////////////////////////////////////////////////////
    // // Get DepositableChannels
    // //////////////////////////////////////////////////////////////////////////////////////
    // @Get(apiPathsEnum.getDepositableChannels)
    // @ApiOperation({
    //   description: apiEndpointDecriptionEnum.getDepositableChannels,
    // })
    // async getDepositableChannels(): Promise<DepositableChannel[]> {
    //   return await this.paymentService.getDepositableChannels();
    // }
    ///////////////////////////////////////////////////////////////////////////////////////
    // Get Withdrawable Banks
    //////////////////////////////////////////////////////////////////////////////////////
    getWithdrawableBanks() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.paymentService.getWithdrawableBanks();
        });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].deposit),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({ description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].paymentDeposit }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Query"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_6__["RequestIpAddress"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(2, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Headers"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(3, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Req"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _dto_payment_deposit_request_dto__WEBPACK_IMPORTED_MODULE_15__["PaymentDepositRequestDto"] !== "undefined" && _dto_payment_deposit_request_dto__WEBPACK_IMPORTED_MODULE_15__["PaymentDepositRequestDto"]) === "function" ? _a : Object, String, Object, typeof (_b = typeof Request !== "undefined" && Request) === "function" ? _b : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_c = typeof Promise !== "undefined" && Promise) === "function" ? _c : Object)
], PaymentController.prototype, "deposit", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].depositByCard),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].paymentDepositByCard,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_d = typeof _dto_payment_deposit_bycard_request_dto__WEBPACK_IMPORTED_MODULE_14__["PaymentDepositByCardRequestDto"] !== "undefined" && _dto_payment_deposit_bycard_request_dto__WEBPACK_IMPORTED_MODULE_14__["PaymentDepositByCardRequestDto"]) === "function" ? _d : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], PaymentController.prototype, "getDepositInfo", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].manualDeposit),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({ description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].paymentManualDeposit }),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_8__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_6__["RequestIpAddress"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(2, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Headers"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_e = typeof _dto_payment_manual_deposit_request_dto__WEBPACK_IMPORTED_MODULE_9__["PaymentManualDepositRequestDto"] !== "undefined" && _dto_payment_manual_deposit_request_dto__WEBPACK_IMPORTED_MODULE_9__["PaymentManualDepositRequestDto"]) === "function" ? _e : Object, String, Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_f = typeof Promise !== "undefined" && Promise) === "function" ? _f : Object)
], PaymentController.prototype, "manualDeposit", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].testDeposit),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({ description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].paymentTestDeposit }),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_8__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_6__["RequestIpAddress"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(2, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Headers"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_g = typeof _dto_payment_test_deposit_request_dto__WEBPACK_IMPORTED_MODULE_13__["PaymentTestDepositRequestDto"] !== "undefined" && _dto_payment_test_deposit_request_dto__WEBPACK_IMPORTED_MODULE_13__["PaymentTestDepositRequestDto"]) === "function" ? _g : Object, String, Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_h = typeof Promise !== "undefined" && Promise) === "function" ? _h : Object)
], PaymentController.prototype, "testDeposit", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].depositMakeSuccess),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].paymentDepositMakeSuccess,
    }),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_8__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_j = typeof _dto_payment_make_deposit_success_request_dto__WEBPACK_IMPORTED_MODULE_10__["PaymentMakeDepositSuccessRequestDto"] !== "undefined" && _dto_payment_make_deposit_success_request_dto__WEBPACK_IMPORTED_MODULE_10__["PaymentMakeDepositSuccessRequestDto"]) === "function" ? _j : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], PaymentController.prototype, "depositMakeSuccess", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].withdraw),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiConsumes"])('application/x-www-form-urlencoded'),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({ description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].paymentWithdraw }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_6__["RequestIpAddress"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(2, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Headers"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_k = typeof _dto_payment_withdraw_request_dto__WEBPACK_IMPORTED_MODULE_16__["PaymentWithdrawRequestDto"] !== "undefined" && _dto_payment_withdraw_request_dto__WEBPACK_IMPORTED_MODULE_16__["PaymentWithdrawRequestDto"]) === "function" ? _k : Object, String, Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_l = typeof Promise !== "undefined" && Promise) === "function" ? _l : Object)
], PaymentController.prototype, "withdraw", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].manualWithdraw),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].paymentManualWithdraw,
    }),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_8__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_6__["RequestIpAddress"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(2, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Headers"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_m = typeof _dto_payment_manual_withdraw_request_dto__WEBPACK_IMPORTED_MODULE_11__["PaymentManualWithdrawRequestDto"] !== "undefined" && _dto_payment_manual_withdraw_request_dto__WEBPACK_IMPORTED_MODULE_11__["PaymentManualWithdrawRequestDto"]) === "function" ? _m : Object, String, Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_o = typeof Promise !== "undefined" && Promise) === "function" ? _o : Object)
], PaymentController.prototype, "manualWithdraw", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].withdrawMakeSuccess),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].paymentDepositMakeSuccess,
    }),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_8__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_p = typeof _dto_payment_make_withdraw_success_request_dto__WEBPACK_IMPORTED_MODULE_12__["PaymentMakeWithdrawSuccessRequestDto"] !== "undefined" && _dto_payment_make_withdraw_success_request_dto__WEBPACK_IMPORTED_MODULE_12__["PaymentMakeWithdrawSuccessRequestDto"]) === "function" ? _p : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], PaymentController.prototype, "withdrawMakeSuccess", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Get"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].getDepositablePaymentSystems),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].getDepositablePaymentSystems,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", []),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_q = typeof Promise !== "undefined" && Promise) === "function" ? _q : Object)
], PaymentController.prototype, "getDepositablePaymentSystems", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Get"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].getDepositableUsdtProtos),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].getDepositableUsdtProtos
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", []),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], PaymentController.prototype, "getDepositableUsdtProtos", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Get"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].getWithdrawableBanks),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].getWithdrawableBanks,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", []),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], PaymentController.prototype, "getWithdrawableBanks", null);
PaymentController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].payment),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].paymentEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_r = typeof _payment_service__WEBPACK_IMPORTED_MODULE_4__["PaymentService"] !== "undefined" && _payment_service__WEBPACK_IMPORTED_MODULE_4__["PaymentService"]) === "function" ? _r : Object])
], PaymentController);



/***/ }),

/***/ "./apps/backend/src/app/payment/payment.exception.ts":
/*!***********************************************************!*\
  !*** ./apps/backend/src/app/payment/payment.exception.ts ***!
  \***********************************************************/
/*! exports provided: DatabaseException, NoRecordException, OrderExistException, NoSupportedBankException, NoProviderNameException, NoProviderException, NoSupportedChannelException, PaymentProviderException, NotSupportedBank, NotSupportedPhoneNumber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DatabaseException", function() { return DatabaseException; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NoRecordException", function() { return NoRecordException; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OrderExistException", function() { return OrderExistException; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NoSupportedBankException", function() { return NoSupportedBankException; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NoProviderNameException", function() { return NoProviderNameException; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NoProviderException", function() { return NoProviderException; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NoSupportedChannelException", function() { return NoSupportedChannelException; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderException", function() { return PaymentProviderException; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotSupportedBank", function() { return NotSupportedBank; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotSupportedPhoneNumber", function() { return NotSupportedPhoneNumber; });
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_0__);

class DatabaseException extends _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpException"] {
    constructor() {
        super('DatabaseError', _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpStatus"].BAD_REQUEST);
    }
}
class NoRecordException extends _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpException"] {
    constructor() {
        super('No Record', _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpStatus"].NOT_ACCEPTABLE);
    }
}
class OrderExistException extends _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpException"] {
    constructor() {
        super('that order Id exists', _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpStatus"].NOT_ACCEPTABLE);
    }
}
class NoSupportedBankException extends _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpException"] {
    constructor() {
        super('No Supported bank', _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpStatus"].NOT_ACCEPTABLE);
    }
}
class NoProviderNameException extends _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpException"] {
    constructor() {
        super('No Provider name', _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpStatus"].INTERNAL_SERVER_ERROR);
    }
}
class NoProviderException extends _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpException"] {
    constructor() {
        super('There is no available payment provider', _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpStatus"].SERVICE_UNAVAILABLE);
    }
}
class NoSupportedChannelException extends _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpException"] {
    constructor() {
        super('There is no supported channel', _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpStatus"].SERVICE_UNAVAILABLE);
    }
}
class PaymentProviderException extends _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpException"] {
    constructor() {
        super('Bad data from provider', _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpStatus"].BAD_GATEWAY);
    }
}
class NotSupportedBank extends _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpException"] {
    constructor() {
        super('No supported bank code', _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpStatus"].INTERNAL_SERVER_ERROR);
    }
}
class NotSupportedPhoneNumber extends _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpException"] {
    constructor() {
        super('No supported phoneNumber', _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpStatus"].INTERNAL_SERVER_ERROR);
    }
}


/***/ }),

/***/ "./apps/backend/src/app/payment/payment.module.ts":
/*!********************************************************!*\
  !*** ./apps/backend/src/app/payment/payment.module.ts ***!
  \********************************************************/
/*! exports provided: PaymentModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentModule", function() { return PaymentModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _payment_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./payment.service */ "./apps/backend/src/app/payment/payment.service.ts");
/* harmony import */ var _payment_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./payment.controller */ "./apps/backend/src/app/payment/payment.controller.ts");
/* harmony import */ var _providers_payment_provider_payment_provider_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./providers/payment-provider/payment.provider.module */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.module.ts");
/* harmony import */ var _providers_payment_provider_configuration__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./providers/payment-provider/configuration */ "./apps/backend/src/app/payment/providers/payment-provider/configuration.ts");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _order_deposit_order_deposit_order_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./order/deposit-order/deposit.order.module */ "./apps/backend/src/app/payment/order/deposit-order/deposit.order.module.ts");
/* harmony import */ var _order_withdraw_order_withdraw_order_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./order/withdraw-order/withdraw.order.module */ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.module.ts");
/* harmony import */ var _order_withdraw_pending_order_withdraw_pending_order_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./order/withdraw-pending-order/withdraw.pending.order.module */ "./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.module.ts");
/* harmony import */ var _providers_payment_provider_entity_payment_provider_entity_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./providers/payment-provider-entity/payment.provider.entity.module */ "./apps/backend/src/app/payment/providers/payment-provider-entity/payment.provider.entity.module.ts");
/* harmony import */ var _channel_channel_module__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./channel/channel.module */ "./apps/backend/src/app/payment/channel/channel.module.ts");
/* harmony import */ var _providers_payment_provider_channel_payment_provider_channel_module__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./providers/payment-provider-channel/payment.provider.channel.module */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.module.ts");
/* harmony import */ var _betContruct_betConsturct_module__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./betContruct/betConsturct.module */ "./apps/backend/src/app/payment/betContruct/betConsturct.module.ts");
/* harmony import */ var _bank_bank_module__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./bank/bank.module */ "./apps/backend/src/app/payment/bank/bank.module.ts");
/* harmony import */ var _providers_payment_provider_bank_payment_provider_bank_module__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./providers/payment-provider-bank/payment.provider.bank.module */ "./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.module.ts");
/* harmony import */ var _paymentSystem_payment_system_module__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./paymentSystem/payment.system.module */ "./apps/backend/src/app/payment/paymentSystem/payment.system.module.ts");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var _payment_check_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./payment.check.service */ "./apps/backend/src/app/payment/payment.check.service.ts");
/* harmony import */ var _models_test_entity__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../models/test.entity */ "./apps/backend/src/app/models/test.entity.ts");
/* harmony import */ var _nestjs_bull__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @nestjs/bull */ "@nestjs/bull");
/* harmony import */ var _nestjs_bull__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_nestjs_bull__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var _models_deposit_pending_order_model__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../models/deposit.pending.order.model */ "./apps/backend/src/app/models/deposit.pending.order.model.ts");
/* harmony import */ var _models_deposit_order_model__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../models/deposit.order.model */ "./apps/backend/src/app/models/deposit.order.model.ts");
/* harmony import */ var _models_withdraw_pending_order_model__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../models/withdraw.pending.order.model */ "./apps/backend/src/app/models/withdraw.pending.order.model.ts");
/* harmony import */ var _models_withdraw_order_model__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../models/withdraw.order.model */ "./apps/backend/src/app/models/withdraw.order.model.ts");
/* harmony import */ var _models_options_model__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../models/options.model */ "./apps/backend/src/app/models/options.model.ts");
/* harmony import */ var _error_error_module__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../error/error.module */ "./apps/backend/src/app/error/error.module.ts");
/* harmony import */ var _providers_payment_provider_card_payment_provider_card_module__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./providers/payment-provider-card/payment.provider.card.module */ "./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.module.ts");
/* harmony import */ var _huobi_huobi_module__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./huobi/huobi.module */ "./apps/backend/src/app/payment/huobi/huobi.module.ts");
/* harmony import */ var _usdtProtocol_usdt_proto_module__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./usdtProtocol/usdt.proto.module */ "./apps/backend/src/app/payment/usdtProtocol/usdt.proto.module.ts");
/* harmony import */ var _providers_payment_provider_usdt_protocol_payment_provider_usdt_proto_module__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.module */ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.module.ts");































let PaymentModule = class PaymentModule {
};
PaymentModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        providers: [_payment_service__WEBPACK_IMPORTED_MODULE_2__["PaymentService"], _payment_check_service__WEBPACK_IMPORTED_MODULE_18__["PaymentCheckServie"]],
        controllers: [_payment_controller__WEBPACK_IMPORTED_MODULE_3__["PaymentController"]],
        imports: [
            _nestjs_bull__WEBPACK_IMPORTED_MODULE_20__["BullModule"].registerQueue({ name: 'paymentCheckTasks' }),
            _providers_payment_provider_payment_provider_module__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderModule"],
            _nestjs_config__WEBPACK_IMPORTED_MODULE_6__["ConfigModule"].forRoot({
                load: [_providers_payment_provider_configuration__WEBPACK_IMPORTED_MODULE_5__["default"]],
            }),
            _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpModule"].register({
                timeout: 45000,
                maxRedirects: 5,
            }),
            _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_17__["SequelizeModule"].forFeature([
                _models_test_entity__WEBPACK_IMPORTED_MODULE_19__["TestModel"],
                _models_deposit_pending_order_model__WEBPACK_IMPORTED_MODULE_21__["DepositPendingOrderModel"],
                _models_deposit_order_model__WEBPACK_IMPORTED_MODULE_22__["DepositOrderModel"],
                _models_withdraw_pending_order_model__WEBPACK_IMPORTED_MODULE_23__["WithdrawPendingOrderModel"],
                _models_withdraw_order_model__WEBPACK_IMPORTED_MODULE_24__["WithdrawOrderModel"],
                _models_options_model__WEBPACK_IMPORTED_MODULE_25__["OptionsModel"],
            ]),
            _providers_payment_provider_entity_payment_provider_entity_module__WEBPACK_IMPORTED_MODULE_10__["PaymentProviderEntityModule"],
            _channel_channel_module__WEBPACK_IMPORTED_MODULE_11__["ChannelModule"],
            _bank_bank_module__WEBPACK_IMPORTED_MODULE_14__["BankModule"],
            _providers_payment_provider_channel_payment_provider_channel_module__WEBPACK_IMPORTED_MODULE_12__["PaymentProviderChannelModule"],
            _providers_payment_provider_bank_payment_provider_bank_module__WEBPACK_IMPORTED_MODULE_15__["PaymentProviderBankModule"],
            _providers_payment_provider_card_payment_provider_card_module__WEBPACK_IMPORTED_MODULE_27__["PaymentProviderCardModule"],
            _providers_payment_provider_usdt_protocol_payment_provider_usdt_proto_module__WEBPACK_IMPORTED_MODULE_30__["PaymentProviderUsdtProtoModule"],
            _order_deposit_order_deposit_order_module__WEBPACK_IMPORTED_MODULE_7__["DepositOrderModule"],
            _order_withdraw_order_withdraw_order_module__WEBPACK_IMPORTED_MODULE_8__["WithdrawOrderModule"],
            _order_withdraw_pending_order_withdraw_pending_order_module__WEBPACK_IMPORTED_MODULE_9__["WithdrawPendingOrderModule"],
            _betContruct_betConsturct_module__WEBPACK_IMPORTED_MODULE_13__["BetConstructModule"],
            _paymentSystem_payment_system_module__WEBPACK_IMPORTED_MODULE_16__["PaymentSystemModule"],
            _error_error_module__WEBPACK_IMPORTED_MODULE_26__["ErrorModule"],
            _huobi_huobi_module__WEBPACK_IMPORTED_MODULE_28__["HuobiModule"],
            _usdtProtocol_usdt_proto_module__WEBPACK_IMPORTED_MODULE_29__["UsdtProtoModule"],
        ],
        exports: [_payment_check_service__WEBPACK_IMPORTED_MODULE_18__["PaymentCheckServie"]],
    })
], PaymentModule);



/***/ }),

/***/ "./apps/backend/src/app/payment/payment.service.ts":
/*!*********************************************************!*\
  !*** ./apps/backend/src/app/payment/payment.service.ts ***!
  \*********************************************************/
/*! exports provided: PaymentService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentService", function() { return PaymentService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! md5 */ "md5");
/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(md5__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! moment-timezone */ "moment-timezone");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _models_test_entity__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../models/test.entity */ "./apps/backend/src/app/models/test.entity.ts");
/* harmony import */ var _bank_bank_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./bank/bank.service */ "./apps/backend/src/app/payment/bank/bank.service.ts");
/* harmony import */ var _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./betContruct/betConstruct.service */ "./apps/backend/src/app/payment/betContruct/betConstruct.service.ts");
/* harmony import */ var _betContruct_dto_bc_check_withdraw_hash_in_param__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./betContruct/dto/bc.check.withdraw.hash.in.param */ "./apps/backend/src/app/payment/betContruct/dto/bc.check.withdraw.hash.in.param.ts");
/* harmony import */ var _betContruct_dto_bc_withdraw_in_params__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./betContruct/dto/bc.withdraw.in.params */ "./apps/backend/src/app/payment/betContruct/dto/bc.withdraw.in.params.ts");
/* harmony import */ var _channel_channel_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./channel/channel.service */ "./apps/backend/src/app/payment/channel/channel.service.ts");
/* harmony import */ var _payment_exception__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./payment.exception */ "./apps/backend/src/app/payment/payment.exception.ts");
/* harmony import */ var _paymentSystem_payment_system_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./paymentSystem/payment.system.service */ "./apps/backend/src/app/payment/paymentSystem/payment.system.service.ts");
/* harmony import */ var _providers_payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./providers/payment-provider-bank/payment.provider.bank.service */ "./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.service.ts");
/* harmony import */ var _providers_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./providers/payment-provider-channel/payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");
/* harmony import */ var _providers_payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./providers/payment-provider-entity/Payment.provider.entity.service */ "./apps/backend/src/app/payment/providers/payment-provider-entity/Payment.provider.entity.service.ts");
/* harmony import */ var _providers_payment_provider_d1f_d1f_payment_provider_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./providers/payment-provider/d1f/d1f.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/d1f/d1f.payment.provider.service.ts");
/* harmony import */ var _providers_payment_provider_mszf_mszf_payment_provider_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./providers/payment-provider/mszf/mszf.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/mszf/mszf.payment.provider.service.ts");
/* harmony import */ var _providers_payment_provider_payment_provider_deposit_request_dto__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./providers/payment-provider/payment.provider.deposit.request.dto */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.deposit.request.dto.ts");
/* harmony import */ var _providers_payment_provider_payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./providers/payment-provider/payment.provider.deposit.result */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.deposit.result.ts");
/* harmony import */ var _providers_payment_provider_payment_provider_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./providers/payment-provider/payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.service.ts");
/* harmony import */ var _providers_payment_provider_payment_provider_withdraw_request_dto__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./providers/payment-provider/payment.provider.withdraw.request.dto */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.withdraw.request.dto.ts");
/* harmony import */ var _providers_payment_provider_payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./providers/payment-provider/payment.provider.withdraw.result */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.withdraw.result.ts");
/* harmony import */ var _providers_payment_provider_uzpay_uzpay_payment_provider_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./providers/payment-provider/uzpay/uzpay.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/uzpay/uzpay.payment.provider.service.ts");
/* harmony import */ var _providers_payment_provider_xingchen_xingchen_payment_provider_service__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./providers/payment-provider/xingchen/xingchen.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/xingchen/xingchen.payment.provider.service.ts");
/* harmony import */ var _providers_payment_provider_hengxin_hengxin_payment_provider_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./providers/payment-provider/hengxin/hengxin.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/hengxin/hengxin.payment.provider.service.ts");
/* harmony import */ var _models_channel_model__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../models/channel.model */ "./apps/backend/src/app/models/channel.model.ts");
/* harmony import */ var _dto_payment_manual_deposit_result_dto__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./dto/payment.manual.deposit.result.dto */ "./apps/backend/src/app/payment/dto/payment.manual.deposit.result.dto.ts");
/* harmony import */ var _models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../models/payment.provider.entity.model */ "./apps/backend/src/app/models/payment.provider.entity.model.ts");
/* harmony import */ var _models_payment_system_model__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../models/payment.system.model */ "./apps/backend/src/app/models/payment.system.model.ts");
/* harmony import */ var _models_deposit_pending_order_model__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../models/deposit.pending.order.model */ "./apps/backend/src/app/models/deposit.pending.order.model.ts");
/* harmony import */ var _order_deposit_order_deposit_order_dto__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./order/deposit-order/deposit.order.dto */ "./apps/backend/src/app/payment/order/deposit-order/deposit.order.dto.ts");
/* harmony import */ var _models_deposit_order_model__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../models/deposit.order.model */ "./apps/backend/src/app/models/deposit.order.model.ts");
/* harmony import */ var _dto_payment_manual_withdraw_result_dto__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./dto/payment.manual.withdraw.result.dto */ "./apps/backend/src/app/payment/dto/payment.manual.withdraw.result.dto.ts");
/* harmony import */ var _order_withdraw_order_withdraw_order_dto__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./order/withdraw-order/withdraw.order.dto */ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.dto.ts");
/* harmony import */ var _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./order/withdraw-order/withdraw.order.service */ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.service.ts");
/* harmony import */ var _models_withdraw_pending_order_model__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../models/withdraw.pending.order.model */ "./apps/backend/src/app/models/withdraw.pending.order.model.ts");
/* harmony import */ var _models_withdraw_order_model__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../models/withdraw.order.model */ "./apps/backend/src/app/models/withdraw.order.model.ts");
/* harmony import */ var _betContruct_dto_bc_deposit_in_params__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./betContruct/dto/bc.deposit.in.params */ "./apps/backend/src/app/payment/betContruct/dto/bc.deposit.in.params.ts");
/* harmony import */ var _providers_payment_provider_jbp_jbp_payment_provider_service__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./providers/payment-provider/jbp/jbp.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/jbp/jbp.payment.provider.service.ts");
/* harmony import */ var _betContruct_dto_bc_check_withdraw_ipwhitelist_in_params__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./betContruct/dto/bc.check.withdraw.ipwhitelist.in.params */ "./apps/backend/src/app/payment/betContruct/dto/bc.check.withdraw.ipwhitelist.in.params.ts");
/* harmony import */ var _models_options_model__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../models/options.model */ "./apps/backend/src/app/models/options.model.ts");
/* harmony import */ var _error_error_service__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../error/error.service */ "./apps/backend/src/app/error/error.service.ts");
/* harmony import */ var _dto_payment_test_deposit_result_dto__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./dto/payment.test.deposit.result.dto */ "./apps/backend/src/app/payment/dto/payment.test.deposit.result.dto.ts");
/* harmony import */ var _providers_payment_provider_sxc_sxc_payment_provider_service__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./providers/payment-provider/sxc/sxc.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/sxc/sxc.payment.provider.service.ts");
/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! crypto */ "crypto");
/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_49___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_49__);
/* harmony import */ var _providers_payment_provider_dbpay_dbpay_payment_provider_service__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./providers/payment-provider/dbpay/dbpay.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/dbpay/dbpay.payment.provider.service.ts");
/* harmony import */ var _dto_payment_withdraw_request_dto__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./dto/payment.withdraw.request.dto */ "./apps/backend/src/app/payment/dto/payment.withdraw.request.dto.ts");
/* harmony import */ var _providers_payment_provider_bisa_bisa_payment_provider_service__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./providers/payment-provider/bisa/bisa.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/bisa/bisa.payment.provider.service.ts");
/* harmony import */ var _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./order/withdraw-pending-order/withdraw.pending.order.service */ "./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.service.ts");
/* harmony import */ var _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ../error/enums/errorCodeEnum */ "./apps/backend/src/app/error/enums/errorCodeEnum.ts");
/* harmony import */ var _providers_payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.service */ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.service.ts");
/* harmony import */ var _usdtProtocol_usdt_proto_service__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./usdtProtocol/usdt.proto.service */ "./apps/backend/src/app/payment/usdtProtocol/usdt.proto.service.ts");
var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z;



























//import { SDDPaymentProviderService } from './providers/payment-provider/sdd/sdd.payment.provider.service';






























let PaymentService = class PaymentService {
    constructor(configService, payProviderEntityService, paymentSystemService, usdtProtoService, channelService, bankService, payProviderChannelService, payProviderBankService, payProviderUsdtProtoService, mszfPaymentProviderService, d1fPaymentProviderService, xingchenPaymentProviderService, uzpayPaymentProviderService, 
    //private sddPaymentProviderService: SDDPaymentProviderService,
    hengxinPaymentProviderService, jbpPaymentProviderService, sxcPaymentProviderService, dbPayPaymentProviderService, bisaPaymentProviderService, betConstructService, withdrawOrderService, withdrawPendingOrderService, httpService, sequelize, errorService, depositPendingOrderRepository, depositOrderRepository, withdrawPendingOrderRepository, withdrawOrderRepository, optionsRepository, testRepository) {
        this.configService = configService;
        this.payProviderEntityService = payProviderEntityService;
        this.paymentSystemService = paymentSystemService;
        this.usdtProtoService = usdtProtoService;
        this.channelService = channelService;
        this.bankService = bankService;
        this.payProviderChannelService = payProviderChannelService;
        this.payProviderBankService = payProviderBankService;
        this.payProviderUsdtProtoService = payProviderUsdtProtoService;
        this.mszfPaymentProviderService = mszfPaymentProviderService;
        this.d1fPaymentProviderService = d1fPaymentProviderService;
        this.xingchenPaymentProviderService = xingchenPaymentProviderService;
        this.uzpayPaymentProviderService = uzpayPaymentProviderService;
        this.hengxinPaymentProviderService = hengxinPaymentProviderService;
        this.jbpPaymentProviderService = jbpPaymentProviderService;
        this.sxcPaymentProviderService = sxcPaymentProviderService;
        this.dbPayPaymentProviderService = dbPayPaymentProviderService;
        this.bisaPaymentProviderService = bisaPaymentProviderService;
        this.betConstructService = betConstructService;
        this.withdrawOrderService = withdrawOrderService;
        this.withdrawPendingOrderService = withdrawPendingOrderService;
        this.httpService = httpService;
        this.sequelize = sequelize;
        this.errorService = errorService;
        this.depositPendingOrderRepository = depositPendingOrderRepository;
        this.depositOrderRepository = depositOrderRepository;
        this.withdrawPendingOrderRepository = withdrawPendingOrderRepository;
        this.withdrawOrderRepository = withdrawOrderRepository;
        this.optionsRepository = optionsRepository;
        this.testRepository = testRepository;
        this.payProviderServices = new Array();
        this.registerPaymentProviders();
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Register All Payment Provider Services
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    registerPaymentProviders() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const implProviderServices = [
                this.mszfPaymentProviderService,
                this.d1fPaymentProviderService,
                this.xingchenPaymentProviderService,
                this.uzpayPaymentProviderService,
                //this.sddPaymentProviderService,
                this.hengxinPaymentProviderService,
                this.jbpPaymentProviderService,
                this.sxcPaymentProviderService,
                this.dbPayPaymentProviderService,
                this.bisaPaymentProviderService,
            ];
            const providerServicesMap = (this.payProviderServicesMap = {});
            const providerServices = this.payProviderServices;
            const paymentProviderEntities = yield this.payProviderEntityService.findAll();
            paymentProviderEntities.forEach((paymentProviderEntity) => {
                const index = implProviderServices.findIndex((paymentProviderService) => paymentProviderService.getPaymentProviderEnum() ===
                    paymentProviderEntity.id);
                if (index < 0) {
                    return;
                }
                const paymentProviderSerivce = implProviderServices[index];
                paymentProviderSerivce.setPaymentProviderEntity(paymentProviderEntity);
                providerServices.push(paymentProviderSerivce);
                providerServicesMap[paymentProviderEntity.id] = paymentProviderSerivce;
                implProviderServices.splice(index, 1);
            });
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Deposit
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    deposit(depositRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let depositResult;
            // const inParams = new BCCheckClientInParams();
            // inParams.userId = depositRequest.userId;
            // inParams.currency = CurrencyEnum[CurrencyEnum.CNY];
            // const bcResult = await this.betConstructService.checkClient(inParams);
            // if (!bcResult.result) {
            //   depositResult = PaymentProviderDepositResult.bcCheckClientErrorFactory(
            //     bcResult
            //   );
            //   depositResult.errorFront = this.errorService.getMsgDeposit(
            //     depositRequest,
            //     depositResult,
            //     {
            //       bcFailed: true,
            //     }
            //   );
            //   return depositResult;
            // }
            const providerServices = yield this.getDepositPaymentProviderServices(depositRequest);
            for (let i = 0; i < providerServices.length; i++) {
                const providerService = providerServices[i];
                const is_avaiable = yield providerService.isAvailable();
                if (!is_avaiable) {
                    continue;
                }
                depositResult = yield providerService.depositGeneralWrapper(depositRequest);
                if (!depositResult || !depositResult.result) {
                    continue;
                }
                break;
            }
            if (!depositResult) {
                depositResult = new _providers_payment_provider_payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_23__["PaymentProviderDepositResult"]();
                depositResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_54__["ErrorCodeEnum"].DEPOSIT_PROVIDER_NO_AVAILABLE;
                depositResult.result = false;
            }
            depositResult.errorFront = this.errorService.getMsgDeposit(depositRequest, depositResult);
            this.errorService.santitizeDeposit(depositRequest, depositResult);
            return depositResult;
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Get Deposit Info
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    depositByCard(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const iv = Buffer.from(decodeURIComponent(request.data2), 'base64');
            const password = this.configService.get('DEPOSIT_KEY');
            const key = Buffer.from(password);
            const decipher = crypto__WEBPACK_IMPORTED_MODULE_49__["createDecipheriv"]('aes-256-ctr', key, iv);
            let decDst = decipher.update(decodeURIComponent(request.data1), 'base64', 'utf8');
            decDst += decipher.final('utf8');
            const data = JSON.parse(decDst);
            const paymentProviderService = this
                .payProviderServicesMap[data.paymentProviderId];
            if (!paymentProviderService) {
                return;
            }
            const params = {
                userId: data.userId,
                amount: data.amount,
                userName: request.userName,
                last4Digit: '',
                hash: md5__WEBPACK_IMPORTED_MODULE_5__(`${decodeURIComponent(request.data1)}` +
                    `${decodeURIComponent(request.data2)}`),
            };
            return paymentProviderService.depositByCard(params);
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Manual Deposit
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    manualDeposit(manualDepositRequest, ip, headers) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = new _dto_payment_manual_deposit_result_dto__WEBPACK_IMPORTED_MODULE_31__["PaymentManualDepositResultDto"]();
            response.result = false;
            const paymentProviderService = (this.payProviderServicesMap[manualDepositRequest.paymentProviderId]);
            if (!paymentProviderService) {
                throw new _payment_exception__WEBPACK_IMPORTED_MODULE_15__["NoProviderException"]();
            }
            const paymentProviderChannels = yield this.payProviderChannelService.findAll({
                include: [
                    {
                        model: _models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_32__["PaymentProviderEntityModel"],
                        as: 'paymentProvider',
                    },
                    {
                        model: _models_channel_model__WEBPACK_IMPORTED_MODULE_30__["ChannelModel"],
                        as: 'channel',
                        include: [
                            { model: _models_payment_system_model__WEBPACK_IMPORTED_MODULE_33__["PaymentSystemModel"], as: 'fromPaymentSystem' },
                            { model: _models_payment_system_model__WEBPACK_IMPORTED_MODULE_33__["PaymentSystemModel"], as: 'toPaymentSystem' },
                        ],
                    },
                ],
                where: { id: manualDepositRequest.paymentProviderChannelId },
            });
            if (!paymentProviderChannels || paymentProviderChannels.length < 1) {
                throw new _payment_exception__WEBPACK_IMPORTED_MODULE_15__["NoProviderException"]();
            }
            const paymentProviderChannel = paymentProviderChannels[0];
            const depositRequest = new _providers_payment_provider_payment_provider_deposit_request_dto__WEBPACK_IMPORTED_MODULE_22__["PaymentProviderDepositRequestDto"]();
            depositRequest.userId = `${manualDepositRequest.userId}`;
            depositRequest.amount = numeral__WEBPACK_IMPORTED_MODULE_7__(manualDepositRequest.amount).value();
            depositRequest.headers = headers;
            depositRequest.ip = ip;
            depositRequest.paymentSystem =
                _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["PaymentSystemEnum"][paymentProviderChannel.channel.fromPaymentSystemId];
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    const channelDepositResultBundle = yield paymentProviderService.depositByPaymentProviderChannel(depositRequest, paymentProviderChannel, null, transaction);
                    if (!channelDepositResultBundle) {
                        throw new _payment_exception__WEBPACK_IMPORTED_MODULE_15__["PaymentProviderException"]();
                    }
                    yield paymentProviderService.updateOrderAfterDeposit(channelDepositResultBundle.order, channelDepositResultBundle.depositResult, transaction);
                    const channelDepositResult = channelDepositResultBundle.depositResult;
                    response.result = channelDepositResult.result;
                    if (!response.result) {
                        response.errorCode = channelDepositResult.errorCode;
                        response.errorMessage = channelDepositResult.errorMessage;
                    }
                    response.requestJson = channelDepositResult.channelRequestJson;
                    response.responseJson = channelDepositResult.channelResponseJson;
                    response.requestTime = channelDepositResult.channelRequestTime;
                    if (!response.result) {
                        throw new _payment_exception__WEBPACK_IMPORTED_MODULE_15__["PaymentProviderException"]();
                    }
                }));
            }
            catch (error) {
                response.error = error;
                return response;
            }
            return response;
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Manual Deposit
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    testDeposit(request, ip, headers) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = new _dto_payment_test_deposit_result_dto__WEBPACK_IMPORTED_MODULE_47__["PaymentTestDepositResultDto"]();
            response.result = false;
            const paymentProviderChannels = yield this.payProviderChannelService.findAll({
                include: [
                    {
                        model: _models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_32__["PaymentProviderEntityModel"],
                        as: 'paymentProvider',
                    },
                    {
                        model: _models_channel_model__WEBPACK_IMPORTED_MODULE_30__["ChannelModel"],
                        as: 'channel',
                        include: [
                            { model: _models_payment_system_model__WEBPACK_IMPORTED_MODULE_33__["PaymentSystemModel"], as: 'fromPaymentSystem' },
                            { model: _models_payment_system_model__WEBPACK_IMPORTED_MODULE_33__["PaymentSystemModel"], as: 'toPaymentSystem' },
                        ],
                    },
                ],
                where: { id: request.paymentProviderChannelId },
            });
            if (!paymentProviderChannels || paymentProviderChannels.length < 1) {
                throw new _payment_exception__WEBPACK_IMPORTED_MODULE_15__["NoProviderException"]();
            }
            const paymentProviderChannel = paymentProviderChannels[0];
            const paymentProviderService = (this.payProviderServicesMap[paymentProviderChannel.paymentProviderId]);
            if (!paymentProviderService) {
                throw new _payment_exception__WEBPACK_IMPORTED_MODULE_15__["NoProviderException"]();
            }
            const bank = request.bankId
                ? yield this.bankService.findById(request.bankId)
                : null;
            const depositRequest = new _providers_payment_provider_payment_provider_deposit_request_dto__WEBPACK_IMPORTED_MODULE_22__["PaymentProviderDepositRequestDto"]();
            depositRequest.userId = this.configService.get('testUserId') /* `${request.userId}` */;
            depositRequest.amount = numeral__WEBPACK_IMPORTED_MODULE_7__(request.amount).value();
            depositRequest.headers = headers;
            depositRequest.ip = ip;
            depositRequest.paymentSystem =
                _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["PaymentSystemEnum"][paymentProviderChannel.channel.fromPaymentSystemId];
            if (request.userName) {
                depositRequest.userName = request.userName;
            }
            if (request.phoneNumber) {
                depositRequest.phoneNumber = request.phoneNumber;
            }
            if (request.countryCallingCode) {
                depositRequest.countryCallingCode = request.countryCallingCode;
            }
            if (bank) {
                depositRequest.bankCode = bank.bankCode;
            }
            try {
                paymentProviderChannel.testedAt = moment_timezone__WEBPACK_IMPORTED_MODULE_6__().toDate();
                yield paymentProviderChannel.save();
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    const channelDepositResultBundle = yield paymentProviderService.depositByPaymentProviderChannel(depositRequest, paymentProviderChannel, null, transaction);
                    if (!channelDepositResultBundle) {
                        throw new _payment_exception__WEBPACK_IMPORTED_MODULE_15__["PaymentProviderException"]();
                    }
                    yield paymentProviderService.updateOrderAfterDeposit(channelDepositResultBundle.order, channelDepositResultBundle.depositResult, transaction);
                    const channelDepositResult = channelDepositResultBundle.depositResult;
                    response.result = channelDepositResult.result;
                    if (!response.result) {
                        response.errorCode = channelDepositResult.errorCode;
                        response.errorMessage = channelDepositResult.errorMessage;
                    }
                    response.requestJson = channelDepositResult.channelRequestJson;
                    response.responseJson = channelDepositResult.channelResponseJson;
                    response.requestTime = channelDepositResult.channelRequestTime;
                    //console.log(response);
                    if (!response.result) {
                        throw new _payment_exception__WEBPACK_IMPORTED_MODULE_15__["PaymentProviderException"]();
                    }
                    response.url = channelDepositResult.data.url;
                    throw new _payment_exception__WEBPACK_IMPORTED_MODULE_15__["PaymentProviderException"]();
                }));
            }
            catch (error) {
                response.error = error;
                return response;
            }
            return response;
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Manual Withdraw
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    manualWithdraw(manualWithdrawRequest, ip, headers) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = new _dto_payment_manual_withdraw_result_dto__WEBPACK_IMPORTED_MODULE_37__["PaymentManualWithdrawResultDto"]();
            response.result = false;
            const paymentProviderService = (this.payProviderServicesMap[manualWithdrawRequest.paymentProviderId]);
            if (!paymentProviderService) {
                throw new _payment_exception__WEBPACK_IMPORTED_MODULE_15__["NoProviderException"]();
            }
            const paymentProviderChannels = yield this.payProviderChannelService.findAll({
                include: [
                    {
                        model: _models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_32__["PaymentProviderEntityModel"],
                        as: 'paymentProvider',
                    },
                    {
                        model: _models_channel_model__WEBPACK_IMPORTED_MODULE_30__["ChannelModel"],
                        as: 'channel',
                        include: [
                            { model: _models_payment_system_model__WEBPACK_IMPORTED_MODULE_33__["PaymentSystemModel"], as: 'fromPaymentSystem' },
                            { model: _models_payment_system_model__WEBPACK_IMPORTED_MODULE_33__["PaymentSystemModel"], as: 'toPaymentSystem' },
                        ],
                    },
                ],
                where: {
                    paymentProviderId: manualWithdrawRequest.paymentProviderId,
                    '$channel.depositOrWithdrawable$': _providers_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_18__["DepositOrWithdrawalEnum"].WITHDRAWAL,
                },
            });
            if (!paymentProviderChannels || paymentProviderChannels.length < 1) {
                throw new _payment_exception__WEBPACK_IMPORTED_MODULE_15__["NoProviderException"]();
            }
            const paymentProviderChannel = paymentProviderChannels[0];
            const bank = yield this.bankService.findById(manualWithdrawRequest.bankId);
            if (!bank) {
                throw new _payment_exception__WEBPACK_IMPORTED_MODULE_15__["NoProviderException"]();
            }
            const withdrawRequest = new _providers_payment_provider_payment_provider_withdraw_request_dto__WEBPACK_IMPORTED_MODULE_25__["PaymentProviderWithdrawRequestDto"]();
            withdrawRequest.ip = ip;
            withdrawRequest.headers = headers;
            withdrawRequest.amount = numeral__WEBPACK_IMPORTED_MODULE_7__(manualWithdrawRequest.amount).value();
            withdrawRequest.orderId = manualWithdrawRequest.orderId;
            withdrawRequest.userId = `${manualWithdrawRequest.userId}`;
            withdrawRequest.bankCode = bank.bankCode;
            withdrawRequest.bankAccountName = manualWithdrawRequest.bankAccountName;
            withdrawRequest.bankAccountNumber = manualWithdrawRequest.bankAccountNumber;
            withdrawRequest.province = manualWithdrawRequest.province;
            withdrawRequest.city = manualWithdrawRequest.city;
            withdrawRequest.branch = manualWithdrawRequest.branch;
            withdrawRequest.currency = manualWithdrawRequest.currency;
            withdrawRequest.userName = manualWithdrawRequest.userName;
            withdrawRequest.countryCallingCode =
                manualWithdrawRequest.countryCallingCode;
            withdrawRequest.phoneNumber = manualWithdrawRequest.phoneNumber;
            withdrawRequest.hashcode = '';
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    const ppcWithdrawResultBundle = yield paymentProviderService.withdrawByPaymentProviderChannel(withdrawRequest, paymentProviderChannel, transaction);
                    if (!ppcWithdrawResultBundle) {
                        throw new _payment_exception__WEBPACK_IMPORTED_MODULE_15__["PaymentProviderException"]();
                    }
                    yield paymentProviderService.updateOrderAfterWithdraw(ppcWithdrawResultBundle.order, ppcWithdrawResultBundle.withdrawResult, transaction);
                    const ppcWithdrawResult = ppcWithdrawResultBundle.withdrawResult;
                    response.result = ppcWithdrawResult.result;
                    if (!response.result) {
                        response.errorCode = ppcWithdrawResult.errorCode;
                        response.errorMessage = ppcWithdrawResult.errorMessage;
                    }
                    response.requestJson = ppcWithdrawResult.channelRequestJson;
                    response.responseJson = ppcWithdrawResult.channelResponseJson;
                    response.requestTime = ppcWithdrawResult.channelRequestTime;
                    if (!response.result) {
                        throw new _payment_exception__WEBPACK_IMPORTED_MODULE_15__["PaymentProviderException"]();
                    }
                }));
            }
            catch (error) {
                response.error = error;
                return response;
            }
            return response;
            // const response = new PaymentManualWithdrawResultDto();
            // response.result = false;
            // const orderCreate = new WithdrawOrderCreateDto();
            // orderCreate.orderId =
            //   `${(numeral(Math.random().toString(10).substr(2, 1)).value() % 9) + 1}` +
            //   `${Math.random().toString(10).substr(2, 7)}`;
            // orderCreate.userId = `${manualWithdrawRequest.userId}`;
            // orderCreate.clientOrderId = `${manualWithdrawRequest.orderId}`;
            // orderCreate.currency = CurrencyEnum.CNY;
            // orderCreate.amount = numeral(manualWithdrawRequest.amount).value();
            // orderCreate.status = OrderStatusEnum.SUCCESS;
            // try {
            //   await this.sequelize.transaction(async (transaction) => {
            //     const order = await this.withdrawOrderService.create(orderCreate, {
            //       transaction,
            //     });
            //     if (!order) {
            //       throw new Error('creating withdraw order is failed');
            //     }
            //     const params = new BCWithdrawInParams();
            //     params.userId = numeral(order.userId).value();
            //     params.orderId = numeral(order.clientOrderId).value();
            //     params.amount = order.amount;
            //     params.currency = order.currency;
            //     params.reason = this.configService.get<string>(
            //       'betConstruct.withdraw.reason'
            //     );
            //     params.status = this.betConstructService.getBCWithdrawStatusByOrderStatus(
            //       <OrderStatusEnum>order.status
            //     );
            //     const bcOrder = await this.betConstructService.addWithdrawBcOrder(
            //       params,
            //       { transaction }
            //     );
            //     if (!bcOrder) {
            //       throw new Error('creating bcOrder record is failed');
            //     }
            //   });
            // } catch (error) {
            //   response.error = error;
            //   return response;
            // }
            // response.result = true;
            // return response;
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Make Deposit Success
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    makeDepositSuccess(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const pendingOrder = yield this.depositPendingOrderRepository.findOne({
                where: { orderId: `${request.orderId}` },
            });
            if (!pendingOrder) {
                return false;
            }
            pendingOrder.status = _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"].SUCCESS;
            const orderCreate = _order_deposit_order_deposit_order_dto__WEBPACK_IMPORTED_MODULE_35__["DepositOrderCreateDto"].pendingDepositFactory(pendingOrder);
            orderCreate.date = new Date();
            if (request.amount !== undefined) {
                orderCreate.amount = numeral__WEBPACK_IMPORTED_MODULE_7__(request.amount).value();
            }
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    yield pendingOrder.destroy({ transaction });
                    const order = new this.depositOrderRepository(orderCreate);
                    yield order.save({ transaction });
                    const params = new _betContruct_dto_bc_deposit_in_params__WEBPACK_IMPORTED_MODULE_42__["BCDepositInParams"]();
                    params.userId = numeral__WEBPACK_IMPORTED_MODULE_7__(order.userId).value();
                    params.orderId = numeral__WEBPACK_IMPORTED_MODULE_7__(order.orderId).value();
                    params.amount = numeral__WEBPACK_IMPORTED_MODULE_7__(order.amount).value();
                    params.currency = _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["CurrencyEnum"][_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["CurrencyEnum"].CNY];
                    const bcOrder = yield this.betConstructService.addDepositBcOrder(params);
                }));
            }
            catch (error) {
                console.log(error);
                return false;
            }
            return true;
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Make Withdraw Success
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    makeWithdrawSuccess(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const pendingOrder = yield this.withdrawPendingOrderRepository.findOne({
                where: { orderId: `${request.orderId}` },
            });
            if (!pendingOrder) {
                return false;
            }
            pendingOrder.status = _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"].SUCCESS;
            const orderCreate = _order_withdraw_order_withdraw_order_dto__WEBPACK_IMPORTED_MODULE_38__["WithdrawOrderCreateDto"].pendingWithdrawFactory(pendingOrder);
            orderCreate.date = new Date();
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    yield pendingOrder.destroy({ transaction });
                    const order = new this.withdrawOrderRepository(orderCreate);
                    yield order.save({ transaction });
                    // create BC Order
                    const params = new _betContruct_dto_bc_withdraw_in_params__WEBPACK_IMPORTED_MODULE_13__["BCWithdrawInParams"]();
                    params.userId = numeral__WEBPACK_IMPORTED_MODULE_7__(order.userId).value();
                    params.orderId = numeral__WEBPACK_IMPORTED_MODULE_7__(order.clientOrderId).value();
                    params.amount = order.amount;
                    params.currency = order.currency;
                    params.reason = this.configService.get('betConstruct.withdraw.reason');
                    params.status = this.betConstructService.getBCWithdrawStatusByOrderStatus(order.status);
                    const bcOrder = yield this.betConstructService.addWithdrawBcOrder(params, { transaction });
                    if (!bcOrder) {
                        throw new Error('creating bcOrder record is failed');
                    }
                }));
            }
            catch (error) {
                console.log(error);
                return false;
            }
            return true;
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Withdraw
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    withdraw(withdrawRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let withdrawResult;
            yield this.testRepository.create({ a: JSON.stringify(withdrawRequest) });
            // check withdraw ipwhitelist
            const inParamsIP = new _betContruct_dto_bc_check_withdraw_ipwhitelist_in_params__WEBPACK_IMPORTED_MODULE_44__["BCCheckWithdrawIPWhiteListInparams"]();
            inParamsIP.ip = withdrawRequest.ip;
            const checkWithdrawIPOut = this.betConstructService.checkWithdrawIPWhitelist(inParamsIP);
            if (!checkWithdrawIPOut.result) {
                // console.log(inParamsIP.ip);
                // return PaymentProviderWithdrawResult.bcCheckIPWhiteListErrorFactory(
                //   checkWithdrawIPOut
                // );
                withdrawResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_54__["ErrorCodeEnum"].WITHDRAW_IP_INVALID;
                withdrawResult.result = false;
                this.errorService.santitizeWithdraw(withdrawRequest, withdrawResult);
                return withdrawResult;
            }
            // check withdraw hash
            const inParamsHash = new _betContruct_dto_bc_check_withdraw_hash_in_param__WEBPACK_IMPORTED_MODULE_12__["BCCheckWithdrawHashInparams"]();
            inParamsHash.amount = withdrawRequest.amount;
            inParamsHash.bankAccountName = withdrawRequest.bankAccountName;
            inParamsHash.bankAccountNumber = withdrawRequest.bankAccountNumber;
            inParamsHash.bankCode = withdrawRequest.bankCode;
            inParamsHash.branch = withdrawRequest.branch;
            inParamsHash.city = withdrawRequest.city;
            inParamsHash.currency = withdrawRequest.currency;
            inParamsHash.hashCode = withdrawRequest.hashcode;
            inParamsHash.orderId = withdrawRequest.orderId;
            inParamsHash.province = withdrawRequest.province;
            inParamsHash.userId = withdrawRequest.userId;
            inParamsHash.userName = withdrawRequest.userName;
            inParamsHash.phoneNumber = withdrawRequest.phoneNumberRaw;
            const checkWithdrawHashOut = this.betConstructService.checkWithdrawHash(inParamsHash);
            if (!checkWithdrawHashOut.result) {
                // return PaymentProviderWithdrawResult.bcCheckWithdrawHashErrorFactory(
                //   checkWithdrawHashOut
                // );
                withdrawResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_54__["ErrorCodeEnum"].WITHDRAW_SIGN_INVALID;
                withdrawResult.result = false;
            }
            withdrawResult = new _providers_payment_provider_payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_26__["PaymentProviderWithdrawResult"]();
            //withdrawResult.response = { code: 0, message: 'OK' };
            // get Withdrawable PaymentProviderServices
            const providerServices = yield this.getWithdrawPaymentProviderServices(withdrawRequest);
            let withdrawResultProvider;
            for (let i = 0; i < providerServices.length; i++) {
                const providerService = providerServices[i];
                const is_avaiable = yield providerService.isAvailable();
                if (!is_avaiable) {
                    continue;
                }
                withdrawResultProvider = yield providerService.withdrawGeneralWrapper(withdrawRequest);
                if (!withdrawResultProvider || !withdrawResultProvider.result) {
                    continue;
                }
                break;
            }
            if (!withdrawResultProvider) {
                withdrawResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_54__["ErrorCodeEnum"].WITHDRAW_PROVIDER_NO_AVAILABLE;
                withdrawResult.result = false;
                this.errorService.santitizeWithdraw(withdrawRequest, withdrawResult);
                return withdrawResult;
            }
            if (!withdrawResult.result) {
                const pendingOrder = yield _providers_payment_provider_payment_provider_service__WEBPACK_IMPORTED_MODULE_24__["PaymentProviderService"].createPendingWithdrawOrderByRequest(withdrawRequest, {
                    bankService: this.bankService,
                    withdrawPendingOrderService: this.withdrawPendingOrderService,
                });
                pendingOrder.status = _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"].FAILED;
                pendingOrder.errorCode = '100';
                pendingOrder.errorMessage = 'No PaymentProvider';
                yield pendingOrder.save();
                withdrawResult.code = withdrawResultProvider.code;
                this.errorService.santitizeWithdraw(withdrawRequest, withdrawResult);
                return withdrawResult;
                // withdrawResult.response = withdrawResultProvider
                //   ? {
                //     code: withdrawResultProvider.response.code,
                //     message: withdrawResultProvider.response.message,
                //   }
                //   : { code: 100, message: 'There is no payment provider' };
            }
            // create bcOrders Item
            // if (
            //   !withdrawResultProvider ||
            //   `${withdrawResultProvider.response.code}` !== `0`
            // ) {
            //   const bcWithdrawInParams = new BCWithdrawInParams();
            //   bcWithdrawInParams.amount = withdrawRequest.amount;
            //   bcWithdrawInParams.currency = withdrawRequest.currency;
            //   bcWithdrawInParams.orderId = numeral(withdrawRequest.orderId).value();
            //   bcWithdrawInParams.reason = this.configService.get<string>(
            //     'betConstruct.withdraw.reason'
            //   );
            //   bcWithdrawInParams.status = BCWithdrawStatus.FAILED;
            //   bcWithdrawInParams.userId = withdrawRequest.userId;
            //   const bcOrder = await this.betConstructService.addWithdrawBcOrder(
            //     bcWithdrawInParams
            //   );
            //   console.log(':BCOrder Created');
            // }
            // if (!withdrawResult) {
            //   throw new NoProviderException();
            // }
            withdrawResult.code = 0;
            withdrawResult.msg = "Success";
            return withdrawResult;
        });
    }
    bcWithdraw(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const params = new _betContruct_dto_bc_withdraw_in_params__WEBPACK_IMPORTED_MODULE_13__["BCWithdrawInParams"]();
            params.amount = request.amount;
            params.currency = request.currency;
            params.orderId = request.orderId;
            params.reason = 'this is test reason';
            params.status = _betContruct_dto_bc_withdraw_in_params__WEBPACK_IMPORTED_MODULE_13__["BCWithdrawStatus"].FAILED;
            params.userId = request.userId;
            const withdrawOut = yield this.betConstructService.withdraw(params);
            if (withdrawOut) {
                return {
                    response: {
                        code: withdrawOut.result ? 0 : 101,
                        message: withdrawOut.result ? null : withdrawOut.errorMessage,
                    },
                };
            }
            return null;
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Get Deposit Payment Provider Service List
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    getDepositPaymentProviderServices(depositRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const depositProviderServices = [];
            const paymetnSystemId = _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["PaymentSystemEnum"][depositRequest.paymentSystem];
            const depositProviderEntities = yield this.payProviderEntityService.findDepositAvailableProvider();
            if (!depositProviderEntities || depositProviderEntities.length < 1) {
                return depositProviderServices;
            }
            for (let i = 0; i < depositProviderEntities.length; i++) {
                const providerEntity = depositProviderEntities[i];
                const providerService = this.payProviderServicesMap[providerEntity.id];
                if (!providerService) {
                    continue;
                }
                const providerChannels = yield this.payProviderChannelService.getDepositablesByPaymentSystem(paymetnSystemId, providerEntity.id, depositRequest.amount);
                if (!providerChannels || providerChannels.length < 1) {
                    continue;
                }
                depositProviderServices.push(providerService);
            }
            return depositProviderServices;
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Get Withdraw Payment Provider Service List
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    getWithdrawPaymentProviderServices(withdrawRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const withdrawProviderServices = [];
            const withdrawProviderEntities = yield this.payProviderEntityService.findWithdrawalAvailableProvider();
            if (!withdrawProviderEntities || withdrawProviderEntities.length < 1) {
                return withdrawProviderServices;
            }
            for (let i = 0; i < withdrawProviderEntities.length; i++) {
                const providerEntity = withdrawProviderEntities[i];
                const providerService = this.payProviderServicesMap[providerEntity.id];
                if (!providerService) {
                    continue;
                }
                const providerChannels = yield this.payProviderChannelService.getWithdrawablesByPaymentProvider(providerEntity.id, withdrawRequest.amount);
                if (!providerChannels || providerChannels.length < 1) {
                    continue;
                }
                withdrawProviderServices.push(providerService);
            }
            return withdrawProviderServices;
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Get PaymentProviderChannel Depositable
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    getPaymentProviderChannelDepositable(paymentProviderChannel) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const paymentProvider = yield this.payProviderEntityService.findById(paymentProviderChannel.paymentProviderId);
            if (!paymentProvider) {
                return false;
            }
            const paymentProviderService = this
                .payProviderServicesMap[paymentProvider.id];
            if (!paymentProviderService) {
                return false;
            }
            const depositRequest = new _providers_payment_provider_payment_provider_deposit_request_dto__WEBPACK_IMPORTED_MODULE_22__["PaymentProviderDepositRequestDto"]();
            depositRequest.paymentSystem =
                _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["PaymentSystemEnum"][paymentProviderChannel.channel.fromPaymentSystemId];
            depositRequest.amount = this.configService.get('minDeposit.AMOUNT');
            depositRequest.userId = this.configService.get('minDeposit.USERID');
            if (paymentProviderChannel.paymentProviderId === _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEnum"].D1F) {
                const channel = yield this.channelService.findById(paymentProviderChannel.channelId);
                if (!channel) {
                    return false;
                }
                if (channel.fromPaymentSystem.isBank && channel.toPaymentSystem.isBank) {
                    depositRequest.bankCode =
                        _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["BankCodeEnum"][this.configService.get('minDeposit.D1FBANKID')];
                }
            }
            depositRequest.headers = {
                'user-agent': this.configService.get('minDeposit.USERAGENT'),
            };
            depositRequest.ip = this.configService.get('minDeposit.IP');
            // console.log('>>>>>>>>>>>>>>>>>>>>>>>>>>>: ', paymentProviderChannel.providerChannelName);
            // console.log(depositRequest);
            const depositResult = yield paymentProviderService.channelDepositPreTryWrapper(depositRequest, paymentProviderChannel);
            // console.log(depositResult);
            // console.log('===========================');
            const isAvailable = this.getDepositableByDepositResult(paymentProviderChannel, depositResult);
            return isAvailable;
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Get PaymentProviderBank Withdrawable
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    getPaymentProviderBankWithdrawable(payProviderBank) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const paymentProviderId = payProviderBank.paymentProviderId;
            if (paymentProviderId === _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEnum"].HENGXIN) {
                return true;
            }
            const payProviderService = this
                .payProviderServicesMap[paymentProviderId];
            if (!payProviderService) {
                return false;
            }
            const paymentProviderChannels = yield this.payProviderChannelService.findAll({
                include: [{ model: _models_channel_model__WEBPACK_IMPORTED_MODULE_30__["ChannelModel"], as: 'channel' }],
                where: {
                    paymentProviderId,
                    '$channel.depositOrWithdrawable$': _providers_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_18__["DepositOrWithdrawalEnum"].WITHDRAWAL,
                },
            });
            const bank = yield this.bankService.findById(payProviderBank.bankId);
            if (!bank) {
                return false;
            }
            const withdrawRequest = new _dto_payment_withdraw_request_dto__WEBPACK_IMPORTED_MODULE_51__["PaymentWithdrawRequestDto"]();
            withdrawRequest.bankCode = _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["BankCodeEnum"][payProviderBank.bankId];
            withdrawRequest.amount = this.configService.get('minWithdraw.AMOUNT');
            withdrawRequest.userId =
                this.configService.get('minWithdraw.USERID_PREFIX') +
                    Math.random().toString(10).substr(2, 5);
            withdrawRequest.currency = this.configService.get('minWithdraw.CURRENCY');
            withdrawRequest.bankAccountName =
                this.configService.get('minWithdraw.BANKACCOUNTNAME_PREFIX') +
                    Math.random().toString(36).substring(2, 7);
            withdrawRequest.bankAccountNumber =
                this.configService.get('minWithdraw.BANKACCOUNTNUMBER_PREFIX') +
                    Math.random().toString(10).substr(2, 10);
            withdrawRequest.city =
                this.configService.get('minWithdraw.CITY') +
                    Math.random().toString(36).substring(2, 7);
            withdrawRequest.province =
                this.configService.get('minWithdraw.PROVINCE') +
                    Math.random().toString(36).substring(2, 7);
            withdrawRequest.orderId =
                Date.now() + Math.random().toString(36).substring(2, 7);
            withdrawRequest.hashcode =
                this.configService.get('minWithdraw.HASHCODE') +
                    Math.random().toString(10).substr(2, 10);
            let isAvailableFinal = false;
            for (let i = 0; i < paymentProviderChannels.length; i++) {
                const paymentProviderChannel = paymentProviderChannels[i];
                console.log('>>>>>>>>>>>>>>>>>>>>>>>>>>>');
                console.log(withdrawRequest);
                const withdrawResult = yield payProviderService.channelWithdrawPreTryWrapper(withdrawRequest, paymentProviderChannel);
                console.log(withdrawResult);
                console.log('===========================');
                const isAvailable = this.getWithdrawableByWithdrawResult(payProviderBank, withdrawResult);
                paymentProviderChannel.isAvailable = isAvailable;
                yield paymentProviderChannel.save();
                if (isAvailable) {
                    isAvailableFinal = true;
                }
            }
            return isAvailableFinal;
        });
    }
    getWithdrawableByWithdrawResult(paymentProviderBank, withdrawResult) {
        if (!withdrawResult) {
            return false;
        }
        if (withdrawResult.result) {
            return true;
        }
        const errorCode = withdrawResult.errorCode;
        let minAmountErrorCode;
        switch (paymentProviderBank.paymentProviderId) {
            case _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEnum"].MSZF:
                minAmountErrorCode = this.configService.get('mszf.WITHDRAW_MINAMOUNT_ERROR_CODE');
                return `${errorCode}` === `${minAmountErrorCode}`;
            case _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEnum"].D1F:
                return false;
            case _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEnum"].XINGCHEN:
                minAmountErrorCode = this.configService.get('xingchen.WITHDRAW_MINAMOUNT_ERROR_CODE');
                return `${errorCode}` === `${minAmountErrorCode}`;
            case _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEnum"].UZPAY:
                minAmountErrorCode = this.configService.get('uzpay.WITHDRAW_MINAMOUNT_ERROR_CODE');
                return `${errorCode}` === `${minAmountErrorCode}`;
            default:
                break;
        }
        return true;
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Get Depositable By DepositResult
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    getDepositableByDepositResult(paymentProviderChannel, depositResult) {
        if (!depositResult) {
            return false;
        }
        if (depositResult.result) {
            return true;
        }
        const errorCode = depositResult.errorCode;
        let minAmountErrorCode;
        switch (paymentProviderChannel.paymentProviderId) {
            case _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEnum"].MSZF:
                minAmountErrorCode = this.configService.get('mszf.DEPOSIT_MINAMOUNT_ERROR_CODE');
                return `${errorCode}` === `${minAmountErrorCode}`;
            case _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEnum"].D1F:
                return false;
            case _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEnum"].XINGCHEN:
                minAmountErrorCode = this.configService.get('xingchen.DEPOSIT_MINAMOUNT_ERROR_CODE');
                return `${errorCode}` === `${minAmountErrorCode}`;
            case _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEnum"].UZPAY:
                minAmountErrorCode = this.configService.get('uzpay.DEPOSIT_MINAMOUNT_ERROR_CODE');
                return `${errorCode}` === `${minAmountErrorCode}`;
            default:
                break;
        }
        return false;
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Get Depositable PaymentSystems
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    getDepositablePaymentSystems() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.paymentSystemService.getDepositables(true);
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Get Depositable PaymentSystems
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    getDepositableUsdtProts() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.usdtProtoService.getDepositables(true);
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Get Depositable Channels
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    getDepositableChannels() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.payProviderChannelService.getDepositables();
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Get Depositable Channels
    //
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    getWithdrawableBanks() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = {
                options: {
                    withdrawDefaultMinAmount: null,
                    withdrawDefaultMaxAmount: null,
                    dailyMaxNumWithdraw: null,
                    dailyMaxAmountWithdraw: null,
                },
                banks: yield this.payProviderBankService.getWithdrawableBanks(true),
            };
            const optWithdrawDefaultMinAmount = yield this.optionsRepository.findOne({
                where: { optName: 'withdrawDefaultMinAmount' },
            });
            if (optWithdrawDefaultMinAmount != null) {
                response.options.withdrawDefaultMinAmount = numeral__WEBPACK_IMPORTED_MODULE_7__(optWithdrawDefaultMinAmount.optValue).value();
            }
            const optWithdrawDefaultMaxAmount = yield this.optionsRepository.findOne({
                where: { optName: 'withdrawDefaultMaxAmount' },
            });
            if (optWithdrawDefaultMaxAmount != null) {
                response.options.withdrawDefaultMaxAmount = numeral__WEBPACK_IMPORTED_MODULE_7__(optWithdrawDefaultMaxAmount.optValue).value();
            }
            const optDailyMaxNumWithdraw = yield this.optionsRepository.findOne({
                where: { optName: 'dailyMaxNumWithdraw' },
            });
            if (optDailyMaxNumWithdraw != null) {
                response.options.dailyMaxNumWithdraw = numeral__WEBPACK_IMPORTED_MODULE_7__(optDailyMaxNumWithdraw.optValue).value();
            }
            const optDailyMaxAmountWithdraw = yield this.optionsRepository.findOne({
                where: { optName: 'dailyMaxAmountWithdraw' },
            });
            if (optDailyMaxAmountWithdraw != null) {
                response.options.dailyMaxAmountWithdraw = numeral__WEBPACK_IMPORTED_MODULE_7__(optDailyMaxAmountWithdraw.optValue).value();
            }
            return response;
        });
    }
};
PaymentService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(24, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__["InjectModel"])(_models_deposit_pending_order_model__WEBPACK_IMPORTED_MODULE_34__["DepositPendingOrderModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(25, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__["InjectModel"])(_models_deposit_order_model__WEBPACK_IMPORTED_MODULE_36__["DepositOrderModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(26, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__["InjectModel"])(_models_withdraw_pending_order_model__WEBPACK_IMPORTED_MODULE_40__["WithdrawPendingOrderModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(27, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__["InjectModel"])(_models_withdraw_order_model__WEBPACK_IMPORTED_MODULE_41__["WithdrawOrderModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(28, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__["InjectModel"])(_models_options_model__WEBPACK_IMPORTED_MODULE_45__["OptionsModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(29, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__["InjectModel"])(_models_test_entity__WEBPACK_IMPORTED_MODULE_9__["TestModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"]) === "function" ? _a : Object, typeof (_b = typeof _providers_payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_19__["PaymentProviderEntityService"] !== "undefined" && _providers_payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_19__["PaymentProviderEntityService"]) === "function" ? _b : Object, typeof (_c = typeof _paymentSystem_payment_system_service__WEBPACK_IMPORTED_MODULE_16__["PaymentSystemService"] !== "undefined" && _paymentSystem_payment_system_service__WEBPACK_IMPORTED_MODULE_16__["PaymentSystemService"]) === "function" ? _c : Object, typeof (_d = typeof _usdtProtocol_usdt_proto_service__WEBPACK_IMPORTED_MODULE_56__["UsdtProtoService"] !== "undefined" && _usdtProtocol_usdt_proto_service__WEBPACK_IMPORTED_MODULE_56__["UsdtProtoService"]) === "function" ? _d : Object, typeof (_e = typeof _channel_channel_service__WEBPACK_IMPORTED_MODULE_14__["ChannelService"] !== "undefined" && _channel_channel_service__WEBPACK_IMPORTED_MODULE_14__["ChannelService"]) === "function" ? _e : Object, typeof (_f = typeof _bank_bank_service__WEBPACK_IMPORTED_MODULE_10__["BankService"] !== "undefined" && _bank_bank_service__WEBPACK_IMPORTED_MODULE_10__["BankService"]) === "function" ? _f : Object, typeof (_g = typeof _providers_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_18__["PaymentProviderChannelService"] !== "undefined" && _providers_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_18__["PaymentProviderChannelService"]) === "function" ? _g : Object, typeof (_h = typeof _providers_payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_17__["PaymentProviderBankService"] !== "undefined" && _providers_payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_17__["PaymentProviderBankService"]) === "function" ? _h : Object, typeof (_j = typeof _providers_payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_55__["PaymentProviderUsdtProtoService"] !== "undefined" && _providers_payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_55__["PaymentProviderUsdtProtoService"]) === "function" ? _j : Object, typeof (_k = typeof _providers_payment_provider_mszf_mszf_payment_provider_service__WEBPACK_IMPORTED_MODULE_21__["MSZFPaymentProviderService"] !== "undefined" && _providers_payment_provider_mszf_mszf_payment_provider_service__WEBPACK_IMPORTED_MODULE_21__["MSZFPaymentProviderService"]) === "function" ? _k : Object, typeof (_l = typeof _providers_payment_provider_d1f_d1f_payment_provider_service__WEBPACK_IMPORTED_MODULE_20__["D1FPaymentProviderService"] !== "undefined" && _providers_payment_provider_d1f_d1f_payment_provider_service__WEBPACK_IMPORTED_MODULE_20__["D1FPaymentProviderService"]) === "function" ? _l : Object, typeof (_m = typeof _providers_payment_provider_xingchen_xingchen_payment_provider_service__WEBPACK_IMPORTED_MODULE_28__["XingChenPaymentProviderService"] !== "undefined" && _providers_payment_provider_xingchen_xingchen_payment_provider_service__WEBPACK_IMPORTED_MODULE_28__["XingChenPaymentProviderService"]) === "function" ? _m : Object, typeof (_o = typeof _providers_payment_provider_uzpay_uzpay_payment_provider_service__WEBPACK_IMPORTED_MODULE_27__["UzPAYPaymentProviderService"] !== "undefined" && _providers_payment_provider_uzpay_uzpay_payment_provider_service__WEBPACK_IMPORTED_MODULE_27__["UzPAYPaymentProviderService"]) === "function" ? _o : Object, typeof (_p = typeof _providers_payment_provider_hengxin_hengxin_payment_provider_service__WEBPACK_IMPORTED_MODULE_29__["HengXinPaymentProviderService"] !== "undefined" && _providers_payment_provider_hengxin_hengxin_payment_provider_service__WEBPACK_IMPORTED_MODULE_29__["HengXinPaymentProviderService"]) === "function" ? _p : Object, typeof (_q = typeof _providers_payment_provider_jbp_jbp_payment_provider_service__WEBPACK_IMPORTED_MODULE_43__["JBPPaymentProviderService"] !== "undefined" && _providers_payment_provider_jbp_jbp_payment_provider_service__WEBPACK_IMPORTED_MODULE_43__["JBPPaymentProviderService"]) === "function" ? _q : Object, typeof (_r = typeof _providers_payment_provider_sxc_sxc_payment_provider_service__WEBPACK_IMPORTED_MODULE_48__["SXCPaymentProviderService"] !== "undefined" && _providers_payment_provider_sxc_sxc_payment_provider_service__WEBPACK_IMPORTED_MODULE_48__["SXCPaymentProviderService"]) === "function" ? _r : Object, typeof (_s = typeof _providers_payment_provider_dbpay_dbpay_payment_provider_service__WEBPACK_IMPORTED_MODULE_50__["DBPayPaymentProviderService"] !== "undefined" && _providers_payment_provider_dbpay_dbpay_payment_provider_service__WEBPACK_IMPORTED_MODULE_50__["DBPayPaymentProviderService"]) === "function" ? _s : Object, typeof (_t = typeof _providers_payment_provider_bisa_bisa_payment_provider_service__WEBPACK_IMPORTED_MODULE_52__["BisaPaymentProviderService"] !== "undefined" && _providers_payment_provider_bisa_bisa_payment_provider_service__WEBPACK_IMPORTED_MODULE_52__["BisaPaymentProviderService"]) === "function" ? _t : Object, typeof (_u = typeof _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_11__["BetConstructService"] !== "undefined" && _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_11__["BetConstructService"]) === "function" ? _u : Object, typeof (_v = typeof _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_39__["WithdrawOrderService"] !== "undefined" && _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_39__["WithdrawOrderService"]) === "function" ? _v : Object, typeof (_w = typeof _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_53__["WithdrawPendingOrderService"] !== "undefined" && _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_53__["WithdrawPendingOrderService"]) === "function" ? _w : Object, typeof (_x = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpService"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpService"]) === "function" ? _x : Object, typeof (_y = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_8__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_8__["Sequelize"]) === "function" ? _y : Object, typeof (_z = typeof _error_error_service__WEBPACK_IMPORTED_MODULE_46__["ErrorService"] !== "undefined" && _error_error_service__WEBPACK_IMPORTED_MODULE_46__["ErrorService"]) === "function" ? _z : Object, Object, Object, Object, Object, Object, Object])
], PaymentService);



/***/ }),

/***/ "./apps/backend/src/app/payment/paymentSystem/payment.system.module.ts":
/*!*****************************************************************************!*\
  !*** ./apps/backend/src/app/payment/paymentSystem/payment.system.module.ts ***!
  \*****************************************************************************/
/*! exports provided: PaymentSystemModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentSystemModule", function() { return PaymentSystemModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_payment_system_locale_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../models/payment.system.locale.model */ "./apps/backend/src/app/models/payment.system.locale.model.ts");
/* harmony import */ var _models_payment_system_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../models/payment.system.model */ "./apps/backend/src/app/models/payment.system.model.ts");
/* harmony import */ var _payment_system_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./payment.system.service */ "./apps/backend/src/app/payment/paymentSystem/payment.system.service.ts");






let PaymentSystemModule = class PaymentSystemModule {
};
PaymentSystemModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [
            _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["SequelizeModule"].forFeature([_models_payment_system_model__WEBPACK_IMPORTED_MODULE_4__["PaymentSystemModel"], _models_payment_system_locale_model__WEBPACK_IMPORTED_MODULE_3__["PaymentSystemLocaleModel"]]),
        ],
        providers: [_payment_system_service__WEBPACK_IMPORTED_MODULE_5__["PaymentSystemService"], _models_payment_system_model__WEBPACK_IMPORTED_MODULE_4__["PaymentSystemModel"]],
        controllers: [],
        exports: [_payment_system_service__WEBPACK_IMPORTED_MODULE_5__["PaymentSystemService"]],
    })
], PaymentSystemModule);



/***/ }),

/***/ "./apps/backend/src/app/payment/paymentSystem/payment.system.service.ts":
/*!******************************************************************************!*\
  !*** ./apps/backend/src/app/payment/paymentSystem/payment.system.service.ts ***!
  \******************************************************************************/
/*! exports provided: PaymentSystemService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentSystemService", function() { return PaymentSystemService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sequelize */ "sequelize");
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(sequelize__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _models_payment_system_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../models/payment.system.model */ "./apps/backend/src/app/models/payment.system.model.ts");
/* harmony import */ var _providers_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../providers/payment-provider-channel/payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! moment-timezone */ "moment-timezone");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _dto_depositable_paymentsystem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../dto/depositable.paymentsystem */ "./apps/backend/src/app/payment/dto/depositable.paymentsystem.ts");
/* harmony import */ var _models_payment_system_locale_model__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../models/payment.system.locale.model */ "./apps/backend/src/app/models/payment.system.locale.model.ts");
var _a, _b;












let PaymentSystemService = class PaymentSystemService {
    constructor(paymentSystemRepository, paymentSystemLocaleRepository, configService, sequelize) {
        this.paymentSystemRepository = paymentSystemRepository;
        this.paymentSystemLocaleRepository = paymentSystemLocaleRepository;
        this.configService = configService;
        this.sequelize = sequelize;
    }
    getDepositables(frozenRestrict) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const depositablePaymentSystems = [];
            let sqlFrozenFlexible = ``;
            if (!frozenRestrict) {
                const frozenPeriod = this.configService.get('FROZEN_PERIOD');
                const frozenPeriodBegin = moment_timezone__WEBPACK_IMPORTED_MODULE_8__()
                    .subtract(frozenPeriod, 'minutes')
                    .format();
                const frozenPeriodEnd = moment_timezone__WEBPACK_IMPORTED_MODULE_8__().add(frozenPeriod, 'minutes').format();
                //sqlFrozenFlexible = `and ( not "channels->paymentProviderChannels"."isFrozen" or "channels->paymentProviderChannels"."frozenCheckedDate" not between '${frozenPeriodBegin}' and '${frozenPeriodEnd}' )`;
                sqlFrozenFlexible = `and ( not "ppc"."isFrozen" or "ppc"."frozenCheckedDate" not between '${frozenPeriodBegin}' and '${frozenPeriodEnd}' )`;
            }
            else {
                //sqlFrozenFlexible = `and not "channels->paymentProviderChannels"."isFrozen"`;
                sqlFrozenFlexible = `and not "ppc"."isFrozen"`;
            }
            //const sqlIsAvailable = `"channels->paymentProviderChannels->paymentProvider"."isDepositSupport" and "channels->paymentProviderChannels"."isAvailable" ${sqlFrozenFlexible}`;
            const sqlIsAvailable = `"pp"."isDepositSupport" and "ppc"."isActive" and "ppc"."isAvailable" ${sqlFrozenFlexible}`;
            // const items = await this.paymentSystemRepository.findAll({
            //   attributes: [
            //     'PaymentSystemModel.id',
            //     'paymentSystemName',
            //     [Sequelize.literal(`bool_or(${sqlIsAvailable})`), 'isAvailable'],
            //     [
            //       Sequelize.literal(
            //         `min(case when (${sqlIsAvailable}) then "channels->paymentProviderChannels"."providerMinAmount" end)`
            //       ),
            //       'minAmount',
            //     ],
            //     [
            //       Sequelize.literal(
            //         `max(case when (${sqlIsAvailable}) then "channels->paymentProviderChannels"."providerMaxAmount" end)`
            //       ),
            //       'maxAmount',
            //     ],
            //   ],
            //   include: [
            //     {
            //       model: ChannelModel,
            //       as: 'channels',
            //       attributes: [],
            //       include: [
            //         {
            //           model: PaymentProviderChannelModel,
            //           as: 'paymentProviderChannels',
            //           attributes: [],
            //           include: [
            //             {
            //               model: PaymentProviderEntityModel,
            //               as: 'paymentProvider',
            //               attributes: [],
            //             },
            //           ],
            //         },
            //       ],
            //     },
            //   ],
            //   where: {
            //     '$channels.depositOrWithdrawable$': DepositOrWithdrawalEnum.DEPOSIT,
            //   },
            //   group: ['PaymentSystemModel.id'],
            //   raw: true,
            // });
            const sql = `
      select 
        ps.id , ps."paymentSystemName" , 
        bool_or(${sqlIsAvailable}) "isAvailable",
        min(case when (${sqlIsAvailable}) then "ppc"."providerMinAmount" end) "minAmount",
        max(case when (${sqlIsAvailable}) then "ppc"."providerMaxAmount" end) "maxAmount"
      from "paymentSystem" ps 
      left join channel c on ps.id  = c."fromPaymentSystemId" 
      left join "paymentProviderChannel" ppc on c.id = ppc."channelId" 
      left join "paymentProviders" pp on ppc."paymentProviderId" = pp .id 
      where c."depositOrWithdrawable" = ${_providers_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_7__["DepositOrWithdrawalEnum"].DEPOSIT}
      group by ps.id `;
            const items = yield this.sequelize.query(sql, {
                type: sequelize__WEBPACK_IMPORTED_MODULE_4__["QueryTypes"].SELECT,
            });
            for (let i = 0; i < items.length; i++) {
                const item = items[i];
                const depositablePaymentSystem = new _dto_depositable_paymentsystem__WEBPACK_IMPORTED_MODULE_10__["DepositablePaymentSystem"]();
                depositablePaymentSystem.id = item.id;
                depositablePaymentSystem.paymentMethodName = item.paymentSystemName;
                depositablePaymentSystem.isAvailable = item.isAvailable;
                depositablePaymentSystem.minAmount = numeral__WEBPACK_IMPORTED_MODULE_9__(item.minAmount).value();
                depositablePaymentSystem.maxAmount = numeral__WEBPACK_IMPORTED_MODULE_9__(item.maxAmount).value();
                const paymentSystemLocales = yield this.paymentSystemLocaleRepository.findAll({
                    where: {
                        paymentSystemId: item.id,
                    },
                    include: ['locale'],
                });
                const locales = {};
                paymentSystemLocales.forEach((paymentSystemLocale) => {
                    locales[paymentSystemLocale.locale.localeName] =
                        paymentSystemLocale.label;
                });
                depositablePaymentSystem.locales = locales;
                depositablePaymentSystems.push(depositablePaymentSystem);
            }
            return depositablePaymentSystems;
        });
    }
};
PaymentSystemService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__["InjectModel"])(_models_payment_system_model__WEBPACK_IMPORTED_MODULE_6__["PaymentSystemModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__["InjectModel"])(_models_payment_system_locale_model__WEBPACK_IMPORTED_MODULE_11__["PaymentSystemLocaleModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [Object, Object, typeof (_a = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"]) === "function" ? _a : Object, typeof (_b = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_5__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_5__["Sequelize"]) === "function" ? _b : Object])
], PaymentSystemService);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-bank/dto/payment.provider.bank.get.request.dto.ts":
/*!*******************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-bank/dto/payment.provider.bank.get.request.dto.ts ***!
  \*******************************************************************************************************************/
/*! exports provided: PaymentProviderBankGetRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderBankGetRequestDto", function() { return PaymentProviderBankGetRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);




class PaymentProviderBankGetRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderBankGetRequestDto.prototype, "paymentProviderId", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-bank/dto/payment.provider.bank.update.request.dto.ts":
/*!**********************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-bank/dto/payment.provider.bank.update.request.dto.ts ***!
  \**********************************************************************************************************************/
/*! exports provided: PaymentProviderBankUpdateRequestItem, PaymentProviderBankUpdateRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderBankUpdateRequestItem", function() { return PaymentProviderBankUpdateRequestItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderBankUpdateRequestDto", function() { return PaymentProviderBankUpdateRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);




class PaymentProviderBankUpdateRequestItem {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderBankUpdateRequestItem.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderBankUpdateRequestItem.prototype, "isActive", void 0);
class PaymentProviderBankUpdateRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        type: [PaymentProviderBankUpdateRequestItem],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["ValidateNested"])({ each: true }),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Type"])(() => PaymentProviderBankUpdateRequestItem),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Array)
], PaymentProviderBankUpdateRequestDto.prototype, "paymentProviderBanks", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-bank/dto/payment.provider.bank.update.response.dto.ts":
/*!***********************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-bank/dto/payment.provider.bank.update.response.dto.ts ***!
  \***********************************************************************************************************************/
/*! exports provided: PaymentProviderBankUpdateResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderBankUpdateResponseDto", function() { return PaymentProviderBankUpdateResponseDto; });
class PaymentProviderBankUpdateResponseDto {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-bank/dto/update-payment.provider.bank.dto.ts":
/*!**************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-bank/dto/update-payment.provider.bank.dto.ts ***!
  \**************************************************************************************************************/
/*! exports provided: UpdatePaymentProviderBankDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdatePaymentProviderBankDto", function() { return UpdatePaymentProviderBankDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);



class UpdatePaymentProviderBankDto {
    static updateRequestFactory(item, requestItem) {
        if (requestItem.isActive !== undefined) {
            item.isActive = requestItem.isActive;
        }
        return item;
    }
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], UpdatePaymentProviderBankDto.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], UpdatePaymentProviderBankDto.prototype, "isActive", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.controller.ts":
/*!**********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.controller.ts ***!
  \**********************************************************************************************************/
/*! exports provided: PaymentProviderBankController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderBankController", function() { return PaymentProviderBankController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../auth/jwt-auth.guard */ "./apps/backend/src/app/auth/jwt-auth.guard.ts");
/* harmony import */ var _dto_payment_provider_bank_get_request_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dto/payment.provider.bank.get.request.dto */ "./apps/backend/src/app/payment/providers/payment-provider-bank/dto/payment.provider.bank.get.request.dto.ts");
/* harmony import */ var _dto_payment_provider_bank_update_request_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dto/payment.provider.bank.update.request.dto */ "./apps/backend/src/app/payment/providers/payment-provider-bank/dto/payment.provider.bank.update.request.dto.ts");
/* harmony import */ var _payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./payment.provider.bank.service */ "./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.service.ts");
var _a, _b, _c, _d;








let PaymentProviderBankController = class PaymentProviderBankController {
    constructor(paymentProviderBankService) {
        this.paymentProviderBankService = paymentProviderBankService;
    }
    gets(query) {
        return this.paymentProviderBankService.findAllByQuery(query);
    }
    update(updateRequestDto) {
        return this.paymentProviderBankService.updateByRequest(updateRequestDto);
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Get"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].getPaymentProviderBanks),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Query"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _dto_payment_provider_bank_get_request_dto__WEBPACK_IMPORTED_MODULE_5__["PaymentProviderBankGetRequestDto"] !== "undefined" && _dto_payment_provider_bank_get_request_dto__WEBPACK_IMPORTED_MODULE_5__["PaymentProviderBankGetRequestDto"]) === "function" ? _a : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", void 0)
], PaymentProviderBankController.prototype, "gets", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].updatePaymentProviderBanks),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_b = typeof _dto_payment_provider_bank_update_request_dto__WEBPACK_IMPORTED_MODULE_6__["PaymentProviderBankUpdateRequestDto"] !== "undefined" && _dto_payment_provider_bank_update_request_dto__WEBPACK_IMPORTED_MODULE_6__["PaymentProviderBankUpdateRequestDto"]) === "function" ? _b : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_c = typeof Promise !== "undefined" && Promise) === "function" ? _c : Object)
], PaymentProviderBankController.prototype, "update", null);
PaymentProviderBankController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].paymentProviderBank),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].paymentEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_d = typeof _payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_7__["PaymentProviderBankService"] !== "undefined" && _payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_7__["PaymentProviderBankService"]) === "function" ? _d : Object])
], PaymentProviderBankController);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.module.ts":
/*!******************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.module.ts ***!
  \******************************************************************************************************/
/*! exports provided: PaymentProviderBankModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderBankModule", function() { return PaymentProviderBankModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_bank_entity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/bank.entity */ "./apps/backend/src/app/models/bank.entity.ts");
/* harmony import */ var _models_payment_provider_bank_entity__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../models/payment.provider.bank.entity */ "./apps/backend/src/app/models/payment.provider.bank.entity.ts");
/* harmony import */ var _payment_provider_bank_controller__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./payment.provider.bank.controller */ "./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.controller.ts");
/* harmony import */ var _payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./payment.provider.bank.service */ "./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.service.ts");







let PaymentProviderBankModule = class PaymentProviderBankModule {
};
PaymentProviderBankModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["SequelizeModule"].forFeature([_models_payment_provider_bank_entity__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderBankModel"], _models_bank_entity__WEBPACK_IMPORTED_MODULE_3__["BankModel"]])],
        providers: [_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_6__["PaymentProviderBankService"], _models_payment_provider_bank_entity__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderBankModel"]],
        controllers: [_payment_provider_bank_controller__WEBPACK_IMPORTED_MODULE_5__["PaymentProviderBankController"]],
        exports: [_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_6__["PaymentProviderBankService"]],
    })
], PaymentProviderBankModule);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.service.ts":
/*!*******************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.service.ts ***!
  \*******************************************************************************************************/
/*! exports provided: PaymentProviderBankService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderBankService", function() { return PaymentProviderBankService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sequelize */ "sequelize");
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(sequelize__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _dto_withdrawable_banks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../dto/withdrawable.banks */ "./apps/backend/src/app/payment/dto/withdrawable.banks.ts");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../payment-provider-channel/payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");
/* harmony import */ var _models_bank_entity__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../models/bank.entity */ "./apps/backend/src/app/models/bank.entity.ts");
/* harmony import */ var _models_payment_provider_bank_entity__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../models/payment.provider.bank.entity */ "./apps/backend/src/app/models/payment.provider.bank.entity.ts");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../models/payment.provider.entity.model */ "./apps/backend/src/app/models/payment.provider.entity.model.ts");
/* harmony import */ var _dto_payment_provider_bank_update_response_dto__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./dto/payment.provider.bank.update.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider-bank/dto/payment.provider.bank.update.response.dto.ts");
/* harmony import */ var _dto_update_payment_provider_bank_dto__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./dto/update-payment.provider.bank.dto */ "./apps/backend/src/app/payment/providers/payment-provider-bank/dto/update-payment.provider.bank.dto.ts");
var _a, _b;














let PaymentProviderBankService = class PaymentProviderBankService {
    constructor(pyamentProviderBankRepository, bankRepository, sequelize, configService) {
        this.pyamentProviderBankRepository = pyamentProviderBankRepository;
        this.bankRepository = bankRepository;
        this.sequelize = sequelize;
        this.configService = configService;
    }
    get(paymentProviderId, bankId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return yield this.pyamentProviderBankRepository.findOne({
                where: {
                    bankId,
                    paymentProviderId,
                },
            });
        });
    }
    update(paymentProviderChannel, options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return yield paymentProviderChannel.save(options);
        });
    }
    updateByRequest(updateRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = new _dto_payment_provider_bank_update_response_dto__WEBPACK_IMPORTED_MODULE_12__["PaymentProviderBankUpdateResponseDto"]();
            for (let i = 0; i < updateRequest.paymentProviderBanks.length; i++) {
                const requestItem = updateRequest.paymentProviderBanks[i];
                const paymentProviderChannel = yield this.pyamentProviderBankRepository.findByPk(requestItem.id);
                if (!paymentProviderChannel) {
                    continue;
                }
                const paymentProviderChannelUpdated = _dto_update_payment_provider_bank_dto__WEBPACK_IMPORTED_MODULE_13__["UpdatePaymentProviderBankDto"].updateRequestFactory(paymentProviderChannel, requestItem);
                yield paymentProviderChannelUpdated.save();
            }
            response.result = true;
            return response;
        });
    }
    findAll(options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return yield this.pyamentProviderBankRepository.findAll(options);
        });
    }
    findAllByQuery(query) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const findOptions = {
                include: [
                    { model: _models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_11__["PaymentProviderEntityModel"], as: 'paymentProvider' },
                    { model: _models_bank_entity__WEBPACK_IMPORTED_MODULE_8__["BankModel"], as: 'bank' },
                ],
                order: [
                    ['paymentProviderId', 'asc'],
                    ['bankId', 'asc'],
                ],
            }, where = {};
            if (query.paymentProviderId !== undefined) {
                where['paymentProviderId'] = query.paymentProviderId;
            }
            findOptions.where = where;
            return this.pyamentProviderBankRepository.findAll(findOptions);
        });
    }
    getWithdrawableBanks(frozenRestrict) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const withdrawableBanks = [];
            let sqlFrozenFlexible = ``;
            // if (!frozenRestrict) {
            //   const frozenPeriod = this.configService.get<number>('FROZEN_PERIOD');
            //   const frozenPeriodBegin = moment()
            //     .subtract(frozenPeriod, 'minutes')
            //     .format();
            //   const frozenPeriodEnd = moment().add(frozenPeriod, 'minutes').format();
            //   sqlFrozenFlexible = `and ( not ppc."isFrozen" or ppc."frozenCheckedDate" between '${frozenPeriodBegin}' and '${frozenPeriodEnd}')`;
            // } else {
            //   sqlFrozenFlexible = `and not ppc."isFrozen"`;
            // }
            const sqlIsAvailable = `pp."isWithdrawalSupport" and ppc."isActive" and ppc."isAvailable" ${sqlFrozenFlexible}`;
            const sql = `
        select
            b.id as "bankId",
            b."bankCode" ,
            b."bankName" ,
            bool_or(${sqlIsAvailable}) "isAvailable" ,
            min(case when (${sqlIsAvailable}) then ppc."providerMinAmount" end)  "minAmount",
            min(case when (${sqlIsAvailable}) then ppc."providerMaxAmount" end)  "maxAmount"
          from bank b 
          left join "paymentProviderBank" ppb on b.id = ppb."bankId" 
          left join "paymentProviders" pp on ppb."paymentProviderId" = pp.id 
          left join "paymentProviderChannel" ppc on pp.id  = ppc."paymentProviderId"
          left join channel c on ppc."channelId"  = c.id 
          where c."depositOrWithdrawable" = ${_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_7__["DepositOrWithdrawalEnum"].WITHDRAWAL}
          group by b.id 
          order by b.id `;
            const bankItmes = yield this.sequelize.query(sql, {
                type: sequelize__WEBPACK_IMPORTED_MODULE_3__["QueryTypes"].SELECT,
            });
            for (let i = 0; i < bankItmes.length; i++) {
                const bankItem = bankItmes[i];
                const withdrawableBank = new _dto_withdrawable_banks__WEBPACK_IMPORTED_MODULE_5__["WithdrawableBank"]();
                withdrawableBank.bankId = bankItem.bankId;
                withdrawableBank.minAmount = numeral__WEBPACK_IMPORTED_MODULE_6__(bankItem.minAmount).value();
                withdrawableBank.maxAmount = numeral__WEBPACK_IMPORTED_MODULE_6__(bankItem.maxAmount).value();
                withdrawableBank.isAvailable = bankItem.isAvailable;
                withdrawableBank.bankCode = bankItem.bankCode;
                withdrawableBank.bankName = bankItem.bankName;
                withdrawableBanks.push(withdrawableBank);
            }
            return withdrawableBanks;
        });
    }
};
PaymentProviderBankService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_payment_provider_bank_entity__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderBankModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_bank_entity__WEBPACK_IMPORTED_MODULE_8__["BankModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [Object, Object, typeof (_a = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_4__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_4__["Sequelize"]) === "function" ? _a : Object, typeof (_b = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_10__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_10__["ConfigService"]) === "function" ? _b : Object])
], PaymentProviderBankService);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-card/dto/create-payment.provider.card.dto.ts":
/*!**************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-card/dto/create-payment.provider.card.dto.ts ***!
  \**************************************************************************************************************/
/*! exports provided: CreatePaymentProviderCardDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreatePaymentProviderCardDto", function() { return CreatePaymentProviderCardDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);



class CreatePaymentProviderCardDto {
    static createRequestFactory(requestItem) {
        const item = new CreatePaymentProviderCardDto();
        item.paymentProviderId = requestItem.paymentProviderId;
        item.bankId = requestItem.bankId;
        item.bankAccountName = requestItem.bankAccountName;
        item.bankAccountNumber = requestItem.bankAccountNumber;
        if (requestItem.branch) {
            item.branch = requestItem.branch;
        }
        item.province = requestItem.province;
        item.city = requestItem.city;
        if (requestItem.active) {
            item.active = requestItem.active;
        }
        if (requestItem.maxDailyAmount) {
            item.maxDailyAmount = requestItem.maxDailyAmount;
        }
        item.minAmount = requestItem.minAmount;
        item.maxAmount = requestItem.maxAmount;
        return item;
    }
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], CreatePaymentProviderCardDto.prototype, "paymentProviderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], CreatePaymentProviderCardDto.prototype, "bankId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreatePaymentProviderCardDto.prototype, "bankAccountName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumberString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreatePaymentProviderCardDto.prototype, "bankAccountNumber", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreatePaymentProviderCardDto.prototype, "province", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreatePaymentProviderCardDto.prototype, "city", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreatePaymentProviderCardDto.prototype, "branch", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], CreatePaymentProviderCardDto.prototype, "maxDailyAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], CreatePaymentProviderCardDto.prototype, "minAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], CreatePaymentProviderCardDto.prototype, "maxAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], CreatePaymentProviderCardDto.prototype, "active", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-card/dto/payment.provider.card.create.request.dto.ts":
/*!**********************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-card/dto/payment.provider.card.create.request.dto.ts ***!
  \**********************************************************************************************************************/
/*! exports provided: PaymentProviderCardCreateRequestItem, PaymentProviderCardCreateRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderCardCreateRequestItem", function() { return PaymentProviderCardCreateRequestItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderCardCreateRequestDto", function() { return PaymentProviderCardCreateRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);




class PaymentProviderCardCreateRequestItem {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderCardCreateRequestItem.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderCardCreateRequestItem.prototype, "paymentProviderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderCardCreateRequestItem.prototype, "bankId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderCardCreateRequestItem.prototype, "bankAccountName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumberString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderCardCreateRequestItem.prototype, "bankAccountNumber", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderCardCreateRequestItem.prototype, "province", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderCardCreateRequestItem.prototype, "city", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderCardCreateRequestItem.prototype, "branch", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderCardCreateRequestItem.prototype, "maxDailyAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderCardCreateRequestItem.prototype, "minAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderCardCreateRequestItem.prototype, "maxAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderCardCreateRequestItem.prototype, "active", void 0);
class PaymentProviderCardCreateRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        type: [PaymentProviderCardCreateRequestItem],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["ValidateNested"])({ each: true }),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Type"])(() => PaymentProviderCardCreateRequestItem),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Array)
], PaymentProviderCardCreateRequestDto.prototype, "paymentProviderCards", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-card/dto/payment.provider.card.delete.request.dto.ts":
/*!**********************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-card/dto/payment.provider.card.delete.request.dto.ts ***!
  \**********************************************************************************************************************/
/*! exports provided: PaymentProviderCardItemDto, PaymentProviderCardDeleteRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderCardItemDto", function() { return PaymentProviderCardItemDto; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderCardDeleteRequestDto", function() { return PaymentProviderCardDeleteRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);




class PaymentProviderCardItemDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderCardItemDto.prototype, "id", void 0);
class PaymentProviderCardDeleteRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        type: [PaymentProviderCardItemDto],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["ValidateNested"])({ each: true }),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Type"])(() => PaymentProviderCardItemDto),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Array)
], PaymentProviderCardDeleteRequestDto.prototype, "cards", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-card/dto/payment.provider.card.delete.response.dto.ts":
/*!***********************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-card/dto/payment.provider.card.delete.response.dto.ts ***!
  \***********************************************************************************************************************/
/*! exports provided: PaymentProviderCardDeleteResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderCardDeleteResponseDto", function() { return PaymentProviderCardDeleteResponseDto; });
class PaymentProviderCardDeleteResponseDto {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-card/dto/payment.provider.card.get.request.dto.ts":
/*!*******************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-card/dto/payment.provider.card.get.request.dto.ts ***!
  \*******************************************************************************************************************/
/*! exports provided: PaymentProviderCardGetRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderCardGetRequestDto", function() { return PaymentProviderCardGetRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);




class PaymentProviderCardGetRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderCardGetRequestDto.prototype, "paymentProviderId", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-card/dto/payment.provider.card.update.request.dto.ts":
/*!**********************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-card/dto/payment.provider.card.update.request.dto.ts ***!
  \**********************************************************************************************************************/
/*! exports provided: PaymentProviderCardUpdateRequestItem, PaymentProviderCardUpdateRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderCardUpdateRequestItem", function() { return PaymentProviderCardUpdateRequestItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderCardUpdateRequestDto", function() { return PaymentProviderCardUpdateRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);




class PaymentProviderCardUpdateRequestItem {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderCardUpdateRequestItem.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderCardUpdateRequestItem.prototype, "paymentProviderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderCardUpdateRequestItem.prototype, "bankId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderCardUpdateRequestItem.prototype, "bankAccountName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumberString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderCardUpdateRequestItem.prototype, "bankAccountNumber", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderCardUpdateRequestItem.prototype, "province", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderCardUpdateRequestItem.prototype, "city", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderCardUpdateRequestItem.prototype, "branch", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsDecimal"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderCardUpdateRequestItem.prototype, "maxDailyAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderCardUpdateRequestItem.prototype, "minAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderCardUpdateRequestItem.prototype, "maxAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderCardUpdateRequestItem.prototype, "active", void 0);
class PaymentProviderCardUpdateRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        type: [PaymentProviderCardUpdateRequestItem],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["ValidateNested"])({ each: true }),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Type"])(() => PaymentProviderCardUpdateRequestItem),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Array)
], PaymentProviderCardUpdateRequestDto.prototype, "paymentProviderCards", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-card/dto/payment.provider.card.update.response.dto.ts":
/*!***********************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-card/dto/payment.provider.card.update.response.dto.ts ***!
  \***********************************************************************************************************************/
/*! exports provided: PaymentProviderCardUpdateResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderCardUpdateResponseDto", function() { return PaymentProviderCardUpdateResponseDto; });
class PaymentProviderCardUpdateResponseDto {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-card/dto/update-payment.provider.card.dto.ts":
/*!**************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-card/dto/update-payment.provider.card.dto.ts ***!
  \**************************************************************************************************************/
/*! exports provided: UpdatePaymentProviderCardDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdatePaymentProviderCardDto", function() { return UpdatePaymentProviderCardDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);



class UpdatePaymentProviderCardDto {
    static updateRequestFactory(item, requestItem) {
        if (requestItem.paymentProviderId !== undefined) {
            item.paymentProviderId = requestItem.paymentProviderId;
        }
        if (requestItem.bankId !== undefined) {
            item.bankId = requestItem.bankId;
        }
        if (requestItem.bankAccountName !== undefined) {
            item.bankAccountName = requestItem.bankAccountName;
        }
        if (requestItem.bankAccountNumber !== undefined) {
            item.bankAccountNumber = requestItem.bankAccountNumber;
        }
        if (requestItem.branch !== undefined) {
            item.branch = requestItem.branch;
        }
        if (requestItem.province !== undefined) {
            item.province = requestItem.province;
        }
        if (requestItem.city !== undefined) {
            item.city = requestItem.city;
        }
        if (requestItem.maxDailyAmount !== undefined) {
            item.maxDailyAmount = requestItem.maxDailyAmount;
        }
        if (requestItem.minAmount !== undefined) {
            item.minAmount = requestItem.minAmount;
        }
        if (requestItem.maxAmount !== undefined) {
            item.maxAmount = requestItem.maxAmount;
        }
        if (requestItem.active !== undefined) {
            item.active = requestItem.active;
        }
        return item;
    }
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], UpdatePaymentProviderCardDto.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], UpdatePaymentProviderCardDto.prototype, "paymentProviderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], UpdatePaymentProviderCardDto.prototype, "bankId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdatePaymentProviderCardDto.prototype, "bankAccountName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumberString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdatePaymentProviderCardDto.prototype, "bankAccountNumber", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdatePaymentProviderCardDto.prototype, "province", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdatePaymentProviderCardDto.prototype, "city", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], UpdatePaymentProviderCardDto.prototype, "branch", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], UpdatePaymentProviderCardDto.prototype, "maxDailyAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsInt"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], UpdatePaymentProviderCardDto.prototype, "noUsed", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], UpdatePaymentProviderCardDto.prototype, "maxAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], UpdatePaymentProviderCardDto.prototype, "active", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.controller.ts":
/*!**********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.controller.ts ***!
  \**********************************************************************************************************/
/*! exports provided: PaymentProviderCardController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderCardController", function() { return PaymentProviderCardController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! moment */ "moment");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../auth/jwt-auth.guard */ "./apps/backend/src/app/auth/jwt-auth.guard.ts");
/* harmony import */ var _dto_payment_provider_card_create_request_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dto/payment.provider.card.create.request.dto */ "./apps/backend/src/app/payment/providers/payment-provider-card/dto/payment.provider.card.create.request.dto.ts");
/* harmony import */ var _dto_payment_provider_card_delete_request_dto__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./dto/payment.provider.card.delete.request.dto */ "./apps/backend/src/app/payment/providers/payment-provider-card/dto/payment.provider.card.delete.request.dto.ts");
/* harmony import */ var _dto_payment_provider_card_get_request_dto__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./dto/payment.provider.card.get.request.dto */ "./apps/backend/src/app/payment/providers/payment-provider-card/dto/payment.provider.card.get.request.dto.ts");
/* harmony import */ var _dto_payment_provider_card_update_request_dto__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./dto/payment.provider.card.update.request.dto */ "./apps/backend/src/app/payment/providers/payment-provider-card/dto/payment.provider.card.update.request.dto.ts");
/* harmony import */ var _payment_provider_card_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./payment.provider.card.service */ "./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.service.ts");
var _a, _b, _c, _d, _e, _f, _g, _h;











let PaymentProviderCardController = class PaymentProviderCardController {
    constructor(paymentProviderCardService) {
        this.paymentProviderCardService = paymentProviderCardService;
    }
    gets(query) {
        //return this.paymentProviderCardService.findAllByQuery(query);
        return this.paymentProviderCardService.findAllWithUsed({
            day: moment__WEBPACK_IMPORTED_MODULE_4__().utcOffset('+08:00').format('MM/DD/YYYY'),
            providerId: query.paymentProviderId,
        });
    }
    create(createRequestDto) {
        return this.paymentProviderCardService.createByRequest(createRequestDto);
    }
    update(updateRequestDto) {
        return this.paymentProviderCardService.updateByRequest(updateRequestDto);
    }
    delete(deleteRequest) {
        return this.paymentProviderCardService.deleteByRequest(deleteRequest);
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Get"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].getPaymentProviderCards),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_5__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Query"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _dto_payment_provider_card_get_request_dto__WEBPACK_IMPORTED_MODULE_8__["PaymentProviderCardGetRequestDto"] !== "undefined" && _dto_payment_provider_card_get_request_dto__WEBPACK_IMPORTED_MODULE_8__["PaymentProviderCardGetRequestDto"]) === "function" ? _a : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", void 0)
], PaymentProviderCardController.prototype, "gets", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].createPaymentProviderCards),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_5__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_b = typeof _dto_payment_provider_card_create_request_dto__WEBPACK_IMPORTED_MODULE_6__["PaymentProviderCardCreateRequestDto"] !== "undefined" && _dto_payment_provider_card_create_request_dto__WEBPACK_IMPORTED_MODULE_6__["PaymentProviderCardCreateRequestDto"]) === "function" ? _b : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_c = typeof Promise !== "undefined" && Promise) === "function" ? _c : Object)
], PaymentProviderCardController.prototype, "create", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].updatePaymentProviderCards),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_5__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_d = typeof _dto_payment_provider_card_update_request_dto__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderCardUpdateRequestDto"] !== "undefined" && _dto_payment_provider_card_update_request_dto__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderCardUpdateRequestDto"]) === "function" ? _d : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_e = typeof Promise !== "undefined" && Promise) === "function" ? _e : Object)
], PaymentProviderCardController.prototype, "update", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].deletePaymentProviderCards),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_5__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_f = typeof _dto_payment_provider_card_delete_request_dto__WEBPACK_IMPORTED_MODULE_7__["PaymentProviderCardDeleteRequestDto"] !== "undefined" && _dto_payment_provider_card_delete_request_dto__WEBPACK_IMPORTED_MODULE_7__["PaymentProviderCardDeleteRequestDto"]) === "function" ? _f : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_g = typeof Promise !== "undefined" && Promise) === "function" ? _g : Object)
], PaymentProviderCardController.prototype, "delete", null);
PaymentProviderCardController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].paymentProviderCard),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].paymentEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_h = typeof _payment_provider_card_service__WEBPACK_IMPORTED_MODULE_10__["PaymentProviderCardService"] !== "undefined" && _payment_provider_card_service__WEBPACK_IMPORTED_MODULE_10__["PaymentProviderCardService"]) === "function" ? _h : Object])
], PaymentProviderCardController);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.module.ts":
/*!******************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.module.ts ***!
  \******************************************************************************************************/
/*! exports provided: PaymentProviderCardModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderCardModule", function() { return PaymentProviderCardModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_bank_entity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/bank.entity */ "./apps/backend/src/app/models/bank.entity.ts");
/* harmony import */ var _models_payment_provider_card_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../models/payment.provider.card.model */ "./apps/backend/src/app/models/payment.provider.card.model.ts");
/* harmony import */ var _payment_provider_shared_payment_provider_shared_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../payment-provider-shared/payment.provider.shared.module */ "./apps/backend/src/app/payment/providers/payment-provider-shared/payment.provider.shared.module.ts");
/* harmony import */ var _payment_provider_card_controller__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./payment.provider.card.controller */ "./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.controller.ts");
/* harmony import */ var _payment_provider_card_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./payment.provider.card.service */ "./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.service.ts");








let PaymentProviderCardModule = class PaymentProviderCardModule {
};
PaymentProviderCardModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [
            _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["SequelizeModule"].forFeature([_models_payment_provider_card_model__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderCardModel"], _models_bank_entity__WEBPACK_IMPORTED_MODULE_3__["BankModel"]]),
            _payment_provider_shared_payment_provider_shared_module__WEBPACK_IMPORTED_MODULE_5__["PaymentProviderSharedModule"],
        ],
        providers: [_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_7__["PaymentProviderCardService"]],
        controllers: [_payment_provider_card_controller__WEBPACK_IMPORTED_MODULE_6__["PaymentProviderCardController"]],
        exports: [_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_7__["PaymentProviderCardService"]],
    })
], PaymentProviderCardModule);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.service.ts":
/*!*******************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.service.ts ***!
  \*******************************************************************************************************/
/*! exports provided: PaymentProviderCardService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderCardService", function() { return PaymentProviderCardService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sequelize */ "sequelize");
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(sequelize__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _models_bank_entity__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../models/bank.entity */ "./apps/backend/src/app/models/bank.entity.ts");
/* harmony import */ var _models_payment_provider_card_model__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../models/payment.provider.card.model */ "./apps/backend/src/app/models/payment.provider.card.model.ts");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../models/payment.provider.entity.model */ "./apps/backend/src/app/models/payment.provider.entity.model.ts");
/* harmony import */ var _dto_payment_provider_card_update_response_dto__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./dto/payment.provider.card.update.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider-card/dto/payment.provider.card.update.response.dto.ts");
/* harmony import */ var _dto_update_payment_provider_card_dto__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./dto/update-payment.provider.card.dto */ "./apps/backend/src/app/payment/providers/payment-provider-card/dto/update-payment.provider.card.dto.ts");
/* harmony import */ var _dto_create_payment_provider_card_dto__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./dto/create-payment.provider.card.dto */ "./apps/backend/src/app/payment/providers/payment-provider-card/dto/create-payment.provider.card.dto.ts");
/* harmony import */ var _dto_payment_provider_card_delete_response_dto__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./dto/payment.provider.card.delete.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider-card/dto/payment.provider.card.delete.response.dto.ts");
/* harmony import */ var _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../payment-provider-shared/payment.provider.shared.service */ "./apps/backend/src/app/payment/providers/payment-provider-shared/payment.provider.shared.service.ts");
var _a, _b, _c;















let PaymentProviderCardService = class PaymentProviderCardService {
    constructor(pyamentProviderCardRepository, bankRepository, sequelize, configService, paymentProviderSharedService) {
        this.pyamentProviderCardRepository = pyamentProviderCardRepository;
        this.bankRepository = bankRepository;
        this.sequelize = sequelize;
        this.configService = configService;
        this.paymentProviderSharedService = paymentProviderSharedService;
    }
    get(paymentProviderId, bankId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return yield this.pyamentProviderCardRepository.findOne({
                where: {
                    bankId,
                    paymentProviderId,
                },
            });
        });
    }
    updateByRequest(updateRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = new _dto_payment_provider_card_update_response_dto__WEBPACK_IMPORTED_MODULE_10__["PaymentProviderCardUpdateResponseDto"]();
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    for (let i = 0; i < updateRequest.paymentProviderCards.length; i++) {
                        const requestItem = updateRequest.paymentProviderCards[i];
                        const paymentProviderChannel = yield this.pyamentProviderCardRepository.findByPk(requestItem.id);
                        if (!paymentProviderChannel) {
                            continue;
                        }
                        const paymentProviderChannelUpdated = _dto_update_payment_provider_card_dto__WEBPACK_IMPORTED_MODULE_11__["UpdatePaymentProviderCardDto"].updateRequestFactory(paymentProviderChannel, requestItem);
                        const paymentProviderCardUpdated = yield paymentProviderChannelUpdated.save({ transaction });
                        yield this.paymentProviderSharedService.uptodateChannelMinMaxAmountForCardProvider(paymentProviderCardUpdated.paymentProviderId, { transaction });
                    }
                }));
            }
            catch (error) {
                response.error = error;
                return response;
            }
            response.result = true;
            return response;
        });
    }
    createByRequest(createRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = new _dto_payment_provider_card_update_response_dto__WEBPACK_IMPORTED_MODULE_10__["PaymentProviderCardUpdateResponseDto"]();
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    for (let i = 0; i < createRequest.paymentProviderCards.length; i++) {
                        const requestItem = createRequest.paymentProviderCards[i];
                        if (requestItem.id) {
                            const paymentProviderCard = yield this.pyamentProviderCardRepository.findByPk(requestItem.id);
                            if (!paymentProviderCard) {
                                continue;
                            }
                            const paymentProviderCardUpdated = _dto_update_payment_provider_card_dto__WEBPACK_IMPORTED_MODULE_11__["UpdatePaymentProviderCardDto"].updateRequestFactory(paymentProviderCard, requestItem);
                            yield paymentProviderCardUpdated.save({ transaction });
                            yield this.paymentProviderSharedService.uptodateChannelMinMaxAmountForCardProvider(paymentProviderCardUpdated.paymentProviderId, { transaction });
                            continue;
                        }
                        const createPaymentProviderCard = _dto_create_payment_provider_card_dto__WEBPACK_IMPORTED_MODULE_12__["CreatePaymentProviderCardDto"].createRequestFactory(requestItem);
                        const paymentProviderCardCreated = yield this.pyamentProviderCardRepository.create(createPaymentProviderCard, { transaction });
                        yield this.paymentProviderSharedService.uptodateChannelMinMaxAmountForCardProvider(createPaymentProviderCard.paymentProviderId, { transaction });
                    }
                }));
            }
            catch (error) {
                response.error = error;
                return response;
            }
            response.result = true;
            return response;
        });
    }
    deleteByRequest(deleteRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = new _dto_payment_provider_card_delete_response_dto__WEBPACK_IMPORTED_MODULE_13__["PaymentProviderCardDeleteResponseDto"]();
            response.result = false;
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    const cardItems = deleteRequest.cards;
                    for (let i = 0; i < cardItems.length; i++) {
                        const cardItem = cardItems[i];
                        const paymentProviderCard = yield this.pyamentProviderCardRepository.findOne({
                            where: {
                                id: cardItem.id,
                            },
                        });
                        if (!paymentProviderCard) {
                            continue;
                        }
                        yield paymentProviderCard.destroy({ transaction });
                        yield this.paymentProviderSharedService.uptodateChannelMinMaxAmountForCardProvider(paymentProviderCard.paymentProviderId, { transaction });
                    }
                }));
            }
            catch (error) {
                response.error = error;
                return response;
            }
            response.result = true;
            return response;
        });
    }
    findAll(options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return yield this.pyamentProviderCardRepository.findAll(options);
        });
    }
    findAllByQuery(query) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const findOptions = {
                include: [
                    { model: _models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderEntityModel"], as: 'paymentProvider' },
                    { model: _models_bank_entity__WEBPACK_IMPORTED_MODULE_6__["BankModel"], as: 'bank' },
                ],
                order: [
                    ['paymentProviderId', 'asc'],
                    ['bankId', 'asc'],
                    ['bankAccountName', 'asc'],
                ],
            }, where = {};
            if (query.paymentProviderId !== undefined) {
                where['paymentProviderId'] = query.paymentProviderId;
            }
            findOptions.where = where;
            return this.pyamentProviderCardRepository.findAll(findOptions);
        });
    }
    findAllWithUsed(options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const whereProvider = options.providerId
                ? `ppc."paymentProviderId" = ${options.providerId}`
                : 'true';
            const sql = `select 
      ppc.*, coalesce(sum(d.amount),0) "usedDay",
      pp."providerName", pp."isDepositSupport", pp."isWithdrawalSupport", pp."isOnlyCardSupport",
      bk."bankCode", bk."bankName"
    from "paymentProviderCard" ppc 
    left join "paymentProviders" pp on ppc."paymentProviderId" = pp."id"
    left join "bank" bk on ppc."bankId" = bk."id"
    left join deposit d on 
      ppc.id  = d."paymentProviderCardId"  and 
      d."date" >= to_date('${options.day}', 'MM/DD/YYYY' )  and d."date"  < (to_date('${options.day}', 'MM/DD/YYYY' ) + interval '1 day')
    where ${whereProvider}
    group by ppc.id, pp.id, bk.id `;
            const items = yield this.sequelize.query(sql, {
                type: sequelize__WEBPACK_IMPORTED_MODULE_3__["QueryTypes"].SELECT,
            });
            const providerCards = [];
            items.forEach((item) => providerCards.push({
                id: item['id'],
                bankAccountName: item['bankAccountName'],
                bankAccountNumber: item['bankAccountNumber'],
                province: item['province'],
                city: item['city'],
                branch: item['branch'],
                minAmount: numeral__WEBPACK_IMPORTED_MODULE_5__(item['minAmount']).value(),
                maxAmount: numeral__WEBPACK_IMPORTED_MODULE_5__(item['maxAmount']).value(),
                maxDailyAmount: numeral__WEBPACK_IMPORTED_MODULE_5__(item['maxDailyAmount']).value(),
                usedDay: numeral__WEBPACK_IMPORTED_MODULE_5__(item['usedDay']).value(),
                active: item['active'],
                paymentProvider: {
                    id: item['paymentProviderId'],
                    providerName: item['providerName'],
                    isDepositSupport: item['isDepositSupport'],
                    isWithdrawalSupport: item['isWithdrawalSupport'],
                    isOnlyCardSupport: item['isOnlyCardSupport'],
                },
                bank: {
                    id: item['bankId'],
                    bankCode: item['bankCode'],
                    bankName: item['bankName'],
                },
            }));
            return providerCards;
        });
    }
    findActiveByDateAndAmount(options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const sql = `select 
      ppc.id
    from "paymentProviderCard" ppc 
    left join deposit d on 
      ppc.id  = d."paymentProviderCardId"  and 
      d."date" >= to_date('${options.day}', 'MM/DD/YYYY' )  and d."date"  < (to_date('${options.day}', 'MM/DD/YYYY' ) + interval '1 day')
    where ppc."paymentProviderId" = ${options.providerId} and ppc.active and ppc."minAmount" <= ${options.amount}
    group by ppc.id  having 
      case 
        when ppc."maxDailyAmount" is null then ppc."maxAmount" 
        else least (ppc."maxAmount", ppc."maxDailyAmount"-coalesce(sum(d.amount),0) ) 
      end >= ${options.amount}`;
            const items = yield this.sequelize.query(sql, {
                type: sequelize__WEBPACK_IMPORTED_MODULE_3__["QueryTypes"].SELECT,
            });
            const ids = [];
            items.forEach((item) => ids.push(item['id']));
            return this.pyamentProviderCardRepository.findAll({
                include: [{ model: _models_bank_entity__WEBPACK_IMPORTED_MODULE_6__["BankModel"], as: 'bank' }],
                where: { id: { [sequelize__WEBPACK_IMPORTED_MODULE_3__["Op"].in]: ids } },
            });
        });
    }
};
PaymentProviderCardService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_payment_provider_card_model__WEBPACK_IMPORTED_MODULE_7__["PaymentProviderCardModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_bank_entity__WEBPACK_IMPORTED_MODULE_6__["BankModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [Object, Object, typeof (_a = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_4__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_4__["Sequelize"]) === "function" ? _a : Object, typeof (_b = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_8__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_8__["ConfigService"]) === "function" ? _b : Object, typeof (_c = typeof _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_14__["PaymentProviderSharedService"] !== "undefined" && _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_14__["PaymentProviderSharedService"]) === "function" ? _c : Object])
], PaymentProviderCardService);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-channel/dto/payment.provider.channel.get.request.dto.ts":
/*!*************************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-channel/dto/payment.provider.channel.get.request.dto.ts ***!
  \*************************************************************************************************************************/
/*! exports provided: PaymentProviderChannelGetRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderChannelGetRequestDto", function() { return PaymentProviderChannelGetRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);




class PaymentProviderChannelGetRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderChannelGetRequestDto.prototype, "paymentProviderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsIn"])([1, 2]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderChannelGetRequestDto.prototype, "depositOrWithdrawable", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-channel/dto/payment.provider.channel.update.request.dto.ts":
/*!****************************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-channel/dto/payment.provider.channel.update.request.dto.ts ***!
  \****************************************************************************************************************************/
/*! exports provided: PaymentProviderChannelUpdateRequestItem, PaymentProviderChannelUpdateRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderChannelUpdateRequestItem", function() { return PaymentProviderChannelUpdateRequestItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderChannelUpdateRequestDto", function() { return PaymentProviderChannelUpdateRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);





class PaymentProviderChannelUpdateRequestItem {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderChannelUpdateRequestItem.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderChannelUpdateRequestItem.prototype, "isActive", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderChannelUpdateRequestItem.prototype, "providerMinAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderChannelUpdateRequestItem.prototype, "providerMaxAmount", void 0);
class PaymentProviderChannelUpdateRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        type: [PaymentProviderChannelUpdateRequestItem],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["ValidateNested"])({ each: true }),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Type"])(() => PaymentProviderChannelUpdateRequestItem),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Array)
], PaymentProviderChannelUpdateRequestDto.prototype, "paymentProviderChannels", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-channel/dto/payment.provider.channel.update.response.dto.ts":
/*!*****************************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-channel/dto/payment.provider.channel.update.response.dto.ts ***!
  \*****************************************************************************************************************************/
/*! exports provided: PaymentProviderChannelUpdateResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderChannelUpdateResponseDto", function() { return PaymentProviderChannelUpdateResponseDto; });
class PaymentProviderChannelUpdateResponseDto {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-channel/dto/update-payment.provider.channel.dto.ts":
/*!********************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-channel/dto/update-payment.provider.channel.dto.ts ***!
  \********************************************************************************************************************/
/*! exports provided: UpdatePaymentProviderChannelDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdatePaymentProviderChannelDto", function() { return UpdatePaymentProviderChannelDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);



class UpdatePaymentProviderChannelDto {
    static updateRequestFactory(item, requestItem) {
        if (requestItem.isActive !== undefined) {
            item.isActive = requestItem.isActive;
        }
        if (requestItem.providerMinAmount !== undefined) {
            item.providerMinAmount = requestItem.providerMinAmount;
        }
        if (requestItem.providerMaxAmount !== undefined) {
            item.providerMaxAmount = requestItem.providerMaxAmount;
        }
        return item;
    }
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], UpdatePaymentProviderChannelDto.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], UpdatePaymentProviderChannelDto.prototype, "isActive", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.controller.ts":
/*!****************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.controller.ts ***!
  \****************************************************************************************************************/
/*! exports provided: PaymentProviderChannelController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderChannelController", function() { return PaymentProviderChannelController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../auth/jwt-auth.guard */ "./apps/backend/src/app/auth/jwt-auth.guard.ts");
/* harmony import */ var _dto_payment_provider_channel_get_request_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dto/payment.provider.channel.get.request.dto */ "./apps/backend/src/app/payment/providers/payment-provider-channel/dto/payment.provider.channel.get.request.dto.ts");
/* harmony import */ var _dto_payment_provider_channel_update_request_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dto/payment.provider.channel.update.request.dto */ "./apps/backend/src/app/payment/providers/payment-provider-channel/dto/payment.provider.channel.update.request.dto.ts");
/* harmony import */ var _payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");
var _a, _b, _c, _d;








let PaymentProviderChannelController = class PaymentProviderChannelController {
    constructor(paymentProviderChannelService) {
        this.paymentProviderChannelService = paymentProviderChannelService;
    }
    gets(query) {
        return this.paymentProviderChannelService.findAllByQuery(query);
    }
    update(updateRequestDto) {
        return this.paymentProviderChannelService.updateByRequest(updateRequestDto);
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Get"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].getPaymentProviderChannels),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Query"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _dto_payment_provider_channel_get_request_dto__WEBPACK_IMPORTED_MODULE_5__["PaymentProviderChannelGetRequestDto"] !== "undefined" && _dto_payment_provider_channel_get_request_dto__WEBPACK_IMPORTED_MODULE_5__["PaymentProviderChannelGetRequestDto"]) === "function" ? _a : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", void 0)
], PaymentProviderChannelController.prototype, "gets", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].updatePaymentProviderChannels),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_b = typeof _dto_payment_provider_channel_update_request_dto__WEBPACK_IMPORTED_MODULE_6__["PaymentProviderChannelUpdateRequestDto"] !== "undefined" && _dto_payment_provider_channel_update_request_dto__WEBPACK_IMPORTED_MODULE_6__["PaymentProviderChannelUpdateRequestDto"]) === "function" ? _b : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_c = typeof Promise !== "undefined" && Promise) === "function" ? _c : Object)
], PaymentProviderChannelController.prototype, "update", null);
PaymentProviderChannelController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].paymentProviderChannel),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].paymentEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_d = typeof _payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_7__["PaymentProviderChannelService"] !== "undefined" && _payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_7__["PaymentProviderChannelService"]) === "function" ? _d : Object])
], PaymentProviderChannelController);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.module.ts":
/*!************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.module.ts ***!
  \************************************************************************************************************/
/*! exports provided: PaymentProviderChannelModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderChannelModule", function() { return PaymentProviderChannelModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_channel_locale_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/channel.locale.model */ "./apps/backend/src/app/models/channel.locale.model.ts");
/* harmony import */ var _models_channel_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../models/channel.model */ "./apps/backend/src/app/models/channel.model.ts");
/* harmony import */ var _models_locale_model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../models/locale.model */ "./apps/backend/src/app/models/locale.model.ts");
/* harmony import */ var _models_payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../models/payment.provider.channel.model */ "./apps/backend/src/app/models/payment.provider.channel.model.ts");
/* harmony import */ var _models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../models/payment.provider.entity.model */ "./apps/backend/src/app/models/payment.provider.entity.model.ts");
/* harmony import */ var _payment_provider_channel_controller__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./payment.provider.channel.controller */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.controller.ts");
/* harmony import */ var _payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");










let PaymentProviderChannelModule = class PaymentProviderChannelModule {
};
PaymentProviderChannelModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [
            _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["SequelizeModule"].forFeature([
                _models_payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_6__["PaymentProviderChannelModel"],
                _models_channel_model__WEBPACK_IMPORTED_MODULE_4__["ChannelModel"],
                _models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_7__["PaymentProviderEntityModel"],
                _models_locale_model__WEBPACK_IMPORTED_MODULE_5__["LocaleModel"],
                _models_channel_locale_model__WEBPACK_IMPORTED_MODULE_3__["ChannelLocaleModel"],
            ]),
        ],
        providers: [_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderChannelService"], _models_payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_6__["PaymentProviderChannelModel"]],
        controllers: [_payment_provider_channel_controller__WEBPACK_IMPORTED_MODULE_8__["PaymentProviderChannelController"]],
        exports: [_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderChannelService"]],
    })
], PaymentProviderChannelModule);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts":
/*!*************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts ***!
  \*************************************************************************************************************/
/*! exports provided: DepositOrWithdrawalEnum, PaymentProviderChannelService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepositOrWithdrawalEnum", function() { return DepositOrWithdrawalEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderChannelService", function() { return PaymentProviderChannelService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sequelize */ "sequelize");
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(sequelize__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _dto_depositable_channel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../dto/depositable.channel */ "./apps/backend/src/app/payment/dto/depositable.channel.ts");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! moment-timezone */ "moment-timezone");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _models_channel_locale_model__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../models/channel.locale.model */ "./apps/backend/src/app/models/channel.locale.model.ts");
/* harmony import */ var _models_channel_model__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../models/channel.model */ "./apps/backend/src/app/models/channel.model.ts");
/* harmony import */ var _models_locale_model__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../models/locale.model */ "./apps/backend/src/app/models/locale.model.ts");
/* harmony import */ var _models_payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../models/payment.provider.channel.model */ "./apps/backend/src/app/models/payment.provider.channel.model.ts");
/* harmony import */ var _models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../models/payment.provider.entity.model */ "./apps/backend/src/app/models/payment.provider.entity.model.ts");
/* harmony import */ var _dto_payment_provider_channel_update_response_dto__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./dto/payment.provider.channel.update.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider-channel/dto/payment.provider.channel.update.response.dto.ts");
/* harmony import */ var _dto_update_payment_provider_channel_dto__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./dto/update-payment.provider.channel.dto */ "./apps/backend/src/app/payment/providers/payment-provider-channel/dto/update-payment.provider.channel.dto.ts");
/* harmony import */ var _models_payment_system_model__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../models/payment.system.model */ "./apps/backend/src/app/models/payment.system.model.ts");
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
var _a, _b;


















var DepositOrWithdrawalEnum;
(function (DepositOrWithdrawalEnum) {
    DepositOrWithdrawalEnum[DepositOrWithdrawalEnum["DEPOSIT"] = 1] = "DEPOSIT";
    DepositOrWithdrawalEnum[DepositOrWithdrawalEnum["WITHDRAWAL"] = 2] = "WITHDRAWAL";
})(DepositOrWithdrawalEnum || (DepositOrWithdrawalEnum = {}));
let PaymentProviderChannelService = class PaymentProviderChannelService {
    constructor(paymentProviderRepository, paymentProviderChannelRepository, channelRepository, localeRepository, channelLocaleRepository, sequelize, configService) {
        this.paymentProviderRepository = paymentProviderRepository;
        this.paymentProviderChannelRepository = paymentProviderChannelRepository;
        this.channelRepository = channelRepository;
        this.localeRepository = localeRepository;
        this.channelLocaleRepository = channelLocaleRepository;
        this.sequelize = sequelize;
        this.configService = configService;
    }
    update(paymentProviderChannel, options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return yield paymentProviderChannel.save(options);
        });
    }
    updateByRequest(updateRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = new _dto_payment_provider_channel_update_response_dto__WEBPACK_IMPORTED_MODULE_14__["PaymentProviderChannelUpdateResponseDto"]();
            for (let i = 0; i < updateRequest.paymentProviderChannels.length; i++) {
                const requestItem = updateRequest.paymentProviderChannels[i];
                const paymentProviderChannel = yield this.paymentProviderChannelRepository.findByPk(requestItem.id);
                if (!paymentProviderChannel || paymentProviderChannel.isMinMaxAuto) {
                    continue;
                }
                const paymentProviderChannelUpdated = _dto_update_payment_provider_channel_dto__WEBPACK_IMPORTED_MODULE_15__["UpdatePaymentProviderChannelDto"].updateRequestFactory(paymentProviderChannel, requestItem);
                yield paymentProviderChannelUpdated.save();
            }
            response.result = true;
            return response;
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////
    // Find All Channels
    /////////////////////////////////////////////////////////////////////////////////////////////
    findAll(options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return yield this.paymentProviderChannelRepository.findAll(options);
        });
    }
    findAllByQuery(query) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const findOptions = {
                include: [
                    { model: _models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_13__["PaymentProviderEntityModel"], as: 'paymentProvider' },
                    {
                        model: _models_channel_model__WEBPACK_IMPORTED_MODULE_10__["ChannelModel"],
                        as: 'channel',
                        include: [
                            { model: _models_payment_system_model__WEBPACK_IMPORTED_MODULE_16__["PaymentSystemModel"], as: 'fromPaymentSystem' },
                            { model: _models_payment_system_model__WEBPACK_IMPORTED_MODULE_16__["PaymentSystemModel"], as: 'toPaymentSystem' },
                        ],
                    },
                ],
                order: [
                    ['paymentProviderId', 'asc'],
                    ['channel', 'depositOrWithdrawable', 'asc'],
                    ['channelId', 'asc'],
                ],
            }, where = {};
            if (query.depositOrWithdrawable !== undefined) {
                where['$channel.depositOrWithdrawable$'] = query.depositOrWithdrawable;
            }
            if (query.paymentProviderId !== undefined) {
                where['paymentProviderId'] = query.paymentProviderId;
            }
            findOptions.where = where;
            return this.paymentProviderChannelRepository.findAll(findOptions);
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////
    // Find One Deposit USDT USDT Channel
    /////////////////////////////////////////////////////////////////////////////////////////////
    findOneDepositUsdtToUsdt(paymentProviderId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.paymentProviderChannelRepository.findOne({
                include: [{ model: _models_channel_model__WEBPACK_IMPORTED_MODULE_10__["ChannelModel"], as: 'channel' }],
                where: {
                    paymentProviderId,
                    '$channel.fromPaymentSystemId$': _workspace_enums__WEBPACK_IMPORTED_MODULE_17__["PaymentSystemEnum"].USDT,
                    '$channel.toPaymentSystemId$': _workspace_enums__WEBPACK_IMPORTED_MODULE_17__["PaymentSystemEnum"].USDT,
                    '$channel.depositOrWithdrawable$': DepositOrWithdrawalEnum.DEPOSIT,
                },
            });
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////
    // Find One Withdraw USDT USDT Channel
    /////////////////////////////////////////////////////////////////////////////////////////////
    findOneWithdrawUsdtToUsdt(paymentProviderId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.paymentProviderChannelRepository.findOne({
                include: [{ model: _models_channel_model__WEBPACK_IMPORTED_MODULE_10__["ChannelModel"], as: 'channel' }],
                where: {
                    paymentProviderId,
                    '$channel.fromPaymentSystemId$': _workspace_enums__WEBPACK_IMPORTED_MODULE_17__["PaymentSystemEnum"].USDT,
                    '$channel.toPaymentSystemId$': _workspace_enums__WEBPACK_IMPORTED_MODULE_17__["PaymentSystemEnum"].USDT,
                    '$channel.depositOrWithdrawable$': DepositOrWithdrawalEnum.WITHDRAWAL,
                },
            });
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////
    // Get Channel By Provider Channel Name
    /////////////////////////////////////////////////////////////////////////////////////////////
    getChannelIdByProviderChannelName(paymentProviderId, providerChannelName) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const paymentProviderChannel = yield this.paymentProviderChannelRepository.findOne({
                where: {
                    paymentProviderId,
                    providerChannelName,
                },
            });
            if (!paymentProviderChannel) {
                return null;
            }
            return paymentProviderChannel.channelId;
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////
    // Get Depositable Channels
    /////////////////////////////////////////////////////////////////////////////////////////////
    getDepositables() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const depositableChannels = [];
            const sql = `
      select 
          c.id "channelId",
          c."channelName",
          bool_or (case when (pp."isDepositSupport" and ppc."isAvailable") then true else false end) "isAvailable",
          min(case when (pp."isDepositSupport" and ppc."isAvailable") then ppc."providerMinAmount" end) "minAmount" ,
          max(case when (pp."isDepositSupport" and ppc."isAvailable") then ppc."providerMaxAmount" end) "maxAmount" 
        from channel c 
        left join "paymentProviderChannel" ppc on c.id  = ppc."channelId" 
        left join "paymentProviders" pp on ppc."paymentProviderId"  = pp.id 
        where ppc."depositOrWithdrawal"  = ${DepositOrWithdrawalEnum.DEPOSIT}
        group by c.id  
    `;
            const channels = yield this.sequelize.query(sql, {
                type: sequelize__WEBPACK_IMPORTED_MODULE_3__["QueryTypes"].SELECT,
            });
            for (let i = 0; i < channels.length; i++) {
                const channel = channels[i];
                const depositableChannel = new _dto_depositable_channel__WEBPACK_IMPORTED_MODULE_5__["DepositableChannel"]();
                depositableChannel.channelId = channel.channelId;
                depositableChannel.isAvailable = channel.isAvailable;
                depositableChannel.channelName = channel.channelName;
                depositableChannel.minAmount = numeral__WEBPACK_IMPORTED_MODULE_6__(channel.minAmount).value();
                depositableChannel.maxAmount = numeral__WEBPACK_IMPORTED_MODULE_6__(channel.maxAmount).value();
                const channelLocales = yield this.channelLocaleRepository.findAll({
                    where: {
                        channelId: depositableChannel.channelId,
                    },
                    include: ['locale'],
                });
                const locales = {};
                channelLocales.forEach((channelLocale) => {
                    locales[channelLocale.locale.localeName] = channelLocale.label;
                });
                depositableChannel.locales = locales;
                depositableChannels.push(depositableChannel);
            }
            return depositableChannels;
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////
    // GetDepositablesByPaymentSystem
    /////////////////////////////////////////////////////////////////////////////////////////////
    getDepositablesByPaymentSystem(paymentSystemId, paymentProviderId, amount) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const frozenPeriod = this.configService.get('FROZEN_PERIOD');
            const paymentProviderChannels = yield this.paymentProviderChannelRepository.findAll({
                include: [{ model: _models_channel_model__WEBPACK_IMPORTED_MODULE_10__["ChannelModel"], as: 'channel' }],
                where: {
                    isAvailable: true,
                    isActive: true,
                    [sequelize__WEBPACK_IMPORTED_MODULE_3__["Op"].or]: [
                        { isFrozen: false },
                        {
                            frozenCheckedDate: {
                                [sequelize__WEBPACK_IMPORTED_MODULE_3__["Op"].notBetween]: [
                                    moment_timezone__WEBPACK_IMPORTED_MODULE_7__().subtract(frozenPeriod, 'minutes').format(),
                                    moment_timezone__WEBPACK_IMPORTED_MODULE_7__().add(frozenPeriod, 'minutes').format(),
                                ],
                            },
                        },
                    ],
                    '$channel.depositOrWithdrawable$': DepositOrWithdrawalEnum.DEPOSIT,
                    '$channel.fromPaymentSystemId$': paymentSystemId,
                    paymentProviderId: paymentProviderId,
                    providerMinAmount: {
                        [sequelize__WEBPACK_IMPORTED_MODULE_3__["Op"].lte]: amount,
                    },
                    providerMaxAmount: {
                        [sequelize__WEBPACK_IMPORTED_MODULE_3__["Op"].gte]: amount,
                    },
                },
                order: [['isFrozen', 'DESC']],
            });
            return paymentProviderChannels;
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////
    // Get Depositable Entities By Channel
    /////////////////////////////////////////////////////////////////////////////////////////////
    getDeposits(channelId, paymentProviderId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const findOptions = {
                include: [{ model: _models_channel_model__WEBPACK_IMPORTED_MODULE_10__["ChannelModel"], as: 'channel' }],
                where: {
                    '$channel.depositOrWithdrawable$': DepositOrWithdrawalEnum.DEPOSIT,
                },
            };
            if (channelId) {
                findOptions.where['channelId'] = channelId;
            }
            if (paymentProviderId) {
                findOptions.where['paymentProviderId'] = paymentProviderId;
            }
            return this.paymentProviderChannelRepository.findAll(findOptions);
        });
    }
    /////////////////////////////////////////////////////////////////////////////////////////////
    // GetWithdrawables
    /////////////////////////////////////////////////////////////////////////////////////////////
    getWithdrawablesByPaymentProvider(paymentProviderId, amount) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const frozenPeriod = this.configService.get('FROZEN_PERIOD');
            const findOptions = {
                include: [{ model: _models_channel_model__WEBPACK_IMPORTED_MODULE_10__["ChannelModel"], as: 'channel' }],
                where: {
                    isAvailable: true,
                    isActive: true,
                    [sequelize__WEBPACK_IMPORTED_MODULE_3__["Op"].or]: [
                        { isFrozen: false },
                        {
                            frozenCheckedDate: {
                                [sequelize__WEBPACK_IMPORTED_MODULE_3__["Op"].notBetween]: [
                                    moment_timezone__WEBPACK_IMPORTED_MODULE_7__().subtract(frozenPeriod, 'minutes').format(),
                                    moment_timezone__WEBPACK_IMPORTED_MODULE_7__().add(frozenPeriod, 'minutes').format(),
                                ],
                            },
                        },
                    ],
                    '$channel.depositOrWithdrawable$': DepositOrWithdrawalEnum.WITHDRAWAL,
                    paymentProviderId: paymentProviderId,
                },
                order: [
                    ['isFrozen', 'DESC'],
                    ['paymentProviderId', 'ASC'],
                ],
            };
            if (amount) {
                findOptions.where['providerMinAmount'] = {
                    [sequelize__WEBPACK_IMPORTED_MODULE_3__["Op"].lte]: amount +
                        (this.configService.get('withdrawMinAmountDelta') || 0),
                };
                findOptions.where['providerMaxAmount'] = {
                    [sequelize__WEBPACK_IMPORTED_MODULE_3__["Op"].gte]: amount,
                };
            }
            const paymentProviderChannels = yield this.paymentProviderChannelRepository.findAll(findOptions);
            return paymentProviderChannels;
        });
    }
    findAvailableChannel(channelId, paymentProviderId, amount, depositOrWithdrawal = 1) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.paymentProviderChannelRepository.findOne({
                include: [{ model: _models_channel_model__WEBPACK_IMPORTED_MODULE_10__["ChannelModel"], as: 'channel' }],
                where: {
                    '$channel.depositOrWithdrawable$': depositOrWithdrawal,
                    channelId: channelId,
                    paymentProviderId: paymentProviderId,
                    providerMinAmount: {
                        [sequelize__WEBPACK_IMPORTED_MODULE_3__["Op"].lte]: amount,
                    },
                    providerMaxAmount: {
                        [sequelize__WEBPACK_IMPORTED_MODULE_3__["Op"].gte]: amount,
                    },
                    isAvailable: true,
                },
            });
        });
    }
};
PaymentProviderChannelService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_13__["PaymentProviderEntityModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_12__["PaymentProviderChannelModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(2, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_channel_model__WEBPACK_IMPORTED_MODULE_10__["ChannelModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(3, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_locale_model__WEBPACK_IMPORTED_MODULE_11__["LocaleModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(4, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_channel_locale_model__WEBPACK_IMPORTED_MODULE_9__["ChannelLocaleModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [Object, Object, Object, Object, Object, typeof (_a = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_4__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_4__["Sequelize"]) === "function" ? _a : Object, typeof (_b = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_8__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_8__["ConfigService"]) === "function" ? _b : Object])
], PaymentProviderChannelService);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-entity/Payment.provider.entity.service.ts":
/*!***********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-entity/Payment.provider.entity.service.ts ***!
  \***********************************************************************************************************/
/*! exports provided: PaymentProviderEntityService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderEntityService", function() { return PaymentProviderEntityService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sequelize */ "sequelize");
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(sequelize__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../models/payment.provider.entity.model */ "./apps/backend/src/app/models/payment.provider.entity.model.ts");
/* harmony import */ var _dto_payment_provider_update_response_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dto/payment.provider.update.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider-entity/dto/payment.provider.update.response.dto.ts");
/* harmony import */ var _dto_update_payment_provider_dto__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./dto/update-payment.provider.dto */ "./apps/backend/src/app/payment/providers/payment-provider-entity/dto/update-payment.provider.dto.ts");
/* harmony import */ var _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../payment-provider-card/payment.provider.card.service */ "./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.service.ts");
/* harmony import */ var _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../payment-provider-channel/payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");
var _a, _b, _c;










let PaymentProviderEntityService = class PaymentProviderEntityService {
    constructor(sequelize, paymentProvidersRepository, paymentProviderCardService, paymentProviderChannelService) {
        this.sequelize = sequelize;
        this.paymentProvidersRepository = paymentProvidersRepository;
        this.paymentProviderCardService = paymentProviderCardService;
        this.paymentProviderChannelService = paymentProviderChannelService;
    }
    findAll(options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return yield this.paymentProvidersRepository.findAll(options);
        });
    }
    findAllByQuery(query) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let sqlWhere = `where true`;
            if (query.isDepositSupport !== undefined) {
                sqlWhere += ` and vpp."isDepositSupport" `;
            }
            if (query.isWithdrawalSupport !== undefined) {
                sqlWhere += ` and vpp."isWithdrawalSupport" `;
            }
            if (query.isOnlyCardSupport !== undefined) {
                sqlWhere += ` and vpp."isOnlyCardSupport"`;
            }
            const sql = `select * from "v_paymentProvider" vpp ${sqlWhere}`;
            const items = yield this.sequelize.query(sql, {
                type: sequelize__WEBPACK_IMPORTED_MODULE_4__["QueryTypes"].SELECT,
            });
            return items;
            // const findOptions: FindOptions = {
            //     order: [['id', 'asc']],
            //   },
            //   where: {} = {};
            // if (query.isDepositSupport !== undefined) {
            //   where['isDepositSupport'] = query.isDepositSupport;
            // }
            // if (query.isWithdrawalSupport !== undefined) {
            //   where['isWithdrawalSupport'] = query.isWithdrawalSupport;
            // }
            // findOptions.where = where;
            // return this.paymentProvidersRepository.findAll(findOptions);
        });
    }
    findById(paymentProviderId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return yield this.paymentProvidersRepository.findByPk(paymentProviderId);
        });
    }
    findByProviderName(providerName) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return yield this.paymentProvidersRepository.findOne({
                where: {
                    providerName: providerName,
                },
            });
        });
    }
    findDepositAvailableProvider(isAvailable = true) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return yield this.paymentProvidersRepository.findAll({
                where: {
                    isDepositSupport: isAvailable,
                },
            });
        });
    }
    findWithdrawalAvailableProvider(isAvailable = true) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return yield this.paymentProvidersRepository.findAll({
                where: {
                    isWithdrawalSupport: isAvailable,
                },
            });
        });
    }
    update(updateRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = new _dto_payment_provider_update_response_dto__WEBPACK_IMPORTED_MODULE_6__["PaymentProviderUpdateResponseDto"]();
            for (let i = 0; i < updateRequest.paymentProviders.length; i++) {
                const requestItem = updateRequest.paymentProviders[i];
                const paymentProvider = yield this.paymentProvidersRepository.findByPk(requestItem.id);
                if (!paymentProvider) {
                    continue;
                }
                const paymentProviderUpdated = _dto_update_payment_provider_dto__WEBPACK_IMPORTED_MODULE_7__["UpdatePaymentProviderDto"].updateRequestFactory(paymentProvider, requestItem);
                yield paymentProviderUpdated.save();
            }
            response.result = true;
            return response;
        });
    }
};
PaymentProviderEntityService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_5__["PaymentProviderEntityModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_3__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_3__["Sequelize"]) === "function" ? _a : Object, Object, typeof (_b = typeof _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_8__["PaymentProviderCardService"] !== "undefined" && _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_8__["PaymentProviderCardService"]) === "function" ? _b : Object, typeof (_c = typeof _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderChannelService"] !== "undefined" && _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderChannelService"]) === "function" ? _c : Object])
], PaymentProviderEntityService);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-entity/dto/payment.provider.get.request.dto.ts":
/*!****************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-entity/dto/payment.provider.get.request.dto.ts ***!
  \****************************************************************************************************************/
/*! exports provided: PaymentProviderGetRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderGetRequestDto", function() { return PaymentProviderGetRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);




class PaymentProviderGetRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Transform"])((params) => /true/i.test(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderGetRequestDto.prototype, "isDepositSupport", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Transform"])((params) => /true/i.test(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderGetRequestDto.prototype, "isWithdrawalSupport", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Transform"])((params) => /true/i.test(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderGetRequestDto.prototype, "isOnlyCardSupport", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-entity/dto/payment.provider.update.request.dto.ts":
/*!*******************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-entity/dto/payment.provider.update.request.dto.ts ***!
  \*******************************************************************************************************************/
/*! exports provided: PaymentProviderUpdateRequestItem, PaymentProviderUpdateRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderUpdateRequestItem", function() { return PaymentProviderUpdateRequestItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderUpdateRequestDto", function() { return PaymentProviderUpdateRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);




class PaymentProviderUpdateRequestItem {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderUpdateRequestItem.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderUpdateRequestItem.prototype, "isDepositSupport", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderUpdateRequestItem.prototype, "isWithdrawalSupport", void 0);
class PaymentProviderUpdateRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        type: [PaymentProviderUpdateRequestItem],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["ValidateNested"])({ each: true }),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Type"])(() => PaymentProviderUpdateRequestItem),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Array)
], PaymentProviderUpdateRequestDto.prototype, "paymentProviders", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-entity/dto/payment.provider.update.response.dto.ts":
/*!********************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-entity/dto/payment.provider.update.response.dto.ts ***!
  \********************************************************************************************************************/
/*! exports provided: PaymentProviderUpdateResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderUpdateResponseDto", function() { return PaymentProviderUpdateResponseDto; });
class PaymentProviderUpdateResponseDto {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-entity/dto/update-payment.provider.dto.ts":
/*!***********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-entity/dto/update-payment.provider.dto.ts ***!
  \***********************************************************************************************************/
/*! exports provided: UpdatePaymentProviderDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdatePaymentProviderDto", function() { return UpdatePaymentProviderDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);



class UpdatePaymentProviderDto {
    static updateRequestFactory(item, requestItem) {
        if (requestItem.isDepositSupport !== undefined) {
            item.isDepositSupport = requestItem.isDepositSupport;
        }
        if (requestItem.isWithdrawalSupport !== undefined) {
            item.isWithdrawalSupport = requestItem.isWithdrawalSupport;
        }
        return item;
    }
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], UpdatePaymentProviderDto.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], UpdatePaymentProviderDto.prototype, "isDepositSupport", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], UpdatePaymentProviderDto.prototype, "isWithdrawalSupport", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-entity/payment.provider.entity.controller.ts":
/*!**************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-entity/payment.provider.entity.controller.ts ***!
  \**************************************************************************************************************/
/*! exports provided: PaymentProviderEntityController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderEntityController", function() { return PaymentProviderEntityController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../auth/jwt-auth.guard */ "./apps/backend/src/app/auth/jwt-auth.guard.ts");
/* harmony import */ var _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../payment-provider-entity/Payment.provider.entity.service */ "./apps/backend/src/app/payment/providers/payment-provider-entity/Payment.provider.entity.service.ts");
/* harmony import */ var _dto_payment_provider_get_request_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dto/payment.provider.get.request.dto */ "./apps/backend/src/app/payment/providers/payment-provider-entity/dto/payment.provider.get.request.dto.ts");
/* harmony import */ var _dto_payment_provider_update_request_dto__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./dto/payment.provider.update.request.dto */ "./apps/backend/src/app/payment/providers/payment-provider-entity/dto/payment.provider.update.request.dto.ts");
var _a, _b, _c, _d;








let PaymentProviderEntityController = class PaymentProviderEntityController {
    constructor(payProviderEntityService) {
        this.payProviderEntityService = payProviderEntityService;
    }
    gets(query) {
        return this.payProviderEntityService.findAllByQuery(query);
    }
    update(updateRequestDto) {
        return this.payProviderEntityService.update(updateRequestDto);
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Get"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].getPaymentProviders),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Query"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _dto_payment_provider_get_request_dto__WEBPACK_IMPORTED_MODULE_6__["PaymentProviderGetRequestDto"] !== "undefined" && _dto_payment_provider_get_request_dto__WEBPACK_IMPORTED_MODULE_6__["PaymentProviderGetRequestDto"]) === "function" ? _a : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", void 0)
], PaymentProviderEntityController.prototype, "gets", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].updatePaymentProviders),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_b = typeof _dto_payment_provider_update_request_dto__WEBPACK_IMPORTED_MODULE_7__["PaymentProviderUpdateRequestDto"] !== "undefined" && _dto_payment_provider_update_request_dto__WEBPACK_IMPORTED_MODULE_7__["PaymentProviderUpdateRequestDto"]) === "function" ? _b : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_c = typeof Promise !== "undefined" && Promise) === "function" ? _c : Object)
], PaymentProviderEntityController.prototype, "update", null);
PaymentProviderEntityController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].paymentProvider),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].paymentEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_d = typeof _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_5__["PaymentProviderEntityService"] !== "undefined" && _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_5__["PaymentProviderEntityService"]) === "function" ? _d : Object])
], PaymentProviderEntityController);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-entity/payment.provider.entity.module.ts":
/*!**********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-entity/payment.provider.entity.module.ts ***!
  \**********************************************************************************************************/
/*! exports provided: PaymentProviderEntityModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderEntityModule", function() { return PaymentProviderEntityModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/payment.provider.entity.model */ "./apps/backend/src/app/models/payment.provider.entity.model.ts");
/* harmony import */ var _payment_provider_card_payment_provider_card_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../payment-provider-card/payment.provider.card.module */ "./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.module.ts");
/* harmony import */ var _payment_provider_channel_payment_provider_channel_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../payment-provider-channel/payment.provider.channel.module */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.module.ts");
/* harmony import */ var _payment_provider_entity_controller__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./payment.provider.entity.controller */ "./apps/backend/src/app/payment/providers/payment-provider-entity/payment.provider.entity.controller.ts");
/* harmony import */ var _Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Payment.provider.entity.service */ "./apps/backend/src/app/payment/providers/payment-provider-entity/Payment.provider.entity.service.ts");








let PaymentProviderEntityModule = class PaymentProviderEntityModule {
};
PaymentProviderEntityModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [
            _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["SequelizeModule"].forFeature([_models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderEntityModel"]]),
            _payment_provider_card_payment_provider_card_module__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderCardModule"],
            _payment_provider_channel_payment_provider_channel_module__WEBPACK_IMPORTED_MODULE_5__["PaymentProviderChannelModule"],
        ],
        providers: [_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_7__["PaymentProviderEntityService"], _models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderEntityModel"]],
        controllers: [_payment_provider_entity_controller__WEBPACK_IMPORTED_MODULE_6__["PaymentProviderEntityController"]],
        exports: [_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_7__["PaymentProviderEntityService"]],
    })
], PaymentProviderEntityModule);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-shared/payment.provider.shared.module.ts":
/*!**********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-shared/payment.provider.shared.module.ts ***!
  \**********************************************************************************************************/
/*! exports provided: PaymentProviderSharedModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderSharedModule", function() { return PaymentProviderSharedModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_payment_provider_card_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/payment.provider.card.model */ "./apps/backend/src/app/models/payment.provider.card.model.ts");
/* harmony import */ var _models_payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../models/payment.provider.channel.model */ "./apps/backend/src/app/models/payment.provider.channel.model.ts");
/* harmony import */ var _payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./payment.provider.shared.service */ "./apps/backend/src/app/payment/providers/payment-provider-shared/payment.provider.shared.service.ts");






let PaymentProviderSharedModule = class PaymentProviderSharedModule {
};
PaymentProviderSharedModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [
            _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["SequelizeModule"].forFeature([
                _models_payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderChannelModel"],
                _models_payment_provider_card_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderCardModel"],
            ]),
        ],
        providers: [_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_5__["PaymentProviderSharedService"]],
        controllers: [],
        exports: [_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_5__["PaymentProviderSharedService"]],
    })
], PaymentProviderSharedModule);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-shared/payment.provider.shared.service.ts":
/*!***********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-shared/payment.provider.shared.service.ts ***!
  \***********************************************************************************************************/
/*! exports provided: PaymentProviderSharedService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderSharedService", function() { return PaymentProviderSharedService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sequelize */ "sequelize");
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(sequelize__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../payment-provider-channel/payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");
/* harmony import */ var _models_channel_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../models/channel.model */ "./apps/backend/src/app/models/channel.model.ts");
/* harmony import */ var _models_payment_system_model__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../models/payment.system.model */ "./apps/backend/src/app/models/payment.system.model.ts");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _models_payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../models/payment.provider.channel.model */ "./apps/backend/src/app/models/payment.provider.channel.model.ts");
/* harmony import */ var _models_payment_provider_card_model__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../models/payment.provider.card.model */ "./apps/backend/src/app/models/payment.provider.card.model.ts");
var _a;











let PaymentProviderSharedService = class PaymentProviderSharedService {
    constructor(sequelize, paymentProviderChannelRepository, pyamentProviderCardRepository) {
        this.sequelize = sequelize;
        this.paymentProviderChannelRepository = paymentProviderChannelRepository;
        this.pyamentProviderCardRepository = pyamentProviderCardRepository;
    }
    /**
     * Get Min, Max Value
     */
    getMinMaxAmountByProvider(paymentProviderId, options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const transaction = options && options.transaction ? options.transaction : null;
            const items = yield this.sequelize.query(`select 
            min(ppc."minAmount") "minAmount" , max(ppc."maxAmount") "maxAmount" 
          from "paymentProviderCard" ppc 
          where ppc."paymentProviderId" = ${paymentProviderId} and ppc.active`, { type: sequelize__WEBPACK_IMPORTED_MODULE_4__["QueryTypes"].SELECT, transaction: transaction });
            const item = items[0];
            return item;
        });
    }
    uptodateChannelMinMaxAmountForCardProvider(paymentProviderId, options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const transaction = options && options.transaction ? options.transaction : null;
            const minMaxAmount = yield this.getMinMaxAmountByProvider(paymentProviderId, transaction ? { transaction } : null);
            const ppcs = yield this.paymentProviderChannelRepository.findAll({
                include: [
                    {
                        model: _models_channel_model__WEBPACK_IMPORTED_MODULE_6__["ChannelModel"],
                        as: 'channel',
                        include: [
                            { model: _models_payment_system_model__WEBPACK_IMPORTED_MODULE_7__["PaymentSystemModel"], as: 'fromPaymentSystem' },
                            { model: _models_payment_system_model__WEBPACK_IMPORTED_MODULE_7__["PaymentSystemModel"], as: 'toPaymentSystem' },
                        ],
                    },
                ],
                where: {
                    paymentProviderId,
                    '$channel.fromPaymentSystem.isBank$': true,
                    '$channel.toPaymentSystem.isBank$': true,
                    '$channel.depositOrWithdrawable$': _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_5__["DepositOrWithdrawalEnum"].DEPOSIT,
                },
            });
            if (!ppcs || ppcs.length < 1) {
                return;
            }
            const paymentProviderChannel = ppcs[0];
            paymentProviderChannel.providerMinAmount =
                numeral__WEBPACK_IMPORTED_MODULE_8__(minMaxAmount.minAmount).value() || null;
            paymentProviderChannel.providerMaxAmount =
                numeral__WEBPACK_IMPORTED_MODULE_8__(minMaxAmount.maxAmount).value() || null;
            yield paymentProviderChannel.save(transaction ? { transaction } : null);
        });
    }
};
PaymentProviderSharedService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_payment_provider_channel_model__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderChannelModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(2, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_payment_provider_card_model__WEBPACK_IMPORTED_MODULE_10__["PaymentProviderCardModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_3__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_3__["Sequelize"]) === "function" ? _a : Object, Object, Object])
], PaymentProviderSharedService);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/dto/payment.provider.usdt.proto.get.request.dto.ts":
/*!**********************************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/dto/payment.provider.usdt.proto.get.request.dto.ts ***!
  \**********************************************************************************************************************************/
/*! exports provided: PaymentProviderUsdtProtoGetRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderUsdtProtoGetRequestDto", function() { return PaymentProviderUsdtProtoGetRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);




class PaymentProviderUsdtProtoGetRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderUsdtProtoGetRequestDto.prototype, "paymentProviderId", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/dto/payment.provider.usdt.proto.update.request.dto.ts":
/*!*************************************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/dto/payment.provider.usdt.proto.update.request.dto.ts ***!
  \*************************************************************************************************************************************/
/*! exports provided: PaymentProviderUsdtProtoUpdateRequestItem, PaymentProviderUsdtProtoUpdateRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderUsdtProtoUpdateRequestItem", function() { return PaymentProviderUsdtProtoUpdateRequestItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderUsdtProtoUpdateRequestDto", function() { return PaymentProviderUsdtProtoUpdateRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);




class PaymentProviderUsdtProtoUpdateRequestItem {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], PaymentProviderUsdtProtoUpdateRequestItem.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], PaymentProviderUsdtProtoUpdateRequestItem.prototype, "isActive", void 0);
class PaymentProviderUsdtProtoUpdateRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        type: [PaymentProviderUsdtProtoUpdateRequestItem],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["ValidateNested"])({ each: true }),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Type"])(() => PaymentProviderUsdtProtoUpdateRequestItem),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Array)
], PaymentProviderUsdtProtoUpdateRequestDto.prototype, "paymentProviderUsdtProtos", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/dto/payment.provider.usdt.proto.update.response.dto.ts":
/*!**************************************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/dto/payment.provider.usdt.proto.update.response.dto.ts ***!
  \**************************************************************************************************************************************/
/*! exports provided: PaymentProviderUsdtProtoUpdateResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderUsdtProtoUpdateResponseDto", function() { return PaymentProviderUsdtProtoUpdateResponseDto; });
class PaymentProviderUsdtProtoUpdateResponseDto {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/dto/update-payment.provider.usdt.proto.dto.ts":
/*!*****************************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/dto/update-payment.provider.usdt.proto.dto.ts ***!
  \*****************************************************************************************************************************/
/*! exports provided: UpdatePaymentProviderUsdtProtoDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdatePaymentProviderUsdtProtoDto", function() { return UpdatePaymentProviderUsdtProtoDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);



class UpdatePaymentProviderUsdtProtoDto {
    static updateRequestFactory(item, requestItem) {
        return item;
    }
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], UpdatePaymentProviderUsdtProtoDto.prototype, "id", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.controller.ts":
/*!*************************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.controller.ts ***!
  \*************************************************************************************************************************/
/*! exports provided: PaymentProviderUsdtProtoController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderUsdtProtoController", function() { return PaymentProviderUsdtProtoController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../auth/jwt-auth.guard */ "./apps/backend/src/app/auth/jwt-auth.guard.ts");
/* harmony import */ var _dto_payment_provider_usdt_proto_get_request_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dto/payment.provider.usdt.proto.get.request.dto */ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/dto/payment.provider.usdt.proto.get.request.dto.ts");
/* harmony import */ var _dto_payment_provider_usdt_proto_update_request_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dto/payment.provider.usdt.proto.update.request.dto */ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/dto/payment.provider.usdt.proto.update.request.dto.ts");
/* harmony import */ var _payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./payment.provider.usdt.proto.service */ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.service.ts");
var _a, _b, _c, _d;








let PaymentProviderUsdtProtoController = class PaymentProviderUsdtProtoController {
    constructor(paymentProviderUsdtProtoService) {
        this.paymentProviderUsdtProtoService = paymentProviderUsdtProtoService;
    }
    gets(query) {
        return this.paymentProviderUsdtProtoService.findAllByQuery(query);
    }
    update(updateRequestDto) {
        return this.paymentProviderUsdtProtoService.updateByRequest(updateRequestDto);
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Get"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].getPaymentProviderUsdtProtos),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Query"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _dto_payment_provider_usdt_proto_get_request_dto__WEBPACK_IMPORTED_MODULE_5__["PaymentProviderUsdtProtoGetRequestDto"] !== "undefined" && _dto_payment_provider_usdt_proto_get_request_dto__WEBPACK_IMPORTED_MODULE_5__["PaymentProviderUsdtProtoGetRequestDto"]) === "function" ? _a : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", void 0)
], PaymentProviderUsdtProtoController.prototype, "gets", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].updatePaymentProviderUsdtProtos),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_4__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_b = typeof _dto_payment_provider_usdt_proto_update_request_dto__WEBPACK_IMPORTED_MODULE_6__["PaymentProviderUsdtProtoUpdateRequestDto"] !== "undefined" && _dto_payment_provider_usdt_proto_update_request_dto__WEBPACK_IMPORTED_MODULE_6__["PaymentProviderUsdtProtoUpdateRequestDto"]) === "function" ? _b : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_c = typeof Promise !== "undefined" && Promise) === "function" ? _c : Object)
], PaymentProviderUsdtProtoController.prototype, "update", null);
PaymentProviderUsdtProtoController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].paymentProviderUsdtProto),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].paymentEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_d = typeof _payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_7__["PaymentProviderUsdtProtoService"] !== "undefined" && _payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_7__["PaymentProviderUsdtProtoService"]) === "function" ? _d : Object])
], PaymentProviderUsdtProtoController);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.module.ts":
/*!*********************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.module.ts ***!
  \*********************************************************************************************************************/
/*! exports provided: PaymentProviderUsdtProtoModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderUsdtProtoModule", function() { return PaymentProviderUsdtProtoModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_payment_provider_usdt_protocol_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/payment.provider.usdt.protocol.model */ "./apps/backend/src/app/models/payment.provider.usdt.protocol.model.ts");
/* harmony import */ var _models_usdtProtocol__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../models/usdtProtocol */ "./apps/backend/src/app/models/usdtProtocol.ts");
/* harmony import */ var _payment_provider_usdt_proto_controller__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./payment.provider.usdt.proto.controller */ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.controller.ts");
/* harmony import */ var _payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./payment.provider.usdt.proto.service */ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.service.ts");







let PaymentProviderUsdtProtoModule = class PaymentProviderUsdtProtoModule {
};
PaymentProviderUsdtProtoModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [
            _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["SequelizeModule"].forFeature([
                _models_payment_provider_usdt_protocol_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderUsdtProtocolModel"],
                _models_usdtProtocol__WEBPACK_IMPORTED_MODULE_4__["UsdtProtocolModel"],
            ]),
        ],
        providers: [
            _payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_6__["PaymentProviderUsdtProtoService"],
            _models_payment_provider_usdt_protocol_model__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderUsdtProtocolModel"],
        ],
        controllers: [_payment_provider_usdt_proto_controller__WEBPACK_IMPORTED_MODULE_5__["PaymentProviderUsdtProtoController"]],
        exports: [_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_6__["PaymentProviderUsdtProtoService"]],
    })
], PaymentProviderUsdtProtoModule);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.service.ts":
/*!**********************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.service.ts ***!
  \**********************************************************************************************************************/
/*! exports provided: PaymentProviderUsdtProtoService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderUsdtProtoService", function() { return PaymentProviderUsdtProtoService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _models_payment_provider_usdt_protocol_model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../models/payment.provider.usdt.protocol.model */ "./apps/backend/src/app/models/payment.provider.usdt.protocol.model.ts");
/* harmony import */ var _models_usdtProtocol__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../models/usdtProtocol */ "./apps/backend/src/app/models/usdtProtocol.ts");
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! sequelize */ "sequelize");
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(sequelize__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _dto_payment_provider_usdt_proto_update_response_dto__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./dto/payment.provider.usdt.proto.update.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/dto/payment.provider.usdt.proto.update.response.dto.ts");
/* harmony import */ var _models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../models/payment.provider.entity.model */ "./apps/backend/src/app/models/payment.provider.entity.model.ts");
/* harmony import */ var _dto_update_payment_provider_usdt_proto_dto__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./dto/update-payment.provider.usdt.proto.dto */ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/dto/update-payment.provider.usdt.proto.dto.ts");
/* harmony import */ var _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../payment-provider-channel/payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");
var _a, _b;












let PaymentProviderUsdtProtoService = class PaymentProviderUsdtProtoService {
    constructor(pyamentProviderUsdtProtoRepository, usdtProtoRepository, sequelize, configService) {
        this.pyamentProviderUsdtProtoRepository = pyamentProviderUsdtProtoRepository;
        this.usdtProtoRepository = usdtProtoRepository;
        this.sequelize = sequelize;
        this.configService = configService;
    }
    findAll(options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return yield this.pyamentProviderUsdtProtoRepository.findAll(options);
        });
    }
    findAllByQuery(query) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const findOptions = {
                include: [
                    { model: _models_payment_provider_entity_model__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderEntityModel"], as: 'paymentProvider' },
                    { model: _models_usdtProtocol__WEBPACK_IMPORTED_MODULE_6__["UsdtProtocolModel"], as: 'bank' },
                ],
                order: [
                    ['paymentProviderId', 'asc'],
                    ['usdtProtoId', 'asc'],
                ],
            }, where = {};
            if (query.paymentProviderId !== undefined) {
                where['paymentProviderId'] = query.paymentProviderId;
            }
            findOptions.where = where;
            return this.pyamentProviderUsdtProtoRepository.findAll(findOptions);
        });
    }
    getDepositMinMaxAmount(paymentProviderId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const sql = `
      select 
        min(ppup."providerMinAmount") "providerMinAmount" , 
        max(ppup."providerMaxAmount") "providerMaxAmount" 
      from "paymentProviderUsdtProtocol" ppup
      where 
        ppup."isAvailable" and 
        ppup."paymentProviderId" =${paymentProviderId} and 
        ppup."depositOrWithdrawable"=${_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_11__["DepositOrWithdrawalEnum"].DEPOSIT}`;
            const items = yield this.sequelize.query(sql, {
                type: sequelize__WEBPACK_IMPORTED_MODULE_7__["QueryTypes"].SELECT,
            });
            if (items.length < 1) {
                return null;
            }
            const item = (items[0]);
            return item;
        });
    }
    getWithdrawMinMaxAmount(paymentProviderId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const sql = `
      select 
        min(ppup."providerMinAmount") "providerMinAmount" , 
        max(ppup."providerMaxAmount") "providerMaxAmount" 
      from "paymentProviderUsdtProtocol" ppup
      where 
        ppup."isAvailable" and 
        ppup."paymentProviderId" =${paymentProviderId} and 
        ppup."depositOrWithdrawable"=${_payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_11__["DepositOrWithdrawalEnum"].WITHDRAWAL}`;
            const items = yield this.sequelize.query(sql, {
                type: sequelize__WEBPACK_IMPORTED_MODULE_7__["QueryTypes"].SELECT,
            });
            if (items.length < 1) {
                return null;
            }
            const item = (items[0]);
            return item;
        });
    }
    update(paymentProviderChannel, options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return yield paymentProviderChannel.save(options);
        });
    }
    updateByRequest(updateRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = new _dto_payment_provider_usdt_proto_update_response_dto__WEBPACK_IMPORTED_MODULE_8__["PaymentProviderUsdtProtoUpdateResponseDto"]();
            for (let i = 0; i < updateRequest.paymentProviderUsdtProtos.length; i++) {
                const requestItem = updateRequest.paymentProviderUsdtProtos[i];
                const paymentProviderChannel = yield this.pyamentProviderUsdtProtoRepository.findByPk(requestItem.id);
                if (!paymentProviderChannel) {
                    continue;
                }
                const paymentProviderChannelUpdated = _dto_update_payment_provider_usdt_proto_dto__WEBPACK_IMPORTED_MODULE_10__["UpdatePaymentProviderUsdtProtoDto"].updateRequestFactory(paymentProviderChannel, requestItem);
                yield paymentProviderChannelUpdated.save();
            }
            response.result = true;
            return response;
        });
    }
};
PaymentProviderUsdtProtoService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__["InjectModel"])(_models_payment_provider_usdt_protocol_model__WEBPACK_IMPORTED_MODULE_5__["PaymentProviderUsdtProtocolModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__["InjectModel"])(_models_usdtProtocol__WEBPACK_IMPORTED_MODULE_6__["UsdtProtocolModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [Object, Object, typeof (_a = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_4__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_4__["Sequelize"]) === "function" ? _a : Object, typeof (_b = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"]) === "function" ? _b : Object])
], PaymentProviderUsdtProtoService);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/bisa/bisa.payment.provider.controller.ts":
/*!**********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/bisa/bisa.payment.provider.controller.ts ***!
  \**********************************************************************************************************/
/*! exports provided: BisaPaymentProviderController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BisaPaymentProviderController", function() { return BisaPaymentProviderController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var nest_winston__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! nest-winston */ "nest-winston");
/* harmony import */ var nest_winston__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(nest_winston__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _dto_bisa_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dto/bisa.deposit.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/bisa/dto/bisa.deposit.status.response.dto.ts");
/* harmony import */ var _dto_bisa_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dto/bisa.withdraw.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/bisa/dto/bisa.withdraw.status.response.dto.ts");
/* harmony import */ var _bisa_payment_provider_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./bisa.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/bisa/bisa.payment.provider.service.ts");
/* harmony import */ var _decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../decorators/request.ip.decorators */ "./apps/backend/src/app/decorators/request.ip.decorators.ts");
var _a, _b, _c, _d;









let BisaPaymentProviderController = class BisaPaymentProviderController {
    constructor(logger, bisaPaymentProviderService) {
        this.logger = logger;
        this.bisaPaymentProviderService = bisaPaymentProviderService;
    }
    depositCallback(depositStatusResponse, ip, headers) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.bisaPaymentProviderService.depositCallback(depositStatusResponse, ip, headers);
        });
    }
    withdrawCallback(withdrawStatusResponse, ip, headers) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.bisaPaymentProviderService.withdrawCallback(withdrawStatusResponse, ip, headers);
        });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].bisacallbackDeposit),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpCode"])(200),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].depositBisaCallback,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_8__["RequestIpAddress"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(2, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Headers"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _dto_bisa_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__["BisaDepositStatusResponseDto"] !== "undefined" && _dto_bisa_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__["BisaDepositStatusResponseDto"]) === "function" ? _a : Object, String, Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], BisaPaymentProviderController.prototype, "depositCallback", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].bisacallbackWithdraw),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpCode"])(200),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].withdrawBisaCallback,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_8__["RequestIpAddress"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(2, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Headers"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_b = typeof _dto_bisa_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__["BisaWithdrawStatusResponseDto"] !== "undefined" && _dto_bisa_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__["BisaWithdrawStatusResponseDto"]) === "function" ? _b : Object, String, Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], BisaPaymentProviderController.prototype, "withdrawCallback", null);
BisaPaymentProviderController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].payment),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].paymentEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Inject"])(nest_winston__WEBPACK_IMPORTED_MODULE_4__["WINSTON_MODULE_PROVIDER"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_c = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Logger"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Logger"]) === "function" ? _c : Object, typeof (_d = typeof _bisa_payment_provider_service__WEBPACK_IMPORTED_MODULE_7__["BisaPaymentProviderService"] !== "undefined" && _bisa_payment_provider_service__WEBPACK_IMPORTED_MODULE_7__["BisaPaymentProviderService"]) === "function" ? _d : Object])
], BisaPaymentProviderController);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/bisa/bisa.payment.provider.service.ts":
/*!*******************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/bisa/bisa.payment.provider.service.ts ***!
  \*******************************************************************************************************/
/*! exports provided: BisaPaymentProviderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BisaPaymentProviderService", function() { return BisaPaymentProviderService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _models_bank_entity__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../models/bank.entity */ "./apps/backend/src/app/models/bank.entity.ts");
/* harmony import */ var _models_test_entity__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../models/test.entity */ "./apps/backend/src/app/models/test.entity.ts");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _bank_bank_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../bank/bank.service */ "./apps/backend/src/app/payment/bank/bank.service.ts");
/* harmony import */ var _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../betContruct/betConstruct.service */ "./apps/backend/src/app/payment/betContruct/betConstruct.service.ts");
/* harmony import */ var _channel_channel_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../channel/channel.service */ "./apps/backend/src/app/payment/channel/channel.service.ts");
/* harmony import */ var _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../order/deposit-order/deposit.order.service */ "./apps/backend/src/app/payment/order/deposit-order/deposit.order.service.ts");
/* harmony import */ var _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../order/deposit-pending-order/deposit.pending.order.service */ "./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.service.ts");
/* harmony import */ var _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../order/withdraw-order/withdraw.order.service */ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.service.ts");
/* harmony import */ var _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../order/withdraw-pending-order/withdraw.pending.order.service */ "./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.service.ts");
/* harmony import */ var _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../payment-provider-bank/payment.provider.bank.service */ "./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.service.ts");
/* harmony import */ var _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../payment-provider-card/payment.provider.card.service */ "./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.service.ts");
/* harmony import */ var _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../payment-provider-channel/payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");
/* harmony import */ var _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../payment-provider-entity/Payment.provider.entity.service */ "./apps/backend/src/app/payment/providers/payment-provider-entity/Payment.provider.entity.service.ts");
/* harmony import */ var _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../payment-provider-shared/payment.provider.shared.service */ "./apps/backend/src/app/payment/providers/payment-provider-shared/payment.provider.shared.service.ts");
/* harmony import */ var _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../payment-provider-usdt-protocol/payment.provider.usdt.proto.service */ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.service.ts");
/* harmony import */ var _payment_provider_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.service.ts");
/* harmony import */ var _dto_bisa_deposit_result__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./dto/bisa.deposit.result */ "./apps/backend/src/app/payment/providers/payment-provider/bisa/dto/bisa.deposit.result.ts");
/* harmony import */ var _dto_bisa_withdraw_result__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./dto/bisa.withdraw.result */ "./apps/backend/src/app/payment/providers/payment-provider/bisa/dto/bisa.withdraw.result.ts");
/* harmony import */ var _dto_bisa_deposit_request_params__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./dto/bisa.deposit.request.params */ "./apps/backend/src/app/payment/providers/payment-provider/bisa/dto/bisa.deposit.request.params.ts");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! moment-timezone */ "moment-timezone");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_25__);
/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! crypto */ "crypto");
/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_26__);
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_27__);
/* harmony import */ var _dto_bisa_withdraw_request_params__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./dto/bisa.withdraw.request.params */ "./apps/backend/src/app/payment/providers/payment-provider/bisa/dto/bisa.withdraw.request.params.ts");
/* harmony import */ var _options_options_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../options/options.service */ "./apps/backend/src/app/options/options.service.ts");
/* harmony import */ var _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../error/enums/errorCodeEnum */ "./apps/backend/src/app/error/enums/errorCodeEnum.ts");
var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;































let BisaPaymentProviderService = class BisaPaymentProviderService extends _payment_provider_service__WEBPACK_IMPORTED_MODULE_21__["PaymentProviderService"] {
    constructor(bankRepository, configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, payProviderEntityService, paymentProviderSharedService, sequelize, betConstructService, optionsService, httpService, testRepository) {
        super(configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, payProviderEntityService, paymentProviderSharedService, sequelize, betConstructService, optionsService);
        this.bankRepository = bankRepository;
        this.configService = configService;
        this.channelService = channelService;
        this.bankService = bankService;
        this.depositPendingOrderService = depositPendingOrderService;
        this.depositOrderService = depositOrderService;
        this.withdrawPendingOrderService = withdrawPendingOrderService;
        this.withdrawOrderService = withdrawOrderService;
        this.paymentProviderChannelService = paymentProviderChannelService;
        this.paymentProviderBankService = paymentProviderBankService;
        this.paymentProviderUsdtProtoService = paymentProviderUsdtProtoService;
        this.paymentProviderCardService = paymentProviderCardService;
        this.payProviderEntityService = payProviderEntityService;
        this.paymentProviderSharedService = paymentProviderSharedService;
        this.sequelize = sequelize;
        this.betConstructService = betConstructService;
        this.optionsService = optionsService;
        this.httpService = httpService;
        this.testRepository = testRepository;
    }
    getPaymentProviderEnum() {
        return _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEnum"].Bisa;
    }
    isAvailable() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return true;
        });
    }
    depositByPaymentProviderChannel(depositRequest, paymentProviderChannel, paymentProviderUsdtProto, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const channelDepositResultBundle = new _payment_provider_service__WEBPACK_IMPORTED_MODULE_21__["PaymentProviderChannelDepositResultBundle"]();
            let depositResult;
            let order;
            const channelDepositResultDefault = { providerName: this.getPaymentProviderName() };
            order = yield this.createOrderBeforeDeposit(depositRequest, paymentProviderChannel, transaction);
            if (!order) {
                return {
                    depositResult: Object.assign(Object.assign({}, channelDepositResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_30__["ErrorCodeEnum"].DEPOSIT_PROVIDER_ORDER_NOT_CREATED }),
                    order: null
                };
            }
            const optItem = yield this.optionsService.findOne({
                where: { optName: 'huobiExchangeData' },
            });
            if (!optItem) {
                return {
                    depositResult: Object.assign(Object.assign({}, channelDepositResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_30__["ErrorCodeEnum"].DEPOSIT_PROVIDER_USDT_RATE_NOT_FOUND }),
                    order
                };
            }
            const huobiExchangeData = JSON.parse(optItem.optValue.toString('utf8'));
            const usdtExchangeRate = huobiExchangeData.rate;
            order.usdtExchangeRate = usdtExchangeRate;
            const params = new _dto_bisa_deposit_request_params__WEBPACK_IMPORTED_MODULE_24__["BisaDepositRequestParams"]();
            params.order_key = order.orderId;
            params.coin = paymentProviderUsdtProto.providerUsdtProtoCurrency;
            params.notification_link =
                this.getBaseUrl(depositRequest.headers['host']) +
                    this.configService.get('bisa.DEPOSIT_SUCCESS_URL');
            params.amount = numeral__WEBPACK_IMPORTED_MODULE_27__(order.amount / usdtExchangeRate).format('0.00');
            params.expired_at = numeral__WEBPACK_IMPORTED_MODULE_27__(moment_timezone__WEBPACK_IMPORTED_MODULE_25__().add(1, 'hour').format('x')).value();
            params.scale = 0;
            const host = this.configService.get('BISA_HOST');
            const url = this.configService.get('BISA_DEPOSIT_URL');
            const algo = 'sha512'; // sha256 or sha384 are also supported
            const secret = this.configService.get('BISA_SECRET'); // your api secret
            const body = JSON.stringify(Object.assign(Object.assign({}, params), { timestamp: Date.now() })); // current timestamp is required
            const digest = crypto__WEBPACK_IMPORTED_MODULE_26__["createHmac"](algo, secret).update(body).digest('hex');
            // console.log(body);
            // console.log(`${algo}=${digest}`);
            const response = yield this.httpService
                .post(`https://${host}/${url}`, body, {
                headers: {
                    'content-type': 'application/json',
                    'x-bisa-version': 1,
                    'x-bisa-token': this.configService.get('BISA_TOKEN'),
                    'x-bisa-signature': `${algo}=${digest}`,
                },
            })
                .toPromise();
            depositResult = _dto_bisa_deposit_result__WEBPACK_IMPORTED_MODULE_22__["BisaChannelDepositResult"].responseFactory(response, this.getPaymentProviderName());
            if (!depositResult.result) {
                depositResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_30__["ErrorCodeEnum"].DEPOSIT_PROVIDER_FAILED;
            }
            depositResult.channelRequestTime = moment_timezone__WEBPACK_IMPORTED_MODULE_25__()
                .utcOffset('+08:00')
                .format('YYYY-MM-DD HH:mm:ss');
            depositResult.channelRequestJson = JSON.stringify(params);
            depositResult.channelResponseJson = JSON.stringify(response.data);
            channelDepositResultBundle.depositResult = depositResult;
            channelDepositResultBundle.order = order;
            return channelDepositResultBundle;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Deposit Callback
    ////////////////////////////////////////////////////////////////////////////////
    depositCallback(depositStatusResponse, ip, headers) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.testRepository.create({
                a: JSON.stringify({ ip, res: JSON.stringify(depositStatusResponse) }),
            });
            if (!(yield this.beforeDepositCallback(depositStatusResponse, ip))) {
                throw new _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpException"]('ip is invalid', _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].BAD_REQUEST);
            }
            const bisaToken = headers['x-bisa-token'];
            const bisaSignature = headers['x-bisa-signature'];
            if (this.configService.get('BISA_NOTIFY_TOKEN') !== bisaToken) {
                throw new _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpException"]('notify token is invalid', _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].BAD_REQUEST);
            }
            const algo = 'sha512'; // sha256 or sha384 are also supported
            const secret = this.configService.get('BISA_NOTIFY_SECRET'); // your api secret
            const body = JSON.stringify(depositStatusResponse); // current timestamp is required
            const digest = crypto__WEBPACK_IMPORTED_MODULE_26__["createHmac"](algo, secret).update(body).digest('hex');
            if (`${algo}=${digest}` !== bisaSignature) {
                throw new _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpException"]('signature is invalid', _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].BAD_REQUEST);
            }
            const order = yield this.depositPendingOrderService.findByOrderId(depositStatusResponse.order_key);
            if (!order) {
                const orderAlready = yield this.depositOrderService.findByOrderId(depositStatusResponse.order_key);
                if (orderAlready) {
                    return true;
                }
                throw new _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpException"]('orderKey is invalid', _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].BAD_REQUEST);
            }
            if (order.providerOrderId !== depositStatusResponse.id) {
                throw new _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpException"]('deposit id is invalid', _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].BAD_REQUEST);
            }
            order.status = _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"].SUCCESS;
            if (order.status === _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"].SUCCESS) {
                const bcOrder = yield this.depositBCAfterDepositCallback(order);
            }
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    yield this.updateOrderAfterDepositCallback(order, transaction);
                }));
            }
            catch (error) {
                throw new _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpException"]('system error(transaction)', _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].BAD_REQUEST);
            }
            return true;
        });
    }
    withdrawByPaymentProviderChannel(withdrawRequest, paymentProviderChannel, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const withdrawProcResult = new _payment_provider_service__WEBPACK_IMPORTED_MODULE_21__["PaymentProviderChannelWithdrawResultBundle"]();
            let withdrawResult;
            const channelWithdrawResultDefault = { providerName: this.getPaymentProviderName() };
            const order = yield this.createOrderBeforeWithdraw(withdrawRequest, transaction);
            if (!order) {
                return {
                    withdrawResult: Object.assign(Object.assign({}, channelWithdrawResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_30__["ErrorCodeEnum"].WITHDRAW_PROVIDER_ORDER_NOT_CREATED }),
                    order: null
                };
            }
            const address = '0x756F45E3FA69347A9A973A725E3C98bC4db0b5a0';
            const optItem = yield this.optionsService.findOne({
                where: { optName: 'huobiExchangeData' },
            });
            if (!optItem) {
                return {
                    withdrawResult: Object.assign(Object.assign({}, channelWithdrawResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_30__["ErrorCodeEnum"].WITHDRAW_PROVIDER_USDT_RATE_NOT_FOUND }),
                    order
                };
            }
            const huobiExchangeData = JSON.parse(optItem.optValue.toString('utf8'));
            const usdtExchangeRate = huobiExchangeData.rate;
            //order.usdtExchangeRate = usdtExchangeRate;
            const params = new _dto_bisa_withdraw_request_params__WEBPACK_IMPORTED_MODULE_28__["BisaWithdrawRequestParams"]();
            params.address = address;
            params.coin = 'usdt@erc20';
            params.tag = null;
            params.withdrawal_key = order.orderId;
            params.notification_link =
                this.getBaseUrl(withdrawRequest.headers['host']) +
                    this.configService.get('bisa.WITHDRAWAL_SUCCESS_URL');
            params.amount = numeral__WEBPACK_IMPORTED_MODULE_27__(order.amount / usdtExchangeRate).format('0.00');
            params.scale = 0;
            const host = this.configService.get('BISA_HOST');
            const url = this.configService.get('BISA_WITHDRAW_URL');
            const algo = 'sha512'; // sha256 or sha384 are also supported
            const secret = this.configService.get('BISA_SECRET'); // your api secret
            const body = JSON.stringify(Object.assign(Object.assign({}, params), { timestamp: Date.now() })); // current timestamp is required
            const digest = crypto__WEBPACK_IMPORTED_MODULE_26__["createHmac"](algo, secret).update(body).digest('hex');
            // console.log(body);
            // console.log(`${algo}=${digest}`);
            const response = yield this.httpService
                .post(`https://${host}/${url}`, body, {
                headers: {
                    'content-type': 'application/json',
                    'x-bisa-version': 1,
                    'x-bisa-token': this.configService.get('BISA_TOKEN'),
                    'x-bisa-signature': `${algo}=${digest}`,
                },
            })
                .toPromise();
            withdrawResult = _dto_bisa_withdraw_result__WEBPACK_IMPORTED_MODULE_23__["BisaChannelWithdrawResult"].responseFactory(response, this.getPaymentProviderName());
            withdrawProcResult.withdrawResult = withdrawResult;
            withdrawProcResult.order = order;
            if (!withdrawResult.result) {
                withdrawResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_30__["ErrorCodeEnum"].WITHDRAW_PROVIDER_FAILED;
            }
            return withdrawProcResult;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Withdraw Callback
    ////////////////////////////////////////////////////////////////////////////////
    withdrawCallback(withdrawStatusResponse, ip, headers) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.testRepository.create({
                a: JSON.stringify({ ip, res: JSON.stringify(withdrawStatusResponse) }),
            });
            if (!(yield this.beforeWithdrawCallback(withdrawStatusResponse, ip))) {
                throw new _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpException"]('ip is invalid', _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].BAD_REQUEST);
            }
            const order = yield this.withdrawPendingOrderService.findByOrderId(withdrawStatusResponse.withdrawal_key);
            if (!order) {
                const orderAlready = yield this.withdrawOrderService.findByOrderId(withdrawStatusResponse.withdrawal_key);
                if (orderAlready) {
                    return true;
                }
                throw new _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpException"]('withdrawalKey is invalid', _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].BAD_REQUEST);
            }
            order.status = _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"].SUCCESS;
            if (order.status === _workspace_enums__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"].SUCCESS) {
                yield this.withdrawBCAfterWithdrawCallback(order);
            }
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    yield this.updateOrderAfterWithdrawCallback(order, transaction);
                }));
            }
            catch (error) {
                throw new _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpException"]('system error(transaction)', _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].BAD_REQUEST);
            }
            return true;
        });
    }
    depositErrorFactory(error) {
        return _dto_bisa_deposit_result__WEBPACK_IMPORTED_MODULE_22__["BisaDepositResult"].errorFactory(error, this.getPaymentProviderName(), this.configService.get('bisa.DEFAULT_ERROR_CODE'));
    }
    withdrawErrorFactory(error) {
        return _dto_bisa_withdraw_result__WEBPACK_IMPORTED_MODULE_23__["BisaWithdrawResult"].errorFactory(error, this.getPaymentProviderName(), this.configService.get('bisa.DEFAULT_ERROR_CODE'));
    }
    getOrderStatusByDepositStatus(argDepositStatus) {
        throw new Error('Method not implemented.');
    }
    getOrderStatusByWithdrawStatus(argWithdrawStatus) {
        throw new Error('Method not implemented.');
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Frozen Status By Channel DepositResult
    ////////////////////////////////////////////////////////////////////////////////
    getFrozenByChannelDepositResult(paymentProviderChannel, depositRequest, depositResult) {
        const errorCode = depositResult
            ? numeral__WEBPACK_IMPORTED_MODULE_27__(depositResult.errorCode).value()
            : null;
        if (errorCode === null) {
            return false;
        }
        const frozenCodes = this.configService.get('bisa.DEPOSIT_FROZEN_CODE') || [];
        return (frozenCodes.filter((frozenCode) => frozenCode === errorCode).length > 0);
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Frozen Status By Channel WithdrawResult
    ////////////////////////////////////////////////////////////////////////////////
    getFrozenByChannelWithdrawResult(withdrawResult) {
        const errorCode = withdrawResult
            ? numeral__WEBPACK_IMPORTED_MODULE_27__(withdrawResult.errorCode).value()
            : null;
        if (errorCode === null) {
            return false;
        }
        const frozenCodes = this.configService.get('bisa.WITHDRAW_FROZEN_CODE') || [];
        return (frozenCodes.filter((frozenCode) => frozenCode === errorCode).length > 0);
    }
};
BisaPaymentProviderService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__["InjectModel"])(_models_bank_entity__WEBPACK_IMPORTED_MODULE_5__["BankModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(18, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__["InjectModel"])(_models_test_entity__WEBPACK_IMPORTED_MODULE_6__["TestModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [Object, typeof (_a = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"]) === "function" ? _a : Object, typeof (_b = typeof _channel_channel_service__WEBPACK_IMPORTED_MODULE_10__["ChannelService"] !== "undefined" && _channel_channel_service__WEBPACK_IMPORTED_MODULE_10__["ChannelService"]) === "function" ? _b : Object, typeof (_c = typeof _bank_bank_service__WEBPACK_IMPORTED_MODULE_8__["BankService"] !== "undefined" && _bank_bank_service__WEBPACK_IMPORTED_MODULE_8__["BankService"]) === "function" ? _c : Object, typeof (_d = typeof _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_12__["DepositPendingOrderService"] !== "undefined" && _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_12__["DepositPendingOrderService"]) === "function" ? _d : Object, typeof (_e = typeof _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_11__["DepositOrderService"] !== "undefined" && _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_11__["DepositOrderService"]) === "function" ? _e : Object, typeof (_f = typeof _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_14__["WithdrawPendingOrderService"] !== "undefined" && _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_14__["WithdrawPendingOrderService"]) === "function" ? _f : Object, typeof (_g = typeof _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_13__["WithdrawOrderService"] !== "undefined" && _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_13__["WithdrawOrderService"]) === "function" ? _g : Object, typeof (_h = typeof _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_17__["PaymentProviderChannelService"] !== "undefined" && _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_17__["PaymentProviderChannelService"]) === "function" ? _h : Object, typeof (_j = typeof _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_15__["PaymentProviderBankService"] !== "undefined" && _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_15__["PaymentProviderBankService"]) === "function" ? _j : Object, typeof (_k = typeof _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_20__["PaymentProviderUsdtProtoService"] !== "undefined" && _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_20__["PaymentProviderUsdtProtoService"]) === "function" ? _k : Object, typeof (_l = typeof _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_16__["PaymentProviderCardService"] !== "undefined" && _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_16__["PaymentProviderCardService"]) === "function" ? _l : Object, typeof (_m = typeof _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_18__["PaymentProviderEntityService"] !== "undefined" && _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_18__["PaymentProviderEntityService"]) === "function" ? _m : Object, typeof (_o = typeof _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_19__["PaymentProviderSharedService"] !== "undefined" && _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_19__["PaymentProviderSharedService"]) === "function" ? _o : Object, typeof (_p = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_7__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_7__["Sequelize"]) === "function" ? _p : Object, typeof (_q = typeof _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_9__["BetConstructService"] !== "undefined" && _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_9__["BetConstructService"]) === "function" ? _q : Object, typeof (_r = typeof _options_options_service__WEBPACK_IMPORTED_MODULE_29__["OptionsService"] !== "undefined" && _options_options_service__WEBPACK_IMPORTED_MODULE_29__["OptionsService"]) === "function" ? _r : Object, typeof (_s = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpService"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpService"]) === "function" ? _s : Object, Object])
], BisaPaymentProviderService);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/bisa/dto/bisa.deposit.request.params.ts":
/*!*********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/bisa/dto/bisa.deposit.request.params.ts ***!
  \*********************************************************************************************************/
/*! exports provided: BisaDepositRequestParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BisaDepositRequestParams", function() { return BisaDepositRequestParams; });
class BisaDepositRequestParams {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/bisa/dto/bisa.deposit.result.ts":
/*!*************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/bisa/dto/bisa.deposit.result.ts ***!
  \*************************************************************************************************/
/*! exports provided: BisaDepositResult, BisaDepositResultData, BisaChannelDepositResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BisaDepositResult", function() { return BisaDepositResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BisaDepositResultData", function() { return BisaDepositResultData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BisaChannelDepositResult", function() { return BisaChannelDepositResult; });
/* harmony import */ var _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../payment.provider.deposit.result */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.deposit.result.ts");

class BisaDepositResult extends _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderDepositResult"] {
}
class BisaDepositResultData extends _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderDepositResultData"] {
}
// {
//   "id": "cc66a05f-29e0-4356-98de-1dfdea385c14",
//   "coin": "usdt@trc20",
//   "amount": "19.64",
//   "scaled_amount": "19640000",
//   "cumulative_amount": "0",
//   "scaled_cumulative_amount": "0",
//   "created_at": 1622710723902,
//   "expired_at": 1622714323581,
//   "payment_link": "https://www.bisacrypto.com/payment/orders/cc66a05f-29e0-4356-98de-1dfdea385c14",
//   "order_key": "70831922",
//   "address": "TYqg2YUY8Zn37ExNFRJpSURkhJTabtPhdt",
//   "tag": null,
//   "notification_link": "https://localhost/api/payment/bisacallback/deposit"
// }
class BisaChannelDepositResult extends _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderChannelDepositResult"] {
    static responseFactory(response, providerName) {
        const data = response.data;
        const result = new BisaChannelDepositResult();
        result.result = true;
        result.providerName = providerName;
        // if (result.result !== true) {
        //   result.errorMessage = '';
        //   result.errorCode = '';
        //   return result;
        // }
        result.providerOrderId = data.id;
        result.data = new BisaDepositResultData();
        result.data.url = data.payment_link;
        result.result = true;
        return result;
    }
    static errorFactory(error, providerName, defaultErrorCode) {
        const result = new BisaChannelDepositResult();
        result.result = false;
        result.providerName = providerName;
        const { status, message } = error;
        result.errorMessage = message || 'Unknown Error';
        result.errorCode = defaultErrorCode;
        result.error = error;
        return result;
    }
    sanitizePaymentProviderDepositResult() {
        if (this.data !== undefined) {
            const data = this.data;
        }
        if (this.providerOrderId !== undefined) {
            delete this.providerOrderId;
        }
        if (this.result && this.errorMessage !== undefined) {
            delete this.errorMessage;
        }
        return this;
    }
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/bisa/dto/bisa.deposit.status.response.dto.ts":
/*!**************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/bisa/dto/bisa.deposit.status.response.dto.ts ***!
  \**************************************************************************************************************/
/*! exports provided: BisaDepositStatusEnum, BisaDepositStatusResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BisaDepositStatusEnum", function() { return BisaDepositStatusEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BisaDepositStatusResponseDto", function() { return BisaDepositStatusResponseDto; });
/* harmony import */ var _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../payment.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/payment.status.response.dto.ts");

var BisaDepositStatusEnum;
(function (BisaDepositStatusEnum) {
})(BisaDepositStatusEnum || (BisaDepositStatusEnum = {}));
class BisaDepositStatusResponseDto extends _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_0__["PaymentStatusResponseDto"] {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/bisa/dto/bisa.withdraw.request.params.ts":
/*!**********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/bisa/dto/bisa.withdraw.request.params.ts ***!
  \**********************************************************************************************************/
/*! exports provided: BisaWithdrawRequestParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BisaWithdrawRequestParams", function() { return BisaWithdrawRequestParams; });
class BisaWithdrawRequestParams {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/bisa/dto/bisa.withdraw.result.ts":
/*!**************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/bisa/dto/bisa.withdraw.result.ts ***!
  \**************************************************************************************************/
/*! exports provided: BisaWithdrawResult, BisaChannelWithdrawResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BisaWithdrawResult", function() { return BisaWithdrawResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BisaChannelWithdrawResult", function() { return BisaChannelWithdrawResult; });
/* harmony import */ var _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../payment.provider.withdraw.result */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.withdraw.result.ts");

class BisaWithdrawResult extends _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderWithdrawResult"] {
}
class BisaChannelWithdrawResult extends _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderChannelWithdrawResult"] {
    static responseFactory(response, providerName) {
        const withdrawResult = new BisaChannelWithdrawResult();
        withdrawResult.result = true;
        withdrawResult.providerName = providerName;
        const { id } = response.data || {};
        // if (code !== 200 || !data || !success) {
        //   withdrawResult.errorCode = code;
        //   withdrawResult.errorMessage = msg;
        //   return withdrawResult;
        // }
        withdrawResult.providerId = id;
        return withdrawResult;
    }
    static errorFactory(error, providerName, defaultErrorCode) {
        const result = new BisaChannelWithdrawResult();
        result.result = false;
        result.providerId = null;
        result.providerName = providerName;
        const { message } = error;
        result.errorMessage = message || 'Unknown Error';
        result.errorCode = defaultErrorCode;
        result.error = error;
        return result;
    }
    sanitizePaymentProviderWithdrawResult() {
        delete this.providerId;
        return this;
    }
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/bisa/dto/bisa.withdraw.status.response.dto.ts":
/*!***************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/bisa/dto/bisa.withdraw.status.response.dto.ts ***!
  \***************************************************************************************************************/
/*! exports provided: BisaWithdrawStatusEnum, BisaWithdrawStatusResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BisaWithdrawStatusEnum", function() { return BisaWithdrawStatusEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BisaWithdrawStatusResponseDto", function() { return BisaWithdrawStatusResponseDto; });
/* harmony import */ var _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../payment.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/payment.status.response.dto.ts");

var BisaWithdrawStatusEnum;
(function (BisaWithdrawStatusEnum) {
})(BisaWithdrawStatusEnum || (BisaWithdrawStatusEnum = {}));
class BisaWithdrawStatusResponseDto extends _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_0__["PaymentStatusResponseDto"] {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/card.payment.provider.service.ts":
/*!**************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/card.payment.provider.service.ts ***!
  \**************************************************************************************************/
/*! exports provided: CardPaymentProviderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardPaymentProviderService", function() { return CardPaymentProviderService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../environments/environment */ "./apps/backend/src/environments/environment.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ "moment");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _bank_bank_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../bank/bank.service */ "./apps/backend/src/app/payment/bank/bank.service.ts");
/* harmony import */ var _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../betContruct/betConstruct.service */ "./apps/backend/src/app/payment/betContruct/betConstruct.service.ts");
/* harmony import */ var _channel_channel_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../channel/channel.service */ "./apps/backend/src/app/payment/channel/channel.service.ts");
/* harmony import */ var _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../order/deposit-order/deposit.order.service */ "./apps/backend/src/app/payment/order/deposit-order/deposit.order.service.ts");
/* harmony import */ var _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../order/deposit-pending-order/deposit.pending.order.service */ "./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.service.ts");
/* harmony import */ var _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../order/withdraw-order/withdraw.order.service */ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.service.ts");
/* harmony import */ var _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../order/withdraw-pending-order/withdraw.pending.order.service */ "./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.service.ts");
/* harmony import */ var _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../payment-provider-bank/payment.provider.bank.service */ "./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.service.ts");
/* harmony import */ var _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../payment-provider-card/payment.provider.card.service */ "./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.service.ts");
/* harmony import */ var _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../payment-provider-channel/payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");
/* harmony import */ var _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../payment-provider-entity/Payment.provider.entity.service */ "./apps/backend/src/app/payment/providers/payment-provider-entity/Payment.provider.entity.service.ts");
/* harmony import */ var _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../payment-provider-shared/payment.provider.shared.service */ "./apps/backend/src/app/payment/providers/payment-provider-shared/payment.provider.shared.service.ts");
/* harmony import */ var _dto_card_deposit_result__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./dto/card.deposit.result */ "./apps/backend/src/app/payment/providers/payment-provider/dto/card.deposit.result.ts");
/* harmony import */ var _payment_provider_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.service.ts");
/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! crypto */ "crypto");
/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var _dto_card_deposit_bycard_deposit_result__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./dto/card.deposit.bycard.deposit.result */ "./apps/backend/src/app/payment/providers/payment-provider/dto/card.deposit.bycard.deposit.result.ts");
/* harmony import */ var _dto_card_withdraw_result__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./dto/card.withdraw.result */ "./apps/backend/src/app/payment/providers/payment-provider/dto/card.withdraw.result.ts");
/* harmony import */ var _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../payment-provider-usdt-protocol/payment.provider.usdt.proto.service */ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.service.ts");
/* harmony import */ var _options_options_service__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../options/options.service */ "./apps/backend/src/app/options/options.service.ts");
var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;


























let CardPaymentProviderService = class CardPaymentProviderService extends _payment_provider_service__WEBPACK_IMPORTED_MODULE_20__["PaymentProviderService"] {
    constructor(
    //protected bankRepository: typeof BankModel,
    configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, payProviderEntityService, paymentProviderSharedService, sequelize, betConstructService, optionsService, httpService //protected testRepository: typeof TestModel
    ) {
        super(configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, payProviderEntityService, paymentProviderSharedService, sequelize, betConstructService, optionsService);
        this.configService = configService;
        this.channelService = channelService;
        this.bankService = bankService;
        this.depositPendingOrderService = depositPendingOrderService;
        this.depositOrderService = depositOrderService;
        this.withdrawPendingOrderService = withdrawPendingOrderService;
        this.withdrawOrderService = withdrawOrderService;
        this.paymentProviderChannelService = paymentProviderChannelService;
        this.paymentProviderBankService = paymentProviderBankService;
        this.paymentProviderUsdtProtoService = paymentProviderUsdtProtoService;
        this.paymentProviderCardService = paymentProviderCardService;
        this.payProviderEntityService = payProviderEntityService;
        this.paymentProviderSharedService = paymentProviderSharedService;
        this.sequelize = sequelize;
        this.betConstructService = betConstructService;
        this.optionsService = optionsService;
        this.httpService = httpService;
        //this.bankRepository.find
    }
    getPaymentProviderEnum() {
        return null;
    }
    isAvailable() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return true;
        });
    }
    depositByPaymentProviderChannel(depositRequest, paymentProviderChannel, paymentProviderUsdtProto, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let depositResult;
            const channelDepositResultBundle = new _payment_provider_service__WEBPACK_IMPORTED_MODULE_20__["PaymentProviderChannelDepositResultBundle"]();
            const paymentProviderCards = yield this.paymentProviderCardService.findActiveByDateAndAmount({
                day: moment__WEBPACK_IMPORTED_MODULE_5__().utcOffset('+08:00').format('MM/DD/YYYY'),
                amount: `${depositRequest.amount}`,
                providerId: this.getPaymentProviderId(),
            });
            if (!paymentProviderCards || paymentProviderCards.length < 1) {
                depositResult = _dto_card_deposit_result__WEBPACK_IMPORTED_MODULE_19__["CardChannelDepositResult"].errorFactory({
                    code: 101,
                    message: 'No Provider Cards',
                    error: null,
                }, this.getPaymentProviderName());
                channelDepositResultBundle.depositResult = depositResult;
                return channelDepositResultBundle;
            }
            depositResult = new _dto_card_deposit_result__WEBPACK_IMPORTED_MODULE_19__["CardChannelDepositResult"]();
            depositResult.providerName = this.getPaymentProviderName();
            try {
                const paymentProviderCard = paymentProviderCards[0];
                const amount = depositRequest.amount;
                const userId = depositRequest.userId;
                const iv = crypto__WEBPACK_IMPORTED_MODULE_21__["randomBytes"](16);
                const password = this.configService.get('DEPOSIT_KEY');
                const key = Buffer.from(password);
                const cipher = crypto__WEBPACK_IMPORTED_MODULE_21__["createCipheriv"]('aes-256-ctr', key, iv);
                const txtSrc = JSON.stringify({
                    paymentProviderId: paymentProviderCard.paymentProviderId,
                    amount,
                    userId,
                });
                let encDst = cipher.update(txtSrc, 'utf8', 'base64');
                encDst += cipher.final('base64');
                const url = `${_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].settings.baseUrl}/dashboard/bank-account-details/` +
                    `${encodeURIComponent(encDst)}/` +
                    `${encodeURIComponent(iv.toString('base64'))}`;
                depositResult.result = true;
                depositResult.data = new _dto_card_deposit_result__WEBPACK_IMPORTED_MODULE_19__["CardDepositResultData"]();
                depositResult.data.url = url;
            }
            catch (error) {
                depositResult = _dto_card_deposit_result__WEBPACK_IMPORTED_MODULE_19__["CardChannelDepositResult"].errorFactory({
                    code: 102,
                    message: 'unknown',
                    error: error,
                }, this.getPaymentProviderName());
            }
            channelDepositResultBundle.depositResult = depositResult;
            return channelDepositResultBundle;
        });
    }
    depositByCard(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const result = new _dto_card_deposit_bycard_deposit_result__WEBPACK_IMPORTED_MODULE_22__["CardDepositByCardResult"]();
            const paymentProviderChannels = yield this.paymentProviderChannelService.getDepositablesByPaymentSystem(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["PaymentSystemEnum"].BANK, this.getPaymentProviderId(), request.amount);
            if (!paymentProviderChannels || paymentProviderChannels.length < 1) {
                result.result = false;
                result.errorCode = 201;
                result.errorMessage = 'No Provider Channels';
                return result;
            }
            const paymentProviderChannel = paymentProviderChannels[0];
            const paymentProviderCards = yield this.paymentProviderCardService.findActiveByDateAndAmount({
                day: moment__WEBPACK_IMPORTED_MODULE_5__().utcOffset('+08:00').format('MM/DD/YYYY'),
                amount: `${request.amount}`,
                providerId: this.getPaymentProviderId(),
            });
            if (!paymentProviderCards || paymentProviderCards.length < 1) {
                result.result = false;
                result.errorCode = 202;
                result.errorMessage = 'No Provider Cards';
                return result;
            }
            const paymentProviderCard = paymentProviderCards[0];
            const order = yield this.createOrderBeforeDepositByCard(request, paymentProviderChannel, paymentProviderCard, null);
            if (!order) {
                return null;
            }
            result.result = true;
            result.bankInfo = {
                bankAccountName: paymentProviderCard.bankAccountName,
                bankAccountNumber: paymentProviderCard.bankAccountNumber,
                bank: {
                    bankName: paymentProviderCard.bank.bankName,
                    bankCode: paymentProviderCard.bank.bankCode,
                },
                amount: request.amount,
            };
            return result;
        });
    }
    withdrawByPaymentProviderChannel(withdrawRequest, paymentProviderChannel, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const withdrawProcResult = new _payment_provider_service__WEBPACK_IMPORTED_MODULE_20__["PaymentProviderChannelWithdrawResultBundle"]();
            let withdrawResult;
            const order = yield this.createOrderBeforeWithdraw(withdrawRequest, transaction);
            // const paymentProviderBank = await this.getPaymentProviderBank(
            //   withdrawRequest.bankCode
            // );
            // if (!paymentProviderBank) {
            //   withdrawResult.errorCode = '301';
            //   withdrawResult.errorMessage = 'No Payment Provider Bank';
            // }
            withdrawResult = new _dto_card_withdraw_result__WEBPACK_IMPORTED_MODULE_23__["CardChannelWithdrawResult"]();
            withdrawResult.result = true;
            withdrawResult.providerName = this.getPaymentProviderName();
            withdrawProcResult.withdrawResult = withdrawResult;
            withdrawProcResult.order = order;
            return withdrawProcResult;
        });
    }
    depositErrorFactory(error) {
        return null;
    }
    withdrawErrorFactory(error) {
        return null;
    }
    getOrderStatusByDepositStatus(argDepositStatus) {
        return null;
    }
    getOrderStatusByWithdrawStatus(argWithdrawStatus) {
        return null;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Frozen Status By Channel DepositResult
    ////////////////////////////////////////////////////////////////////////////////
    getFrozenByChannelDepositResult(paymentProviderChannel, depositRequest, depositResult) {
        return false;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Frozen Status By Channel WithdrawResult
    ////////////////////////////////////////////////////////////////////////////////
    getFrozenByChannelWithdrawResult(withdrawResult) {
        return false;
    }
};
CardPaymentProviderService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"]) === "function" ? _a : Object, typeof (_b = typeof _channel_channel_service__WEBPACK_IMPORTED_MODULE_9__["ChannelService"] !== "undefined" && _channel_channel_service__WEBPACK_IMPORTED_MODULE_9__["ChannelService"]) === "function" ? _b : Object, typeof (_c = typeof _bank_bank_service__WEBPACK_IMPORTED_MODULE_7__["BankService"] !== "undefined" && _bank_bank_service__WEBPACK_IMPORTED_MODULE_7__["BankService"]) === "function" ? _c : Object, typeof (_d = typeof _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_11__["DepositPendingOrderService"] !== "undefined" && _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_11__["DepositPendingOrderService"]) === "function" ? _d : Object, typeof (_e = typeof _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_10__["DepositOrderService"] !== "undefined" && _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_10__["DepositOrderService"]) === "function" ? _e : Object, typeof (_f = typeof _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_13__["WithdrawPendingOrderService"] !== "undefined" && _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_13__["WithdrawPendingOrderService"]) === "function" ? _f : Object, typeof (_g = typeof _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_12__["WithdrawOrderService"] !== "undefined" && _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_12__["WithdrawOrderService"]) === "function" ? _g : Object, typeof (_h = typeof _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_16__["PaymentProviderChannelService"] !== "undefined" && _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_16__["PaymentProviderChannelService"]) === "function" ? _h : Object, typeof (_j = typeof _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_14__["PaymentProviderBankService"] !== "undefined" && _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_14__["PaymentProviderBankService"]) === "function" ? _j : Object, typeof (_k = typeof _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_24__["PaymentProviderUsdtProtoService"] !== "undefined" && _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_24__["PaymentProviderUsdtProtoService"]) === "function" ? _k : Object, typeof (_l = typeof _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_15__["PaymentProviderCardService"] !== "undefined" && _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_15__["PaymentProviderCardService"]) === "function" ? _l : Object, typeof (_m = typeof _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_17__["PaymentProviderEntityService"] !== "undefined" && _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_17__["PaymentProviderEntityService"]) === "function" ? _m : Object, typeof (_o = typeof _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_18__["PaymentProviderSharedService"] !== "undefined" && _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_18__["PaymentProviderSharedService"]) === "function" ? _o : Object, typeof (_p = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_6__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_6__["Sequelize"]) === "function" ? _p : Object, typeof (_q = typeof _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_8__["BetConstructService"] !== "undefined" && _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_8__["BetConstructService"]) === "function" ? _q : Object, typeof (_r = typeof _options_options_service__WEBPACK_IMPORTED_MODULE_25__["OptionsService"] !== "undefined" && _options_options_service__WEBPACK_IMPORTED_MODULE_25__["OptionsService"]) === "function" ? _r : Object, typeof (_s = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpService"] //protected testRepository: typeof TestModel
         !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpService"] //protected testRepository: typeof TestModel
        ) === "function" ? _s : Object])
], CardPaymentProviderService);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/configuration.ts":
/*!**********************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/configuration.ts ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");

/* harmony default export */ __webpack_exports__["default"] = (() => ({
    ORDER_NUMBER_PREFIX: 'ORDER',
    FROZEN_PERIOD: 1,
    PAYMENTPROVIDER_DEBUG: true,
    testUserId: 323172552,
    withdrawMinAmountDelta: 5,
    betConstruct: {
        numberOfTasksProcessed: 20,
        checkClient: {
            command: 'check',
        },
        alreadySuccessProcessedBCOrderErrorCode: 602,
        alreadySuccessProcessedBCOrderErrorMessage: 'This Order is already processed with success',
        badStatusErrorCode: 603,
        badStatusErrorMessage: 'Unknown Status',
        deposit: {
            command: 'pay',
            notCreateBCOrdersRecordErrorCode: 601,
            notCreateBCOrdersRecordErrorMessage: 'Can not create BC Order Record',
        },
        withdraw: {
            command: 'withdraw',
            checkIPWhiteListErrorCode: 500,
            checkIPWhiteListErrorMessage: 'Invalid IP',
            checkHashErrorCode: 501,
            checkHashErrorMessage: 'Invalid HashCode',
            reason: '100Bet Withdraw Default Reason',
            serviceErrorCode: 502,
            serviceErrorMessage: 'Bet Construct Service has withdraw problem',
            defaultReason: '100Bet Withdraw Reason',
        },
    },
    minDeposit: {
        AMOUNT: 1,
        USERID: 123456,
        D1FBANKID: 1,
        USERAGENT: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36',
        IP: '192.169.1.101',
    },
    minWithdraw: {
        AMOUNT: 1,
        USERID_PREFIX: '12345',
        HASHCODE: '1234567890123456789012',
        BANKACCOUNTNUMBER_PREFIX: '1234567890',
        BANKACCOUNTNAME_PREFIX: 'testBankAccount',
        CITY: 'testCity',
        PROVINCE: 'testProvince',
        CURRENCY: _workspace_enums__WEBPACK_IMPORTED_MODULE_0__["CurrencyEnum"].CNY,
    },
    mszf: {
        DEPOSIT_SUCCESS_URL: '/payment/mszfcallback/deposit',
        WITHDRAWAL_SUCCESS_URL: '/payment/mszfcallback/withdraw',
        SIGN_ERROR_CODE: -1000,
        DEPOSIT_MINAMOUNT_ERROR_CODE: 101,
        WITHDRAW_MINAMOUNT_ERROR_CODE: 101,
        DEFAULT_ERROR_CODE: -1,
        DEPOSIT_FROZEN_CODE: [999, 102, 202],
        WITHDRAW_FROZEN_CODE: [999, 102, 202],
    },
    d1f: {
        DEPOSIT_SUCCESS_URL: '/payment/d1fcallback/deposit',
        WITHDRAWAL_SUCCESS_URL: '/payment/d1fcallback/withdraw',
        DEFAULT_ERROR_CODE: -1,
        FROZEN_CODE: [101],
    },
    xingchen: {
        DEPOSIT_SUCCESS_URL: '/payment/xingchencallback/deposit',
        WITHDRAWAL_SUCCESS_URL: '/payment/xingchencallback/withdraw',
        DEPOSIT_MINAMOUNT_ERROR_CODE: 115,
        WITHDRAW_MINAMOUNT_ERROR_CODE: 109,
        DEFAULT_ERROR_CODE: -1,
        DEPOSIT_FROZEN_CODE: [111],
        WITHDRAW_FROZEN_CODE: [111],
    },
    uzpay: {
        DEPOSIT_SUCCESS_URL: '/payment/uzpaycallback/deposit',
        WITHDRAWAL_SUCCESS_URL: '/payment/uzpaycallback/withdraw',
        DEPOSIT_MINAMOUNT_ERROR_CODE: 102,
        WITHDRAW_MINAMOUNT_ERROR_CODE: 204,
        DEFAULT_ERROR_CODE: -1,
        OTHER_BANKFLAG: '',
        DEPOSIT_FROZEN_CODE: [104, 106],
        WITHDRAW_FROZEN_CODE: [205],
    },
    sdd: {
        DEPOSIT_SUCCESS_URL: '/payment/sddcallback/deposit',
        WITHDRAWAL_SUCCESS_URL: '/payment/sddcallback/withdraw',
        DEPOSIT_MINAMOUNT_ERROR_CODE: 100,
        WITHDRAW_MINAMOUNT_ERROR_CODE: 200,
        DEFAULT_ERROR_CODE: -1,
    },
    hengxin: {
        DEPOSIT_SUCCESS_URL: '/payment/hengxincallback/deposit',
        WITHDRAWAL_SUCCESS_URL: '/payment/hengxincallback/withdraw',
        remarks: 'xxRemarks',
        DEFAULT_ERROR_CODE: -1,
        DEPOSIT_FROZEN_CODE: [],
        WITHDRAW_FROZEN_CODE: [556, 559, 562],
    },
    jbp: {
        DEPOSIT_SUCCESS_URL: '/payment/jbpcallback/deposit',
        WITHDRAWAL_SUCCESS_URL: '/payment/jbpcallback/withdraw',
        DEFAULT_ERROR_CODE: -1,
        DEPOSIT_FROZEN_CODE: [6020],
        WITHDRAW_FROZEN_CODE: [6020],
    },
    bisa: {
        DEPOSIT_SUCCESS_URL: '/payment/bisacallback/deposit',
        WITHDRAWAL_SUCCESS_URL: '/payment/bisacallback/withdraw',
        DEFAULT_ERROR_CODE: -1,
        DEPOSIT_FROZEN_CODE: [],
        WITHDRAW_FROZEN_CODE: [],
    },
}));


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/d1f/d1f.payment.provider.controller.ts":
/*!********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/d1f/d1f.payment.provider.controller.ts ***!
  \********************************************************************************************************/
/*! exports provided: D1FPaymentProviderController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "D1FPaymentProviderController", function() { return D1FPaymentProviderController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _d1f_payment_provider_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./d1f.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/d1f/d1f.payment.provider.service.ts");
/* harmony import */ var _dto_d1f_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dto/d1f.deposit.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/d1f/dto/d1f.deposit.status.response.dto.ts");
/* harmony import */ var _decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../decorators/request.ip.decorators */ "./apps/backend/src/app/decorators/request.ip.decorators.ts");
/* harmony import */ var _dto_d1f_withdraw_status_response__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./dto/d1f.withdraw.status.response */ "./apps/backend/src/app/payment/providers/payment-provider/d1f/dto/d1f.withdraw.status.response.ts");
var _a, _b, _c, _d, _e;








let D1FPaymentProviderController = class D1FPaymentProviderController {
    constructor(d1fPaymentProviderService) {
        this.d1fPaymentProviderService = d1fPaymentProviderService;
    }
    depositCallback(paymentStatusResponse, ip) {
        return this.d1fPaymentProviderService.depositCallback(paymentStatusResponse, ip);
    }
    withdrawCallback(paymentStatusResponse, ip) {
        return this.d1fPaymentProviderService.withdrawCallback(paymentStatusResponse, ip);
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].d1fcallbackDeposit),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiConsumes"])('application/x-www-form-urlencoded'),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].paymentEndpoints),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({ description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].depositD1FCallback }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_6__["RequestIpAddress"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _dto_d1f_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__["D1FDepositStatusResponseDto"] !== "undefined" && _dto_d1f_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__["D1FDepositStatusResponseDto"]) === "function" ? _a : Object, String]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_b = typeof Promise !== "undefined" && Promise) === "function" ? _b : Object)
], D1FPaymentProviderController.prototype, "depositCallback", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].d1fcallbackWithdraw),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiConsumes"])('application/x-www-form-urlencoded'),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].paymentEndpoints),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({ description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].withdrawD1FCallback }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_6__["RequestIpAddress"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_c = typeof _dto_d1f_withdraw_status_response__WEBPACK_IMPORTED_MODULE_7__["D1FWithdrawStatusResponseDto"] !== "undefined" && _dto_d1f_withdraw_status_response__WEBPACK_IMPORTED_MODULE_7__["D1FWithdrawStatusResponseDto"]) === "function" ? _c : Object, String]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_d = typeof Promise !== "undefined" && Promise) === "function" ? _d : Object)
], D1FPaymentProviderController.prototype, "withdrawCallback", null);
D1FPaymentProviderController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].payment),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_e = typeof _d1f_payment_provider_service__WEBPACK_IMPORTED_MODULE_4__["D1FPaymentProviderService"] !== "undefined" && _d1f_payment_provider_service__WEBPACK_IMPORTED_MODULE_4__["D1FPaymentProviderService"]) === "function" ? _e : Object])
], D1FPaymentProviderController);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/d1f/d1f.payment.provider.service.ts":
/*!*****************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/d1f/d1f.payment.provider.service.ts ***!
  \*****************************************************************************************************/
/*! exports provided: D1FDepositStatusEnum, D1FDepositCallbackResultEnum, D1FWithdrawCallbackResultEnum, D1FPaymentProviderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "D1FDepositStatusEnum", function() { return D1FDepositStatusEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "D1FDepositCallbackResultEnum", function() { return D1FDepositCallbackResultEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "D1FWithdrawCallbackResultEnum", function() { return D1FWithdrawCallbackResultEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "D1FPaymentProviderService", function() { return D1FPaymentProviderService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! moment */ "moment");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var mobile_detect__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! mobile-detect */ "mobile-detect");
/* harmony import */ var mobile_detect__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(mobile_detect__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! md5 */ "md5");
/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(md5__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../order/deposit-order/deposit.order.service */ "./apps/backend/src/app/payment/order/deposit-order/deposit.order.service.ts");
/* harmony import */ var _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../order/deposit-pending-order/deposit.pending.order.service */ "./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.service.ts");
/* harmony import */ var _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../order/withdraw-order/withdraw.order.service */ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.service.ts");
/* harmony import */ var _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../order/withdraw-pending-order/withdraw.pending.order.service */ "./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.service.ts");
/* harmony import */ var _payment_exception__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../payment.exception */ "./apps/backend/src/app/payment/payment.exception.ts");
/* harmony import */ var _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../payment-provider-bank/payment.provider.bank.service */ "./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.service.ts");
/* harmony import */ var _payment_provider_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.service.ts");
/* harmony import */ var _dto_d1f_deposit_request_params__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./dto/d1f.deposit.request.params */ "./apps/backend/src/app/payment/providers/payment-provider/d1f/dto/d1f.deposit.request.params.ts");
/* harmony import */ var _dto_d1f_deposit_result__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./dto/d1f.deposit.result */ "./apps/backend/src/app/payment/providers/payment-provider/d1f/dto/d1f.deposit.result.ts");
/* harmony import */ var _channel_channel_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../channel/channel.service */ "./apps/backend/src/app/payment/channel/channel.service.ts");
/* harmony import */ var _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../payment-provider-channel/payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");
/* harmony import */ var _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../betContruct/betConstruct.service */ "./apps/backend/src/app/payment/betContruct/betConstruct.service.ts");
/* harmony import */ var _bank_bank_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../bank/bank.service */ "./apps/backend/src/app/payment/bank/bank.service.ts");
/* harmony import */ var _dto_d1f_withdraw_result_params__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./dto/d1f.withdraw.result.params */ "./apps/backend/src/app/payment/providers/payment-provider/d1f/dto/d1f.withdraw.result.params.ts");
/* harmony import */ var _dto_d1f_withdraw_request_parapms__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./dto/d1f.withdraw.request.parapms */ "./apps/backend/src/app/payment/providers/payment-provider/d1f/dto/d1f.withdraw.request.parapms.ts");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_24__);
/* harmony import */ var _models_test_entity__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../models/test.entity */ "./apps/backend/src/app/models/test.entity.ts");
/* harmony import */ var _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../payment-provider-card/payment.provider.card.service */ "./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.service.ts");
/* harmony import */ var _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../payment-provider-entity/Payment.provider.entity.service */ "./apps/backend/src/app/payment/providers/payment-provider-entity/Payment.provider.entity.service.ts");
/* harmony import */ var _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../payment-provider-shared/payment.provider.shared.service */ "./apps/backend/src/app/payment/providers/payment-provider-shared/payment.provider.shared.service.ts");
/* harmony import */ var _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../payment-provider-usdt-protocol/payment.provider.usdt.proto.service */ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.service.ts");
/* harmony import */ var _options_options_service__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../options/options.service */ "./apps/backend/src/app/options/options.service.ts");
/* harmony import */ var _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../../error/enums/errorCodeEnum */ "./apps/backend/src/app/error/enums/errorCodeEnum.ts");
var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;
































var D1FDepositStatusEnum;
(function (D1FDepositStatusEnum) {
    D1FDepositStatusEnum["SUCCESS"] = "SUCCESS";
})(D1FDepositStatusEnum || (D1FDepositStatusEnum = {}));
var D1FDepositCallbackResultEnum;
(function (D1FDepositCallbackResultEnum) {
    D1FDepositCallbackResultEnum["SUCCESS"] = "SUCCESS";
    D1FDepositCallbackResultEnum["FAILED"] = "FAILED";
})(D1FDepositCallbackResultEnum || (D1FDepositCallbackResultEnum = {}));
var D1FWithdrawCallbackResultEnum;
(function (D1FWithdrawCallbackResultEnum) {
    D1FWithdrawCallbackResultEnum["SUCCESS"] = "SUCCESS";
    D1FWithdrawCallbackResultEnum["FAILED"] = "FAILED";
})(D1FWithdrawCallbackResultEnum || (D1FWithdrawCallbackResultEnum = {}));
let D1FPaymentProviderService = class D1FPaymentProviderService extends _payment_provider_service__WEBPACK_IMPORTED_MODULE_15__["PaymentProviderService"] {
    constructor(configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, payProviderEntityService, paymentProviderSharedService, sequelize, betConstructService, optionsService, httpService, testRepository) {
        super(configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, payProviderEntityService, paymentProviderSharedService, sequelize, betConstructService, optionsService);
        this.configService = configService;
        this.channelService = channelService;
        this.bankService = bankService;
        this.depositPendingOrderService = depositPendingOrderService;
        this.depositOrderService = depositOrderService;
        this.withdrawPendingOrderService = withdrawPendingOrderService;
        this.withdrawOrderService = withdrawOrderService;
        this.paymentProviderChannelService = paymentProviderChannelService;
        this.paymentProviderBankService = paymentProviderBankService;
        this.paymentProviderUsdtProtoService = paymentProviderUsdtProtoService;
        this.paymentProviderCardService = paymentProviderCardService;
        this.payProviderEntityService = payProviderEntityService;
        this.paymentProviderSharedService = paymentProviderSharedService;
        this.sequelize = sequelize;
        this.betConstructService = betConstructService;
        this.optionsService = optionsService;
        this.httpService = httpService;
        this.testRepository = testRepository;
    }
    getPaymentProviderEnum() {
        return _workspace_enums__WEBPACK_IMPORTED_MODULE_8__["PaymentProviderEnum"].D1F;
    }
    isAvailable() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return true;
            // const host = this.configService.get<string>('D1F_HOST');
            // const url_available = this.configService.get<string>('D1F_AVAILABLE_URL');
            // try {
            //   const response = await this.httpService
            //     .post(`https://${host}/${url_available}`, {})
            //     .toPromise();
            //   return response.status === 200;
            // } catch (error) {
            //   return false;
            // }
        });
    }
    depositErrorFactory(error) {
        return _dto_d1f_deposit_result__WEBPACK_IMPORTED_MODULE_17__["D1FDepositResult"].errorFactory(error, this.getPaymentProviderName(), this.configService.get('d1f.DEFAULT_ERROR_CODE'));
    }
    withdrawErrorFactory(error) {
        return _dto_d1f_withdraw_result_params__WEBPACK_IMPORTED_MODULE_22__["D1FWithdrawResult"].errorFactory(error, this.getPaymentProviderName(), this.configService.get('d1f.DEFAULT_ERROR_CODE'));
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Implement Deposit Procedure
    ////////////////////////////////////////////////////////////////////////////////
    depositByPaymentProviderChannel(depositRequest, paymentProviderChannel, paymentProviderUsdtProto, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const channelDepositResultBundle = new _payment_provider_service__WEBPACK_IMPORTED_MODULE_15__["PaymentProviderChannelDepositResultBundle"]();
            let depositResult;
            let order;
            const channelDepositResultDefault = { providerName: this.getPaymentProviderName() };
            order = yield this.createOrderBeforeDeposit(depositRequest, paymentProviderChannel, transaction);
            if (!order) {
                return {
                    depositResult: Object.assign(Object.assign({}, channelDepositResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_31__["ErrorCodeEnum"].DEPOSIT_PROVIDER_ORDER_NOT_CREATED }),
                    order: null
                };
            }
            const channel = yield this.channelService.findById(paymentProviderChannel.channelId);
            if (!channel) {
                return {
                    depositResult: Object.assign(Object.assign({}, channelDepositResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_31__["ErrorCodeEnum"].DEPOSIT_PROVIDER_CHANNEL_NOT_FOUND }),
                    order
                };
            }
            const params = new _dto_d1f_deposit_request_params__WEBPACK_IMPORTED_MODULE_16__["D1FDepositRequestParams"]();
            params.customerno = this.configService.get('D1F_CUSTOMERNO');
            params.channeltype = paymentProviderChannel.providerChannelName;
            params.customerbillno = order.orderId;
            params.orderamount = numeral__WEBPACK_IMPORTED_MODULE_3__(order.amount).format('0.00');
            params.customerbilltime = moment__WEBPACK_IMPORTED_MODULE_4__().format('YYYY-MM-DD HH:mm:ss');
            params.notifyurl =
                this.getBaseUrl(depositRequest.headers['host']) +
                    this.configService.get('d1f.DEPOSIT_SUCCESS_URL');
            params.returnurl = `https://${this.configService.get('FRONTEND_HOST')}/`;
            params.ip = depositRequest.ip;
            if (channel.fromPaymentSystem.isBank && channel.toPaymentSystem.isBank) {
                const paymentProviderBank = yield this.getPaymentProviderBank(depositRequest.bankCode);
                if (!paymentProviderBank) {
                    throw new _payment_exception__WEBPACK_IMPORTED_MODULE_13__["NotSupportedBank"]();
                }
                params.bankcode = paymentProviderBank.paymentProviderBankCode;
            }
            const user_agent = depositRequest.headers['user-agent'];
            const md = new mobile_detect__WEBPACK_IMPORTED_MODULE_5__(user_agent);
            params.devicetype = md.mobile() ? 'mobile' : 'pc';
            params.customeruser = order.userId;
            params.customerextinfo = '';
            const key = this.configService.get('D1F_KEY');
            params.sign = this.getDepositRequestSign(params, key);
            const host = this.configService.get('D1F_HOST');
            const url = this.configService.get('D1F_DEPOSIT_URL');
            const response = yield this.httpService
                .post(`https://${host}/${url}`, params)
                .toPromise();
            depositResult = _dto_d1f_deposit_result__WEBPACK_IMPORTED_MODULE_17__["D1FChannelDepositResult"].responseFactory(response, this.getPaymentProviderName(), this.configService.get('d1f.DEFAULT_ERROR_CODE'));
            if (!depositResult) {
                return null;
            }
            depositResult.channelRequestTime = moment__WEBPACK_IMPORTED_MODULE_4__()
                .utcOffset('+08:00')
                .format('YYYY-MM-DD HH:mm:ss');
            depositResult.channelRequestJson = JSON.stringify(params);
            depositResult.channelResponseJson = JSON.stringify(response.data);
            if (!depositResult.result) {
                depositResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_31__["ErrorCodeEnum"].DEPOSIT_PROVIDER_FAILED;
            }
            channelDepositResultBundle.depositResult = depositResult;
            channelDepositResultBundle.order = order;
            return channelDepositResultBundle;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Deposit Callback
    ////////////////////////////////////////////////////////////////////////////////
    depositCallback(depositStatusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!(yield this.beforeDepositCallback(depositStatusResponse, ip))) {
                return D1FDepositCallbackResultEnum.FAILED;
            }
            const key = this.configService.get('D1F_KEY');
            const sign = this.getPaymentStatusResponseSign(depositStatusResponse, key);
            if (sign !== depositStatusResponse.sign) {
                return D1FDepositCallbackResultEnum.FAILED;
            }
            const order = yield this.depositPendingOrderService.findByOrderId(depositStatusResponse.customerbillno);
            if (!order) {
                return D1FDepositCallbackResultEnum.FAILED;
            }
            if (numeral__WEBPACK_IMPORTED_MODULE_3__(depositStatusResponse.orderamount).value() !==
                numeral__WEBPACK_IMPORTED_MODULE_3__(order.amount).value()) {
                return D1FDepositCallbackResultEnum.FAILED;
            }
            order.status = this.getOrderStatusByDepositStatus(depositStatusResponse.paystatus);
            order.providerOrderId = depositStatusResponse.orderno;
            if (order.status === _workspace_enums__WEBPACK_IMPORTED_MODULE_8__["OrderStatusEnum"].SUCCESS) {
                const bcOrder = yield this.depositBCAfterDepositCallback(order);
            }
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    yield this.updateOrderAfterDepositCallback(order, transaction);
                }));
            }
            catch (error) {
                return D1FDepositCallbackResultEnum.FAILED;
            }
            return D1FDepositCallbackResultEnum.SUCCESS;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Implement Withdraw Procedure
    ////////////////////////////////////////////////////////////////////////////////
    withdrawByPaymentProviderChannel(withdrawRequest, paymentProviderChannel, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const withdrawProcResult = new _payment_provider_service__WEBPACK_IMPORTED_MODULE_15__["PaymentProviderChannelWithdrawResultBundle"]();
            let withdrawResult;
            const channelWithdrawResultDefault = { providerName: this.getPaymentProviderName() };
            const order = yield this.createOrderBeforeWithdraw(withdrawRequest, transaction);
            if (!order) {
                return {
                    withdrawResult: Object.assign(Object.assign({}, channelWithdrawResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_31__["ErrorCodeEnum"].WITHDRAW_PROVIDER_ORDER_NOT_CREATED }),
                    order: null
                };
            }
            const paymentProviderBank = yield this.getPaymentProviderBank(withdrawRequest.bankCode);
            if (!paymentProviderBank) {
                return {
                    withdrawResult: Object.assign(Object.assign({}, channelWithdrawResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_31__["ErrorCodeEnum"].DEPOSIT_PROVIDER_ORDER_NOT_CREATED }),
                    order
                };
            }
            const params = new _dto_d1f_withdraw_request_parapms__WEBPACK_IMPORTED_MODULE_23__["D1FWithdrawRequestParams"]();
            params.customerNo = this.configService.get('D1F_CUSTOMERNO');
            params.customerBillNo = order.orderId;
            params.orderAmount = withdrawRequest.amount;
            params.bankAccountName = withdrawRequest.bankAccountName;
            params.bankAccountNo = withdrawRequest.bankAccountNumber;
            params.bankBranchName =
                !withdrawRequest.branch || !withdrawRequest.branch.trim()
                    ? paymentProviderBank.paymentProviderBankName
                    : withdrawRequest.branch;
            params.bankCode = paymentProviderBank.paymentProviderBankCode;
            params.city = withdrawRequest.city;
            params.province = withdrawRequest.province;
            params.sign = this.getWithdrawRequestSign(params, this.configService.get('D1F_KEY'));
            const host = this.configService.get('D1F_HOST');
            const url = this.configService.get('D1F_WITHDRAWAL_URL');
            const response = yield this.httpService
                .post(`http://${host}/${url}`, params)
                .toPromise();
            // console.log(response.data);
            withdrawResult = _dto_d1f_withdraw_result_params__WEBPACK_IMPORTED_MODULE_22__["D1FChannelWithdrawResult"].responseFactory(response, this.getPaymentProviderName());
            if (!withdrawResult.result) {
                withdrawResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_31__["ErrorCodeEnum"].WITHDRAW_PROVIDER_FAILED;
            }
            withdrawProcResult.withdrawResult = withdrawResult;
            withdrawProcResult.order = order;
            return withdrawProcResult;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Withdraw Callback
    ////////////////////////////////////////////////////////////////////////////////
    withdrawCallback(withdrawStatusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.testRepository.create({
                a: JSON.stringify(withdrawStatusResponse),
            });
            if (!(yield this.beforeWithdrawCallback(withdrawStatusResponse, ip))) {
                return D1FWithdrawCallbackResultEnum.FAILED;
            }
            const key = this.configService.get('D1F_KEY');
            const sign = this.getPaymentStatusResponseSign(withdrawStatusResponse, key);
            if (sign.toUpperCase() !== withdrawStatusResponse.sign.toUpperCase()) {
                return D1FWithdrawCallbackResultEnum.FAILED;
            }
            const order = yield this.withdrawPendingOrderService.findByOrderId(withdrawStatusResponse.customerbillno);
            if (!order) {
                return D1FWithdrawCallbackResultEnum.FAILED;
            }
            if (numeral__WEBPACK_IMPORTED_MODULE_3__(withdrawStatusResponse.orderamount).value() !==
                numeral__WEBPACK_IMPORTED_MODULE_3__(order.amount).value()) {
                return D1FWithdrawCallbackResultEnum.FAILED;
            }
            order.status = this.getOrderStatusByWithdrawStatus(withdrawStatusResponse.paystatus);
            order.providerOrderId = withdrawStatusResponse.orderno;
            if (order.status ===
                _workspace_enums__WEBPACK_IMPORTED_MODULE_8__["OrderStatusEnum"].SUCCESS /* ||
            order.status === OrderStatusEnum.FAILED */) {
                yield this.withdrawBCAfterWithdrawCallback(order);
            }
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    yield this.updateOrderAfterWithdrawCallback(order, transaction);
                }));
            }
            catch (error) {
                return D1FWithdrawCallbackResultEnum.FAILED;
            }
            return D1FWithdrawCallbackResultEnum.SUCCESS;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Deposit Request Sign
    ////////////////////////////////////////////////////////////////////////////////
    getDepositRequestSign(params, key) {
        const txtSource = `${params.bankcode ? 'bankcode=' + params.bankcode + '&' : ''}` +
            `channeltype=${params.channeltype}` +
            `&customerbillno=${params.customerbillno}` +
            `&customerbilltime=${params.customerbilltime}` +
            `&customerno=${params.customerno}` +
            `&customeruser=${params.customeruser}` +
            `&devicetype=${params.devicetype}` +
            `&ip=${params.ip}` +
            `&notifyurl=${params.notifyurl}` +
            `&orderamount=${params.orderamount}` +
            `&returnurl=${params.returnurl}` +
            `&key=${key}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_6__(txtSource);
        return txtDecryption;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Withdraw Request Sign
    ////////////////////////////////////////////////////////////////////////////////
    getWithdrawRequestSign(params, key) {
        const txtSource = `bankAccountName=${params.bankAccountName}` +
            `&bankAccountNo=${params.bankAccountNo}` +
            (params.bankBranchName
                ? `&bankBranchName=${params.bankBranchName}`
                : '') +
            `&bankCode=${params.bankCode}` +
            `&city=${params.city}` +
            `&customerBillNo=${params.customerBillNo}` +
            `&customerNo=${params.customerNo}` +
            `&orderAmount=${params.orderAmount}` +
            `&province=${params.province}` +
            `&key=${key}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_6__(txtSource);
        return txtDecryption;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Payment Status Sign
    ////////////////////////////////////////////////////////////////////////////////
    getPaymentStatusResponseSign(paymentStatus, key) {
        const txtSource = `customerbillno=${paymentStatus.customerbillno}` +
            `&customerbilltime=${paymentStatus.customerbilltime}` +
            (paymentStatus.customerextinfo.length > 0
                ? `&customerextinfo=${paymentStatus.customerextinfo}`
                : '') +
            `&customerno=${paymentStatus.customerno}` +
            `&orderamount=${paymentStatus.orderamount}` +
            `&orderno=${paymentStatus.orderno}` +
            `&paystatus=${paymentStatus.paystatus}` +
            (paymentStatus.preorderamount.length > 0
                ? `&preorderamount=${paymentStatus.preorderamount}`
                : '') +
            `&key=${key}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_6__(txtSource);
        return txtDecryption;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get OrderStatus By DepositStatus
    ////////////////////////////////////////////////////////////////////////////////
    getOrderStatusByDepositStatus(argDepositStatus) {
        let orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_8__["OrderStatusEnum"].NEW;
        const depositStatus = argDepositStatus;
        switch (depositStatus) {
            case D1FDepositStatusEnum.SUCCESS:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_8__["OrderStatusEnum"].SUCCESS;
                break;
            default:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_8__["OrderStatusEnum"].FAILED;
                break;
        }
        return orderStatus;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get OrderStatus By WithdrawStatus
    ////////////////////////////////////////////////////////////////////////////////
    getOrderStatusByWithdrawStatus(argWithdrawStatus) {
        const orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_8__["OrderStatusEnum"].NEW;
        const withdrawStatus = argWithdrawStatus;
        switch (withdrawStatus) {
        }
        return orderStatus;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Frozen Status By Channel DepositResult
    ////////////////////////////////////////////////////////////////////////////////
    getFrozenByChannelDepositResult(paymentProviderChannel, depositRequest, depositResult) {
        const errorCode = depositResult
            ? numeral__WEBPACK_IMPORTED_MODULE_3__(depositResult.errorCode).value()
            : null;
        if (errorCode === null) {
            return false;
        }
        const frozenCodes = this.configService.get('d1f.DEPOSIT_FROZEN_CODE') || [];
        return (frozenCodes.filter((frozenCode) => frozenCode === errorCode).length > 0);
    }
};
D1FPaymentProviderService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(17, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_24__["InjectModel"])(_models_test_entity__WEBPACK_IMPORTED_MODULE_25__["TestModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"]) === "function" ? _a : Object, typeof (_b = typeof _channel_channel_service__WEBPACK_IMPORTED_MODULE_18__["ChannelService"] !== "undefined" && _channel_channel_service__WEBPACK_IMPORTED_MODULE_18__["ChannelService"]) === "function" ? _b : Object, typeof (_c = typeof _bank_bank_service__WEBPACK_IMPORTED_MODULE_21__["BankService"] !== "undefined" && _bank_bank_service__WEBPACK_IMPORTED_MODULE_21__["BankService"]) === "function" ? _c : Object, typeof (_d = typeof _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_10__["DepositPendingOrderService"] !== "undefined" && _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_10__["DepositPendingOrderService"]) === "function" ? _d : Object, typeof (_e = typeof _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_9__["DepositOrderService"] !== "undefined" && _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_9__["DepositOrderService"]) === "function" ? _e : Object, typeof (_f = typeof _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_12__["WithdrawPendingOrderService"] !== "undefined" && _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_12__["WithdrawPendingOrderService"]) === "function" ? _f : Object, typeof (_g = typeof _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_11__["WithdrawOrderService"] !== "undefined" && _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_11__["WithdrawOrderService"]) === "function" ? _g : Object, typeof (_h = typeof _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_19__["PaymentProviderChannelService"] !== "undefined" && _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_19__["PaymentProviderChannelService"]) === "function" ? _h : Object, typeof (_j = typeof _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_14__["PaymentProviderBankService"] !== "undefined" && _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_14__["PaymentProviderBankService"]) === "function" ? _j : Object, typeof (_k = typeof _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_29__["PaymentProviderUsdtProtoService"] !== "undefined" && _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_29__["PaymentProviderUsdtProtoService"]) === "function" ? _k : Object, typeof (_l = typeof _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_26__["PaymentProviderCardService"] !== "undefined" && _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_26__["PaymentProviderCardService"]) === "function" ? _l : Object, typeof (_m = typeof _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_27__["PaymentProviderEntityService"] !== "undefined" && _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_27__["PaymentProviderEntityService"]) === "function" ? _m : Object, typeof (_o = typeof _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_28__["PaymentProviderSharedService"] !== "undefined" && _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_28__["PaymentProviderSharedService"]) === "function" ? _o : Object, typeof (_p = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_7__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_7__["Sequelize"]) === "function" ? _p : Object, typeof (_q = typeof _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_20__["BetConstructService"] !== "undefined" && _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_20__["BetConstructService"]) === "function" ? _q : Object, typeof (_r = typeof _options_options_service__WEBPACK_IMPORTED_MODULE_30__["OptionsService"] !== "undefined" && _options_options_service__WEBPACK_IMPORTED_MODULE_30__["OptionsService"]) === "function" ? _r : Object, typeof (_s = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpService"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpService"]) === "function" ? _s : Object, Object])
], D1FPaymentProviderService);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/d1f/dto/d1f.deposit.request.params.ts":
/*!*******************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/d1f/dto/d1f.deposit.request.params.ts ***!
  \*******************************************************************************************************/
/*! exports provided: D1FDepositRequestParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "D1FDepositRequestParams", function() { return D1FDepositRequestParams; });
class D1FDepositRequestParams {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/d1f/dto/d1f.deposit.result.ts":
/*!***********************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/d1f/dto/d1f.deposit.result.ts ***!
  \***********************************************************************************************/
/*! exports provided: D1FDepositResult, D1FDepositResultData, D1FChannelDepositResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "D1FDepositResult", function() { return D1FDepositResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "D1FDepositResultData", function() { return D1FDepositResultData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "D1FChannelDepositResult", function() { return D1FChannelDepositResult; });
/* harmony import */ var _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../payment.provider.deposit.result */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.deposit.result.ts");

class D1FDepositResult extends _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderDepositResult"] {
}
class D1FDepositResultData extends _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderDepositResultData"] {
    static responseFactory(data) {
        const depositResultData = new D1FDepositResultData();
        depositResultData.url = depositResultData.responseUrl = data.responseUrl;
        return depositResultData;
    }
}
class D1FChannelDepositResult extends _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderChannelDepositResult"] {
    static getErrorCodeByMsg(errorMsg) {
        if (/^/.test(errorMsg)) {
            return '101';
        }
        return '-1';
    }
    static responseFactory(response, providerName, defaultErrorCode) {
        const depositResult = new D1FChannelDepositResult();
        depositResult.result = false;
        const { Result, ResultMsg } = response.data || {};
        depositResult.errorCode = `${defaultErrorCode}`;
        depositResult.errorMessage = ResultMsg || 'Unknown';
        depositResult.providerName = providerName;
        if (response.status !== 200) {
            depositResult.errorCode = D1FChannelDepositResult.getErrorCodeByMsg(ResultMsg);
            return depositResult;
        }
        console.log(response.data);
        const { res, _redirectable } = response.request || {};
        if (!res || !_redirectable) {
            depositResult.errorCode = D1FChannelDepositResult.getErrorCodeByMsg(ResultMsg);
            return depositResult;
        }
        const { responseUrl } = res;
        if (!responseUrl) {
            depositResult.errorCode = D1FChannelDepositResult.getErrorCodeByMsg(ResultMsg);
            return depositResult;
        }
        const { _redirectCount } = _redirectable || {};
        if (!_redirectCount || _redirectCount < 1) {
            depositResult.errorCode = D1FChannelDepositResult.getErrorCodeByMsg(ResultMsg);
            return depositResult;
        }
        depositResult.result = true;
        depositResult.errorCode = '';
        depositResult.errorMessage = null;
        depositResult.data = D1FDepositResultData.responseFactory({
            responseUrl,
        });
        return depositResult;
    }
    static errorFactory(error, providerName, defaultErrorCode) {
        const result = new D1FChannelDepositResult();
        result.result = false;
        result.providerName = providerName;
        const { status, message } = error;
        result.errorMessage = message || 'Unknown Error';
        result.errorCode = defaultErrorCode;
        //result.errorCode = status;
        result.error = error;
        return result;
    }
    sanitizePaymentProviderDepositResult() {
        if (!this.result || !this.data) {
            return this;
        }
        const data = this.data;
        delete data.responseUrl;
        return this;
    }
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/d1f/dto/d1f.deposit.status.response.dto.ts":
/*!************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/d1f/dto/d1f.deposit.status.response.dto.ts ***!
  \************************************************************************************************************/
/*! exports provided: D1FDepositStatusResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "D1FDepositStatusResponseDto", function() { return D1FDepositStatusResponseDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../payment.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/payment.status.response.dto.ts");




class D1FDepositStatusResponseDto extends _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_3__["PaymentStatusResponseDto"] {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], D1FDepositStatusResponseDto.prototype, "orderno", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], D1FDepositStatusResponseDto.prototype, "customerno", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], D1FDepositStatusResponseDto.prototype, "customerbillno", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], D1FDepositStatusResponseDto.prototype, "customerbilltime", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], D1FDepositStatusResponseDto.prototype, "preorderamount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], D1FDepositStatusResponseDto.prototype, "orderamount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], D1FDepositStatusResponseDto.prototype, "paystatus", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], D1FDepositStatusResponseDto.prototype, "customerextinfo", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], D1FDepositStatusResponseDto.prototype, "sign", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/d1f/dto/d1f.withdraw.request.parapms.ts":
/*!*********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/d1f/dto/d1f.withdraw.request.parapms.ts ***!
  \*********************************************************************************************************/
/*! exports provided: D1FWithdrawRequestParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "D1FWithdrawRequestParams", function() { return D1FWithdrawRequestParams; });
class D1FWithdrawRequestParams {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/d1f/dto/d1f.withdraw.result.params.ts":
/*!*******************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/d1f/dto/d1f.withdraw.result.params.ts ***!
  \*******************************************************************************************************/
/*! exports provided: D1FWithdrawResult, D1FChannelWithdrawResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "D1FWithdrawResult", function() { return D1FWithdrawResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "D1FChannelWithdrawResult", function() { return D1FChannelWithdrawResult; });
/* harmony import */ var _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../payment.provider.withdraw.result */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.withdraw.result.ts");

class D1FWithdrawResult extends _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderWithdrawResult"] {
}
class D1FChannelWithdrawResult extends _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderChannelWithdrawResult"] {
    static responseFactory(response, providerName) {
        const withdrawResult = new D1FChannelWithdrawResult();
        withdrawResult.result = false;
        withdrawResult.providerName = providerName;
        const { code, message } = response.data || {};
        if (code !== 200) {
            withdrawResult.errorCode = code;
            withdrawResult.errorMessage = message;
            return withdrawResult;
        }
        withdrawResult.result = true;
        return withdrawResult;
    }
    static errorFactory(error, providerName, defaultErrorCode) {
        const result = new D1FChannelWithdrawResult();
        result.result = false;
        result.providerId = null;
        result.providerName = providerName;
        const { message } = error;
        result.errorMessage = message || 'Unknown Error';
        result.errorCode = defaultErrorCode;
        result.error = error;
        return result;
    }
    sanitizePaymentProviderWithdrawResult() {
        delete this.providerId;
        return this;
    }
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/d1f/dto/d1f.withdraw.status.response.ts":
/*!*********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/d1f/dto/d1f.withdraw.status.response.ts ***!
  \*********************************************************************************************************/
/*! exports provided: D1FWithdrawStatusResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "D1FWithdrawStatusResponseDto", function() { return D1FWithdrawStatusResponseDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../payment.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/payment.status.response.dto.ts");




class D1FWithdrawStatusResponseDto extends _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_3__["PaymentStatusResponseDto"] {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], D1FWithdrawStatusResponseDto.prototype, "orderno", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], D1FWithdrawStatusResponseDto.prototype, "customerno", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], D1FWithdrawStatusResponseDto.prototype, "customerbillno", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], D1FWithdrawStatusResponseDto.prototype, "customerbilltime", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], D1FWithdrawStatusResponseDto.prototype, "preorderamount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], D1FWithdrawStatusResponseDto.prototype, "orderamount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], D1FWithdrawStatusResponseDto.prototype, "paystatus", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], D1FWithdrawStatusResponseDto.prototype, "customerextinfo", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], D1FWithdrawStatusResponseDto.prototype, "sign", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/dbpay/dbpay.payment.provider.service.ts":
/*!*********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/dbpay/dbpay.payment.provider.service.ts ***!
  \*********************************************************************************************************/
/*! exports provided: DBPayPaymentProviderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DBPayPaymentProviderService", function() { return DBPayPaymentProviderService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../betContruct/betConstruct.service */ "./apps/backend/src/app/payment/betContruct/betConstruct.service.ts");
/* harmony import */ var _channel_channel_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../channel/channel.service */ "./apps/backend/src/app/payment/channel/channel.service.ts");
/* harmony import */ var _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../order/deposit-order/deposit.order.service */ "./apps/backend/src/app/payment/order/deposit-order/deposit.order.service.ts");
/* harmony import */ var _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../order/deposit-pending-order/deposit.pending.order.service */ "./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.service.ts");
/* harmony import */ var _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../order/withdraw-order/withdraw.order.service */ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.service.ts");
/* harmony import */ var _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../order/withdraw-pending-order/withdraw.pending.order.service */ "./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.service.ts");
/* harmony import */ var _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../payment-provider-bank/payment.provider.bank.service */ "./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.service.ts");
/* harmony import */ var _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../payment-provider-channel/payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");
/* harmony import */ var _bank_bank_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../bank/bank.service */ "./apps/backend/src/app/payment/bank/bank.service.ts");
/* harmony import */ var _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../payment-provider-card/payment.provider.card.service */ "./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.service.ts");
/* harmony import */ var _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../payment-provider-entity/Payment.provider.entity.service */ "./apps/backend/src/app/payment/providers/payment-provider-entity/Payment.provider.entity.service.ts");
/* harmony import */ var _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../payment-provider-shared/payment.provider.shared.service */ "./apps/backend/src/app/payment/providers/payment-provider-shared/payment.provider.shared.service.ts");
/* harmony import */ var _card_payment_provider_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../card.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/card.payment.provider.service.ts");
/* harmony import */ var _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../payment-provider-usdt-protocol/payment.provider.usdt.proto.service */ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.service.ts");
/* harmony import */ var _options_options_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../options/options.service */ "./apps/backend/src/app/options/options.service.ts");
var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;




















let DBPayPaymentProviderService = class DBPayPaymentProviderService extends _card_payment_provider_service__WEBPACK_IMPORTED_MODULE_17__["CardPaymentProviderService"] {
    constructor(
    // @InjectModel(BankModel)
    // protected bankRepository: typeof BankModel,
    configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, payProviderEntityService, paymentProviderSharedService, sequelize, betConstructService, optionsService, httpService // @InjectModel(TestModel) // protected testRepository: typeof TestModel
    ) {
        super(
        //bankRepository,
        configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, payProviderEntityService, paymentProviderSharedService, sequelize, betConstructService, optionsService, httpService
        //testRepository
        );
        this.configService = configService;
        this.channelService = channelService;
        this.bankService = bankService;
        this.depositPendingOrderService = depositPendingOrderService;
        this.depositOrderService = depositOrderService;
        this.withdrawPendingOrderService = withdrawPendingOrderService;
        this.withdrawOrderService = withdrawOrderService;
        this.paymentProviderChannelService = paymentProviderChannelService;
        this.paymentProviderBankService = paymentProviderBankService;
        this.paymentProviderUsdtProtoService = paymentProviderUsdtProtoService;
        this.paymentProviderCardService = paymentProviderCardService;
        this.payProviderEntityService = payProviderEntityService;
        this.paymentProviderSharedService = paymentProviderSharedService;
        this.sequelize = sequelize;
        this.betConstructService = betConstructService;
        this.optionsService = optionsService;
        this.httpService = httpService;
    }
    getPaymentProviderEnum() {
        return _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["PaymentProviderEnum"].DBPay;
    }
};
DBPayPaymentProviderService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_4__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_4__["ConfigService"]) === "function" ? _a : Object, typeof (_b = typeof _channel_channel_service__WEBPACK_IMPORTED_MODULE_6__["ChannelService"] !== "undefined" && _channel_channel_service__WEBPACK_IMPORTED_MODULE_6__["ChannelService"]) === "function" ? _b : Object, typeof (_c = typeof _bank_bank_service__WEBPACK_IMPORTED_MODULE_13__["BankService"] !== "undefined" && _bank_bank_service__WEBPACK_IMPORTED_MODULE_13__["BankService"]) === "function" ? _c : Object, typeof (_d = typeof _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_8__["DepositPendingOrderService"] !== "undefined" && _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_8__["DepositPendingOrderService"]) === "function" ? _d : Object, typeof (_e = typeof _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_7__["DepositOrderService"] !== "undefined" && _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_7__["DepositOrderService"]) === "function" ? _e : Object, typeof (_f = typeof _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_10__["WithdrawPendingOrderService"] !== "undefined" && _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_10__["WithdrawPendingOrderService"]) === "function" ? _f : Object, typeof (_g = typeof _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_9__["WithdrawOrderService"] !== "undefined" && _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_9__["WithdrawOrderService"]) === "function" ? _g : Object, typeof (_h = typeof _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_12__["PaymentProviderChannelService"] !== "undefined" && _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_12__["PaymentProviderChannelService"]) === "function" ? _h : Object, typeof (_j = typeof _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_11__["PaymentProviderBankService"] !== "undefined" && _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_11__["PaymentProviderBankService"]) === "function" ? _j : Object, typeof (_k = typeof _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_18__["PaymentProviderUsdtProtoService"] !== "undefined" && _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_18__["PaymentProviderUsdtProtoService"]) === "function" ? _k : Object, typeof (_l = typeof _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_14__["PaymentProviderCardService"] !== "undefined" && _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_14__["PaymentProviderCardService"]) === "function" ? _l : Object, typeof (_m = typeof _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_15__["PaymentProviderEntityService"] !== "undefined" && _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_15__["PaymentProviderEntityService"]) === "function" ? _m : Object, typeof (_o = typeof _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_16__["PaymentProviderSharedService"] !== "undefined" && _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_16__["PaymentProviderSharedService"]) === "function" ? _o : Object, typeof (_p = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Sequelize"]) === "function" ? _p : Object, typeof (_q = typeof _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_5__["BetConstructService"] !== "undefined" && _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_5__["BetConstructService"]) === "function" ? _q : Object, typeof (_r = typeof _options_options_service__WEBPACK_IMPORTED_MODULE_19__["OptionsService"] !== "undefined" && _options_options_service__WEBPACK_IMPORTED_MODULE_19__["OptionsService"]) === "function" ? _r : Object, typeof (_s = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_3__["HttpService"] // @InjectModel(TestModel) // protected testRepository: typeof TestModel
         !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_3__["HttpService"] // @InjectModel(TestModel) // protected testRepository: typeof TestModel
        ) === "function" ? _s : Object])
], DBPayPaymentProviderService);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/dto/card.deposit.bycard.deposit.result.ts":
/*!***********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/dto/card.deposit.bycard.deposit.result.ts ***!
  \***********************************************************************************************************/
/*! exports provided: CardDepositByCardResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardDepositByCardResult", function() { return CardDepositByCardResult; });
class CardDepositByCardResult {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/dto/card.deposit.result.ts":
/*!********************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/dto/card.deposit.result.ts ***!
  \********************************************************************************************/
/*! exports provided: CardDepositResultData, CardChannelDepositResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardDepositResultData", function() { return CardDepositResultData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardChannelDepositResult", function() { return CardChannelDepositResult; });
/* harmony import */ var _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../payment.provider.deposit.result */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.deposit.result.ts");

class CardDepositResultData extends _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderDepositResultData"] {
}
class CardChannelDepositResult extends _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderChannelDepositResult"] {
    static errorFactory(error, providerName) {
        const result = new CardChannelDepositResult();
        result.result = false;
        result.providerName = providerName;
        const { code, message } = error;
        result.errorMessage = message || 'Unknown Error';
        result.errorCode = code || -1;
        result.error = error.error || null;
        return result;
    }
    sanitizePaymentProviderDepositResult() {
        return this;
    }
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/dto/card.withdraw.result.ts":
/*!*********************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/dto/card.withdraw.result.ts ***!
  \*********************************************************************************************/
/*! exports provided: CardWithdrawResult, CardChannelWithdrawResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardWithdrawResult", function() { return CardWithdrawResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardChannelWithdrawResult", function() { return CardChannelWithdrawResult; });
/* harmony import */ var _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../payment.provider.withdraw.result */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.withdraw.result.ts");

class CardWithdrawResult extends _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderWithdrawResult"] {
}
class CardChannelWithdrawResult extends _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderChannelWithdrawResult"] {
    sanitizePaymentProviderWithdrawResult() {
        delete this.providerId;
        return this;
    }
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/hengxin/dto/hengxin.deposit.status.response.dto.ts":
/*!********************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/hengxin/dto/hengxin.deposit.status.response.dto.ts ***!
  \********************************************************************************************************************/
/*! exports provided: HengXinDepositStatusEnum, HengXinDepositStatusResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HengXinDepositStatusEnum", function() { return HengXinDepositStatusEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HengXinDepositStatusResponseDto", function() { return HengXinDepositStatusResponseDto; });
/* harmony import */ var _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../payment.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/payment.status.response.dto.ts");

var HengXinDepositStatusEnum;
(function (HengXinDepositStatusEnum) {
})(HengXinDepositStatusEnum || (HengXinDepositStatusEnum = {}));
class HengXinDepositStatusResponseDto extends _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_0__["PaymentStatusResponseDto"] {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/hengxin/dto/hengxin.withdraw.request.params.ts":
/*!****************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/hengxin/dto/hengxin.withdraw.request.params.ts ***!
  \****************************************************************************************************************/
/*! exports provided: HengXinWithdrawRequestParams, HengXinWithdrawRequestData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HengXinWithdrawRequestParams", function() { return HengXinWithdrawRequestParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HengXinWithdrawRequestData", function() { return HengXinWithdrawRequestData; });
class HengXinWithdrawRequestParams {
}
class HengXinWithdrawRequestData {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/hengxin/dto/hengxin.withdraw.result.ts":
/*!********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/hengxin/dto/hengxin.withdraw.result.ts ***!
  \********************************************************************************************************/
/*! exports provided: HengXinWithdrawResult, HengXinChannelWithdrawResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HengXinWithdrawResult", function() { return HengXinWithdrawResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HengXinChannelWithdrawResult", function() { return HengXinChannelWithdrawResult; });
/* harmony import */ var _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../payment.provider.withdraw.result */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.withdraw.result.ts");

class HengXinWithdrawResult extends _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderWithdrawResult"] {
}
class HengXinChannelWithdrawResult extends _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderChannelWithdrawResult"] {
    static responseFactory(response, providerName) {
        const withdrawResult = new HengXinChannelWithdrawResult();
        withdrawResult.result = false;
        withdrawResult.providerName = providerName;
        const { code, message } = response.data || {};
        if (code !== 200) {
            withdrawResult.errorCode = code;
            withdrawResult.errorMessage = message;
            return withdrawResult;
        }
        withdrawResult.result = true;
        return withdrawResult;
    }
    static errorFactory(error, providerName, defaultErrorCode) {
        const result = new HengXinChannelWithdrawResult();
        result.result = false;
        result.providerId = null;
        result.providerName = providerName;
        const { message } = error;
        result.errorMessage = message || 'Unknown Error';
        result.errorCode = defaultErrorCode;
        result.error = error;
        return result;
    }
    sanitizePaymentProviderWithdrawResult() {
        delete this.providerId;
        return this;
    }
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/hengxin/dto/hengxin.withdraw.status.response.dto.ts":
/*!*********************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/hengxin/dto/hengxin.withdraw.status.response.dto.ts ***!
  \*********************************************************************************************************************/
/*! exports provided: HengXinWithdrawStatusEnum, HengXinWithdrawStatusResponseData, HengXinWithdrawStatusResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HengXinWithdrawStatusEnum", function() { return HengXinWithdrawStatusEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HengXinWithdrawStatusResponseData", function() { return HengXinWithdrawStatusResponseData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HengXinWithdrawStatusResponseDto", function() { return HengXinWithdrawStatusResponseDto; });
/* harmony import */ var _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../payment.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/payment.status.response.dto.ts");

var HengXinWithdrawStatusEnum;
(function (HengXinWithdrawStatusEnum) {
    HengXinWithdrawStatusEnum[HengXinWithdrawStatusEnum["PROCESSING"] = 0] = "PROCESSING";
    HengXinWithdrawStatusEnum[HengXinWithdrawStatusEnum["SUCCESS"] = 1] = "SUCCESS";
    HengXinWithdrawStatusEnum[HengXinWithdrawStatusEnum["FAILED"] = 2] = "FAILED";
})(HengXinWithdrawStatusEnum || (HengXinWithdrawStatusEnum = {}));
class HengXinWithdrawStatusResponseData {
}
class HengXinWithdrawStatusResponseDto extends _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_0__["PaymentStatusResponseDto"] {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/hengxin/hengxin.payment.provider.controller.ts":
/*!****************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/hengxin/hengxin.payment.provider.controller.ts ***!
  \****************************************************************************************************************/
/*! exports provided: HengXinPaymentProviderController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HengXinPaymentProviderController", function() { return HengXinPaymentProviderController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var nest_winston__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! nest-winston */ "nest-winston");
/* harmony import */ var nest_winston__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(nest_winston__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _dto_hengxin_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dto/hengxin.deposit.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/hengxin/dto/hengxin.deposit.status.response.dto.ts");
/* harmony import */ var _dto_hengxin_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dto/hengxin.withdraw.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/hengxin/dto/hengxin.withdraw.status.response.dto.ts");
/* harmony import */ var _hengxin_payment_provider_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./hengxin.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/hengxin/hengxin.payment.provider.service.ts");
/* harmony import */ var _decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../decorators/request.ip.decorators */ "./apps/backend/src/app/decorators/request.ip.decorators.ts");
var _a, _b, _c, _d, _e, _f;









let HengXinPaymentProviderController = class HengXinPaymentProviderController {
    constructor(logger, hengxinPaymentProviderService) {
        this.logger = logger;
        this.hengxinPaymentProviderService = hengxinPaymentProviderService;
    }
    depositCallback(depositStatusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.hengxinPaymentProviderService.depositCallback(depositStatusResponse, ip);
        });
    }
    withdrawCallback(withdrawStatusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.hengxinPaymentProviderService.withdrawCallback(withdrawStatusResponse, ip);
        });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].hengxincallbackDeposit),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].depositHengXinCallback,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_8__["RequestIpAddress"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _dto_hengxin_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__["HengXinDepositStatusResponseDto"] !== "undefined" && _dto_hengxin_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__["HengXinDepositStatusResponseDto"]) === "function" ? _a : Object, String]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_b = typeof Promise !== "undefined" && Promise) === "function" ? _b : Object)
], HengXinPaymentProviderController.prototype, "depositCallback", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].hengxincallbackWithdraw),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].withdrawHengXinCallback,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_8__["RequestIpAddress"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_c = typeof _dto_hengxin_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__["HengXinWithdrawStatusResponseDto"] !== "undefined" && _dto_hengxin_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__["HengXinWithdrawStatusResponseDto"]) === "function" ? _c : Object, String]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_d = typeof Promise !== "undefined" && Promise) === "function" ? _d : Object)
], HengXinPaymentProviderController.prototype, "withdrawCallback", null);
HengXinPaymentProviderController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].payment),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].paymentEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Inject"])(nest_winston__WEBPACK_IMPORTED_MODULE_4__["WINSTON_MODULE_PROVIDER"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_e = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Logger"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Logger"]) === "function" ? _e : Object, typeof (_f = typeof _hengxin_payment_provider_service__WEBPACK_IMPORTED_MODULE_7__["HengXinPaymentProviderService"] !== "undefined" && _hengxin_payment_provider_service__WEBPACK_IMPORTED_MODULE_7__["HengXinPaymentProviderService"]) === "function" ? _f : Object])
], HengXinPaymentProviderController);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/hengxin/hengxin.payment.provider.service.ts":
/*!*************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/hengxin/hengxin.payment.provider.service.ts ***!
  \*************************************************************************************************************/
/*! exports provided: HengXinDepositCallbackResultEnum, HengXinWithdrawCallbackResultEnum, HengXinPaymentProviderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HengXinDepositCallbackResultEnum", function() { return HengXinDepositCallbackResultEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HengXinWithdrawCallbackResultEnum", function() { return HengXinWithdrawCallbackResultEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HengXinPaymentProviderService", function() { return HengXinPaymentProviderService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _payment_provider_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.service.ts");
/* harmony import */ var _dto_hengxin_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dto/hengxin.withdraw.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/hengxin/dto/hengxin.withdraw.status.response.dto.ts");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../betContruct/betConstruct.service */ "./apps/backend/src/app/payment/betContruct/betConstruct.service.ts");
/* harmony import */ var _channel_channel_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../channel/channel.service */ "./apps/backend/src/app/payment/channel/channel.service.ts");
/* harmony import */ var _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../order/deposit-order/deposit.order.service */ "./apps/backend/src/app/payment/order/deposit-order/deposit.order.service.ts");
/* harmony import */ var _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../order/deposit-pending-order/deposit.pending.order.service */ "./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.service.ts");
/* harmony import */ var _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../order/withdraw-order/withdraw.order.service */ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.service.ts");
/* harmony import */ var _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../order/withdraw-pending-order/withdraw.pending.order.service */ "./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.service.ts");
/* harmony import */ var _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../payment-provider-bank/payment.provider.bank.service */ "./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.service.ts");
/* harmony import */ var _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../payment-provider-channel/payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! moment-timezone */ "moment-timezone");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! md5 */ "md5");
/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(md5__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! crypto */ "crypto");
/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var _dto_hengxin_withdraw_request_params__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./dto/hengxin.withdraw.request.params */ "./apps/backend/src/app/payment/providers/payment-provider/hengxin/dto/hengxin.withdraw.request.params.ts");
/* harmony import */ var _dto_hengxin_withdraw_result__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./dto/hengxin.withdraw.result */ "./apps/backend/src/app/payment/providers/payment-provider/hengxin/dto/hengxin.withdraw.result.ts");
/* harmony import */ var _payment_exception__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../payment.exception */ "./apps/backend/src/app/payment/payment.exception.ts");
/* harmony import */ var constants__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! constants */ "constants");
/* harmony import */ var constants__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(constants__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var _models_test_entity__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../models/test.entity */ "./apps/backend/src/app/models/test.entity.ts");
/* harmony import */ var _bank_bank_service__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../bank/bank.service */ "./apps/backend/src/app/payment/bank/bank.service.ts");
/* harmony import */ var _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../payment-provider-card/payment.provider.card.service */ "./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.service.ts");
/* harmony import */ var _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../payment-provider-entity/Payment.provider.entity.service */ "./apps/backend/src/app/payment/providers/payment-provider-entity/Payment.provider.entity.service.ts");
/* harmony import */ var _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../payment-provider-shared/payment.provider.shared.service */ "./apps/backend/src/app/payment/providers/payment-provider-shared/payment.provider.shared.service.ts");
/* harmony import */ var _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../payment-provider-usdt-protocol/payment.provider.usdt.proto.service */ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.service.ts");
/* harmony import */ var _options_options_service__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../options/options.service */ "./apps/backend/src/app/options/options.service.ts");
/* harmony import */ var _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../../error/enums/errorCodeEnum */ "./apps/backend/src/app/error/enums/errorCodeEnum.ts");
var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;
































var HengXinDepositCallbackResultEnum;
(function (HengXinDepositCallbackResultEnum) {
    HengXinDepositCallbackResultEnum["SUCCESS"] = "success";
    HengXinDepositCallbackResultEnum["FAILED"] = "failed";
})(HengXinDepositCallbackResultEnum || (HengXinDepositCallbackResultEnum = {}));
var HengXinWithdrawCallbackResultEnum;
(function (HengXinWithdrawCallbackResultEnum) {
    HengXinWithdrawCallbackResultEnum["SUCCESS"] = "success";
    HengXinWithdrawCallbackResultEnum["FAILED"] = "failed";
})(HengXinWithdrawCallbackResultEnum || (HengXinWithdrawCallbackResultEnum = {}));
let HengXinPaymentProviderService = class HengXinPaymentProviderService extends _payment_provider_service__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderService"] {
    constructor(configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, payProviderEntityService, paymentProviderSharedService, sequelize, betConstructService, optionsService, httpService, testRepository) {
        super(configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, payProviderEntityService, paymentProviderSharedService, sequelize, betConstructService, optionsService);
        this.configService = configService;
        this.channelService = channelService;
        this.bankService = bankService;
        this.depositPendingOrderService = depositPendingOrderService;
        this.depositOrderService = depositOrderService;
        this.withdrawPendingOrderService = withdrawPendingOrderService;
        this.withdrawOrderService = withdrawOrderService;
        this.paymentProviderChannelService = paymentProviderChannelService;
        this.paymentProviderBankService = paymentProviderBankService;
        this.paymentProviderUsdtProtoService = paymentProviderUsdtProtoService;
        this.paymentProviderCardService = paymentProviderCardService;
        this.payProviderEntityService = payProviderEntityService;
        this.paymentProviderSharedService = paymentProviderSharedService;
        this.sequelize = sequelize;
        this.betConstructService = betConstructService;
        this.optionsService = optionsService;
        this.httpService = httpService;
        this.testRepository = testRepository;
    }
    getPaymentProviderEnum() {
        return _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["PaymentProviderEnum"].HENGXIN;
    }
    isAvailable() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return true;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Implement Deposit Procedure
    ////////////////////////////////////////////////////////////////////////////////
    depositByPaymentProviderChannel(depositRequest, paymentProviderChannel, paymentProviderUsdtProto, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            throw new Error('Method not implemented.');
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Withdraw Procedure
    ////////////////////////////////////////////////////////////////////////////////
    withdrawByPaymentProviderChannel(withdrawRequest, paymentProviderChannel, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const withdrawProcResult = new _payment_provider_service__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderChannelWithdrawResultBundle"]();
            let withdrawResult;
            const channelWithdrawResultDefault = { providerName: this.getPaymentProviderName() };
            const order = yield this.createOrderBeforeWithdraw(withdrawRequest, transaction);
            if (!order) {
                return {
                    withdrawResult: Object.assign(Object.assign({}, channelWithdrawResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_31__["ErrorCodeEnum"].WITHDRAW_PROVIDER_ORDER_NOT_CREATED }),
                    order: null
                };
            }
            const paymentProviderBank = yield this.getPaymentProviderBank(withdrawRequest.bankCode);
            if (!paymentProviderBank) {
                return {
                    withdrawResult: Object.assign(Object.assign({}, channelWithdrawResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_31__["ErrorCodeEnum"].DEPOSIT_PROVIDER_ORDER_NOT_CREATED }),
                    order
                };
            }
            const params = new _dto_hengxin_withdraw_request_params__WEBPACK_IMPORTED_MODULE_19__["HengXinWithdrawRequestParams"]();
            params.merId = this.configService.get('HENGXIN_MERID');
            params.version = this.configService.get('HENGXIN_VERSION');
            const data = new _dto_hengxin_withdraw_request_params__WEBPACK_IMPORTED_MODULE_19__["HengXinWithdrawRequestData"]();
            data.merOrderNo = order.orderId;
            data.amount = withdrawRequest.amount;
            data.submitTime = moment_timezone__WEBPACK_IMPORTED_MODULE_15__().format('x');
            data.notifyUrl =
                this.getBaseUrl(withdrawRequest.headers['host']) +
                    this.configService.get('hengxin.WITHDRAWAL_SUCCESS_URL');
            data.bankCode = paymentProviderBank.paymentProviderBankCode;
            data.bankAccountNo = withdrawRequest.bankAccountNumber;
            data.bankAccountName = withdrawRequest.bankAccountName;
            data.bankBranchName =
                !withdrawRequest.branch || !withdrawRequest.branch.trim()
                    ? paymentProviderBank.paymentProviderBankName
                    : withdrawRequest.branch;
            data.remarks = this.configService.get('hengxin.remarks');
            data.sign = this.getWithdrawRequestSign(data, this.configService.get('HENGXIN_WITHDRAW_MD5_KEY')).toUpperCase();
            const keyPub = this.configService.get('HENGXIN_WITHDRAW_PUBLICK_KEY');
            const bData = Buffer.from(JSON.stringify(data));
            let encData = Buffer.from('');
            try {
                for (let i = 0; i < bData.length; i += 117) {
                    const encryptedData = crypto__WEBPACK_IMPORTED_MODULE_18__["publicEncrypt"]({
                        key: '-----BEGIN PUBLIC KEY-----\n' +
                            `${keyPub}\n` +
                            '-----END PUBLIC KEY-----',
                        padding: constants__WEBPACK_IMPORTED_MODULE_22__["RSA_PKCS1_PADDING"],
                    }, bData.slice(i, i + 117));
                    //console.log('++++', encryptedData.toString('base64'));
                    encData = Buffer.concat([encData, encryptedData]);
                }
            }
            catch (error) {
                console.log(error);
                throw new _payment_exception__WEBPACK_IMPORTED_MODULE_21__["PaymentProviderException"]();
            }
            params.data = encData.toString('base64');
            //console.log(params);
            const host = this.configService.get('HENGXIN_HOST');
            const url = this.configService.get('HENGXIN_WITHDRAW_URL');
            const response = yield this.httpService
                .post(`http://${host}/${url}`, params)
                .toPromise();
            //console.log(response.data);
            withdrawResult = _dto_hengxin_withdraw_result__WEBPACK_IMPORTED_MODULE_20__["HengXinChannelWithdrawResult"].responseFactory(response, this.getPaymentProviderName());
            if (!withdrawResult.result) {
                withdrawResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_31__["ErrorCodeEnum"].WITHDRAW_PROVIDER_FAILED;
            }
            withdrawProcResult.withdrawResult = withdrawResult;
            withdrawProcResult.order = order;
            return withdrawProcResult;
        });
    }
    depositErrorFactory(error) {
        throw new Error('Method not implemented.');
    }
    withdrawErrorFactory(error) {
        return _dto_hengxin_withdraw_result__WEBPACK_IMPORTED_MODULE_20__["HengXinWithdrawResult"].errorFactory(error, this.getPaymentProviderName(), this.configService.get('hengxin.DEFAULT_ERROR_CODE'));
    }
    getOrderStatusByDepositStatus(argDepositStatus) {
        throw new Error('Method not implemented.');
        // let orderStatus: OrderStatusEnum = OrderStatusEnum.NEW;
        // const depositStatus = <HengXinDepositStatusEnum>argDepositStatus;
        // switch (depositStatus) {
        // }
        // return orderStatus;
    }
    getOrderStatusByWithdrawStatus(withdrawStatus) {
        const orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["OrderStatusEnum"].PENDING;
        switch (withdrawStatus) {
            case _dto_hengxin_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_4__["HengXinWithdrawStatusEnum"].PROCESSING:
                return _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["OrderStatusEnum"].PENDING;
            case _dto_hengxin_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_4__["HengXinWithdrawStatusEnum"].SUCCESS:
                return _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["OrderStatusEnum"].SUCCESS;
            case _dto_hengxin_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_4__["HengXinWithdrawStatusEnum"].FAILED:
                return _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["OrderStatusEnum"].FAILED;
            default:
                break;
        }
        return orderStatus;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Deposit Callback
    ////////////////////////////////////////////////////////////////////////////////
    depositCallback(depositStatusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return null;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Withdraw Callback
    ////////////////////////////////////////////////////////////////////////////////
    withdrawCallback(withdrawStatusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            /* await this.testRepository.create({
              a: JSON.stringify(withdrawStatusResponse),
            }); */
            if (!(yield this.beforeWithdrawCallback(withdrawStatusResponse, ip))) {
                return HengXinWithdrawCallbackResultEnum.FAILED;
            }
            const merId = this.configService.get('HENGXIN_MERID');
            if (`${withdrawStatusResponse.merId}` !== `${merId}`) {
                return HengXinWithdrawCallbackResultEnum.FAILED;
            }
            const order = yield this.withdrawPendingOrderService.findByOrderId(withdrawStatusResponse.merOrderNo);
            if (!order) {
                return HengXinWithdrawCallbackResultEnum.FAILED;
            }
            const keyPriv = this.configService.get('HENGXIN_WITHDRAW_PRIVATE_KEY');
            const bData = Buffer.from(withdrawStatusResponse.data, 'base64');
            let decData = Buffer.from('');
            try {
                for (let i = 0; i < bData.length; i += 128) {
                    const decryptedData = crypto__WEBPACK_IMPORTED_MODULE_18__["privateDecrypt"]({
                        key: '-----BEGIN PRIVATE KEY-----\n' +
                            `${keyPriv}\n` +
                            '-----END PRIVATE KEY-----',
                        padding: constants__WEBPACK_IMPORTED_MODULE_22__["RSA_PKCS1_PADDING"],
                    }, bData.slice(i, i + 128));
                    decData = Buffer.concat([decData, decryptedData]);
                }
            }
            catch (error) {
                return HengXinWithdrawCallbackResultEnum.FAILED;
            }
            const data = JSON.parse(decData.toString());
            const sign = this.getWithdrawStatusResponseSign(data, this.configService.get('HENGXIN_WITHDRAW_MD5_KEY'));
            if (sign.toUpperCase() !== data.sign.toUpperCase()) {
                return HengXinWithdrawCallbackResultEnum.FAILED;
            }
            order.status = this.getOrderStatusByWithdrawStatus(data.orderState);
            order.providerOrderId = data.orderNo;
            if (order.status ===
                _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["OrderStatusEnum"].SUCCESS /* ||
            order.status === OrderStatusEnum.FAILED */) {
                yield this.withdrawBCAfterWithdrawCallback(order);
            }
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    yield this.updateOrderAfterWithdrawCallback(order, transaction);
                }));
            }
            catch (error) {
                return HengXinWithdrawCallbackResultEnum.FAILED;
            }
            return HengXinWithdrawCallbackResultEnum.SUCCESS;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Withdraw Request Sign
    ////////////////////////////////////////////////////////////////////////////////
    getWithdrawRequestSign(params, key) {
        const txtSource = `amount=${params.amount}` +
            `&bankAccountName=${params.bankAccountName}` +
            `&bankAccountNo=${params.bankAccountNo}` +
            //`&bankBranchName=${params.bankBranchName}` +
            `&bankCode=${params.bankCode}` +
            `&merOrderNo=${params.merOrderNo}` +
            `&notifyUrl=${params.notifyUrl}` +
            //`&remarks=${params.remarks}` +
            `&submitTime=${params.submitTime}` +
            `&key=${key}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_17__(txtSource);
        return txtDecryption;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Deposit Status Sign
    ////////////////////////////////////////////////////////////////////////////////
    getWithdrawStatusResponseSign(withdrawStatus, key) {
        const txtSource = `amount=${withdrawStatus.amount}` +
            `&merOrderNo=${withdrawStatus.merOrderNo}` +
            `&orderNo=${withdrawStatus.orderNo}` +
            `&orderState=${withdrawStatus.orderState}` +
            `&key=${key}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_17__(txtSource);
        return txtDecryption;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Frozen Status By Channel DepositResult
    ////////////////////////////////////////////////////////////////////////////////
    getFrozenByChannelDepositResult(paymentProviderChannel, depositRequest, depositResult) {
        const errorCode = depositResult
            ? numeral__WEBPACK_IMPORTED_MODULE_16__(depositResult.errorCode).value()
            : null;
        if (errorCode === null) {
            return false;
        }
        const frozenCodes = this.configService.get('hengxin.DEPOSIT_FROZEN_CODE') || [];
        return (frozenCodes.filter((frozenCode) => frozenCode === errorCode).length > 0);
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Frozen Status By Channel WithdrawResult
    ////////////////////////////////////////////////////////////////////////////////
    getFrozenByChannelWithdrawResult(withdrawResult) {
        const errorCode = withdrawResult
            ? numeral__WEBPACK_IMPORTED_MODULE_16__(withdrawResult.errorCode).value()
            : null;
        if (errorCode === null) {
            return false;
        }
        const frozenCodes = this.configService.get('hengxin.WITHDRAW_FROZEN_CODE') || [];
        return (frozenCodes.filter((frozenCode) => frozenCode === errorCode).length > 0);
    }
};
HengXinPaymentProviderService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_5__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(17, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_23__["InjectModel"])(_models_test_entity__WEBPACK_IMPORTED_MODULE_24__["TestModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_6__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_6__["ConfigService"]) === "function" ? _a : Object, typeof (_b = typeof _channel_channel_service__WEBPACK_IMPORTED_MODULE_8__["ChannelService"] !== "undefined" && _channel_channel_service__WEBPACK_IMPORTED_MODULE_8__["ChannelService"]) === "function" ? _b : Object, typeof (_c = typeof _bank_bank_service__WEBPACK_IMPORTED_MODULE_25__["BankService"] !== "undefined" && _bank_bank_service__WEBPACK_IMPORTED_MODULE_25__["BankService"]) === "function" ? _c : Object, typeof (_d = typeof _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_10__["DepositPendingOrderService"] !== "undefined" && _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_10__["DepositPendingOrderService"]) === "function" ? _d : Object, typeof (_e = typeof _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_9__["DepositOrderService"] !== "undefined" && _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_9__["DepositOrderService"]) === "function" ? _e : Object, typeof (_f = typeof _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_12__["WithdrawPendingOrderService"] !== "undefined" && _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_12__["WithdrawPendingOrderService"]) === "function" ? _f : Object, typeof (_g = typeof _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_11__["WithdrawOrderService"] !== "undefined" && _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_11__["WithdrawOrderService"]) === "function" ? _g : Object, typeof (_h = typeof _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_14__["PaymentProviderChannelService"] !== "undefined" && _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_14__["PaymentProviderChannelService"]) === "function" ? _h : Object, typeof (_j = typeof _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_13__["PaymentProviderBankService"] !== "undefined" && _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_13__["PaymentProviderBankService"]) === "function" ? _j : Object, typeof (_k = typeof _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_29__["PaymentProviderUsdtProtoService"] !== "undefined" && _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_29__["PaymentProviderUsdtProtoService"]) === "function" ? _k : Object, typeof (_l = typeof _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_26__["PaymentProviderCardService"] !== "undefined" && _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_26__["PaymentProviderCardService"]) === "function" ? _l : Object, typeof (_m = typeof _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_27__["PaymentProviderEntityService"] !== "undefined" && _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_27__["PaymentProviderEntityService"]) === "function" ? _m : Object, typeof (_o = typeof _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_28__["PaymentProviderSharedService"] !== "undefined" && _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_28__["PaymentProviderSharedService"]) === "function" ? _o : Object, typeof (_p = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Sequelize"]) === "function" ? _p : Object, typeof (_q = typeof _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_7__["BetConstructService"] !== "undefined" && _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_7__["BetConstructService"]) === "function" ? _q : Object, typeof (_r = typeof _options_options_service__WEBPACK_IMPORTED_MODULE_30__["OptionsService"] !== "undefined" && _options_options_service__WEBPACK_IMPORTED_MODULE_30__["OptionsService"]) === "function" ? _r : Object, typeof (_s = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_5__["HttpService"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_5__["HttpService"]) === "function" ? _s : Object, Object])
], HengXinPaymentProviderService);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/jbp/dto/jbp.deposit.request.params.ts":
/*!*******************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/jbp/dto/jbp.deposit.request.params.ts ***!
  \*******************************************************************************************************/
/*! exports provided: JBPDepositRequestParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JBPDepositRequestParams", function() { return JBPDepositRequestParams; });
class JBPDepositRequestParams {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/jbp/dto/jbp.deposit.result.ts":
/*!***********************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/jbp/dto/jbp.deposit.result.ts ***!
  \***********************************************************************************************/
/*! exports provided: JBPDepositResult, JBPDepositResultData, JBPChannelDepositResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JBPDepositResult", function() { return JBPDepositResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JBPDepositResultData", function() { return JBPDepositResultData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JBPChannelDepositResult", function() { return JBPChannelDepositResult; });
/* harmony import */ var _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../payment.provider.deposit.result */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.deposit.result.ts");

class JBPDepositResult extends _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderDepositResult"] {
}
class JBPDepositResultData extends _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderDepositResultData"] {
}
class JBPChannelDepositResult extends _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderChannelDepositResult"] {
    static responseFactory(response, providerName) {
        const data = response.data;
        const result = new JBPChannelDepositResult();
        result.result = data.success;
        result.providerName = providerName;
        if (result.result !== true || !data.data) {
            result.errorMessage = data.msg || '';
            result.errorCode = `${data.code}` || '';
            return result;
        }
        result.providerOrderId = data.data.orderNo;
        result.data = new JBPDepositResultData();
        result.data.url = data.data.link;
        result.result = true;
        return result;
    }
    static errorFactory(error, providerName, defaultErrorCode) {
        const result = new JBPChannelDepositResult();
        result.result = false;
        result.providerName = providerName;
        const { status, message } = error;
        result.errorMessage = message || 'Unknown Error';
        result.errorCode = defaultErrorCode;
        result.error = error;
        return result;
    }
    sanitizePaymentProviderDepositResult() {
        if (this.data !== undefined) {
            const data = this.data;
        }
        if (this.providerOrderId !== undefined) {
            delete this.providerOrderId;
        }
        if (this.result && this.errorMessage !== undefined) {
            delete this.errorMessage;
        }
        return this;
    }
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/jbp/dto/jbp.deposit.status.response.dto.ts":
/*!************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/jbp/dto/jbp.deposit.status.response.dto.ts ***!
  \************************************************************************************************************/
/*! exports provided: JBPDepositStatusEnum, JBPDepositStatusResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JBPDepositStatusEnum", function() { return JBPDepositStatusEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JBPDepositStatusResponseDto", function() { return JBPDepositStatusResponseDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../payment.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/payment.status.response.dto.ts");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_4__);





var JBPDepositStatusEnum;
(function (JBPDepositStatusEnum) {
    JBPDepositStatusEnum[JBPDepositStatusEnum["SUCCESS"] = 1] = "SUCCESS";
    JBPDepositStatusEnum[JBPDepositStatusEnum["FAILED"] = 0] = "FAILED";
})(JBPDepositStatusEnum || (JBPDepositStatusEnum = {}));
class JBPDepositStatusResponseDto extends _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_3__["PaymentStatusResponseDto"] {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], JBPDepositStatusResponseDto.prototype, "companyOrderNum", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], JBPDepositStatusResponseDto.prototype, "otcOrderNum", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumberString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], JBPDepositStatusResponseDto.prototype, "coinAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], JBPDepositStatusResponseDto.prototype, "coinSign", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsInt"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_4__["Transform"])((params) => Number(params.value)),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], JBPDepositStatusResponseDto.prototype, "orderType", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        enum: JBPDepositStatusEnum,
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(JBPDepositStatusEnum),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_4__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsInt"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], JBPDepositStatusResponseDto.prototype, "tradeStatus", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], JBPDepositStatusResponseDto.prototype, "tradeOrderTime", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumberString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], JBPDepositStatusResponseDto.prototype, "unitPrice", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumberString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], JBPDepositStatusResponseDto.prototype, "total", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumberString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], JBPDepositStatusResponseDto.prototype, "successAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], JBPDepositStatusResponseDto.prototype, "sign", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/jbp/dto/jbp.withdraw.request.params.ts":
/*!********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/jbp/dto/jbp.withdraw.request.params.ts ***!
  \********************************************************************************************************/
/*! exports provided: JBPWithdrawRequestParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JBPWithdrawRequestParams", function() { return JBPWithdrawRequestParams; });
class JBPWithdrawRequestParams {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/jbp/dto/jbp.withdraw.result.ts":
/*!************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/jbp/dto/jbp.withdraw.result.ts ***!
  \************************************************************************************************/
/*! exports provided: JBPWithdrawResult, JBPChannelWithdrawResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JBPWithdrawResult", function() { return JBPWithdrawResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JBPChannelWithdrawResult", function() { return JBPChannelWithdrawResult; });
/* harmony import */ var _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../payment.provider.withdraw.result */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.withdraw.result.ts");

class JBPWithdrawResult extends _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderWithdrawResult"] {
}
class JBPChannelWithdrawResult extends _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderChannelWithdrawResult"] {
    static responseFactory(response, providerName) {
        const withdrawResult = new JBPChannelWithdrawResult();
        withdrawResult.result = false;
        withdrawResult.providerName = providerName;
        const { code, msg, data, success } = response.data || {};
        if (code !== 200 || !data || !success) {
            withdrawResult.errorCode = code;
            withdrawResult.errorMessage = msg;
            return withdrawResult;
        }
        withdrawResult.result = true;
        return withdrawResult;
    }
    static errorFactory(error, providerName, defaultErrorCode) {
        const result = new JBPChannelWithdrawResult();
        result.result = false;
        result.providerId = null;
        result.providerName = providerName;
        const { message } = error;
        result.errorMessage = message || 'Unknown Error';
        result.errorCode = defaultErrorCode;
        result.error = error;
        return result;
    }
    sanitizePaymentProviderWithdrawResult() {
        delete this.providerId;
        return this;
    }
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/jbp/dto/jbp.withdraw.status.response.dto.ts":
/*!*************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/jbp/dto/jbp.withdraw.status.response.dto.ts ***!
  \*************************************************************************************************************/
/*! exports provided: JBPWithdrawStatusEnum, JBPWithdrawStatusResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JBPWithdrawStatusEnum", function() { return JBPWithdrawStatusEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JBPWithdrawStatusResponseDto", function() { return JBPWithdrawStatusResponseDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../payment.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/payment.status.response.dto.ts");





var JBPWithdrawStatusEnum;
(function (JBPWithdrawStatusEnum) {
    JBPWithdrawStatusEnum[JBPWithdrawStatusEnum["SUCCESS"] = 1] = "SUCCESS";
    JBPWithdrawStatusEnum[JBPWithdrawStatusEnum["FAILED"] = 0] = "FAILED";
})(JBPWithdrawStatusEnum || (JBPWithdrawStatusEnum = {}));
class JBPWithdrawStatusResponseDto extends _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_4__["PaymentStatusResponseDto"] {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], JBPWithdrawStatusResponseDto.prototype, "companyOrderNum", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], JBPWithdrawStatusResponseDto.prototype, "otcOrderNum", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumberString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], JBPWithdrawStatusResponseDto.prototype, "coinAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], JBPWithdrawStatusResponseDto.prototype, "coinSign", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsInt"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Transform"])((params) => Number(params.value)),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], JBPWithdrawStatusResponseDto.prototype, "orderType", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        enum: JBPWithdrawStatusEnum,
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsEnum"])(JBPWithdrawStatusEnum),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Transform"])((params) => Number(params.value)),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsInt"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], JBPWithdrawStatusResponseDto.prototype, "tradeStatus", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], JBPWithdrawStatusResponseDto.prototype, "tradeOrderTime", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumberString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], JBPWithdrawStatusResponseDto.prototype, "unitPrice", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumberString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], JBPWithdrawStatusResponseDto.prototype, "total", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNumberString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], JBPWithdrawStatusResponseDto.prototype, "successAmount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], JBPWithdrawStatusResponseDto.prototype, "sign", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/jbp/jbp.payment.provider.controller.ts":
/*!********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/jbp/jbp.payment.provider.controller.ts ***!
  \********************************************************************************************************/
/*! exports provided: JBPPaymentProviderController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JBPPaymentProviderController", function() { return JBPPaymentProviderController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var nest_winston__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! nest-winston */ "nest-winston");
/* harmony import */ var nest_winston__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(nest_winston__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _dto_jbp_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dto/jbp.deposit.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/jbp/dto/jbp.deposit.status.response.dto.ts");
/* harmony import */ var _dto_jbp_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dto/jbp.withdraw.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/jbp/dto/jbp.withdraw.status.response.dto.ts");
/* harmony import */ var _jbp_payment_provider_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./jbp.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/jbp/jbp.payment.provider.service.ts");
/* harmony import */ var _decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../decorators/request.ip.decorators */ "./apps/backend/src/app/decorators/request.ip.decorators.ts");
var _a, _b, _c, _d;









let JBPPaymentProviderController = class JBPPaymentProviderController {
    constructor(logger, jbpPaymentProviderService) {
        this.logger = logger;
        this.jbpPaymentProviderService = jbpPaymentProviderService;
    }
    depositCallback(depositStatusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.jbpPaymentProviderService.depositCallback(depositStatusResponse, ip);
        });
    }
    withdrawCallback(withdrawStatusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.jbpPaymentProviderService.withdrawCallback(withdrawStatusResponse, ip);
        });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].jbpcallbackDeposit),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpCode"])(200),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].depositJBPCallback,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_8__["RequestIpAddress"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _dto_jbp_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__["JBPDepositStatusResponseDto"] !== "undefined" && _dto_jbp_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__["JBPDepositStatusResponseDto"]) === "function" ? _a : Object, String]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], JBPPaymentProviderController.prototype, "depositCallback", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].jbpcallbackWithdraw),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpCode"])(200),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].withdrawJBPCallback,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_8__["RequestIpAddress"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_b = typeof _dto_jbp_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__["JBPWithdrawStatusResponseDto"] !== "undefined" && _dto_jbp_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__["JBPWithdrawStatusResponseDto"]) === "function" ? _b : Object, String]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], JBPPaymentProviderController.prototype, "withdrawCallback", null);
JBPPaymentProviderController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].payment),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].paymentEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Inject"])(nest_winston__WEBPACK_IMPORTED_MODULE_4__["WINSTON_MODULE_PROVIDER"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_c = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Logger"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Logger"]) === "function" ? _c : Object, typeof (_d = typeof _jbp_payment_provider_service__WEBPACK_IMPORTED_MODULE_7__["JBPPaymentProviderService"] !== "undefined" && _jbp_payment_provider_service__WEBPACK_IMPORTED_MODULE_7__["JBPPaymentProviderService"]) === "function" ? _d : Object])
], JBPPaymentProviderController);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/jbp/jbp.payment.provider.service.ts":
/*!*****************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/jbp/jbp.payment.provider.service.ts ***!
  \*****************************************************************************************************/
/*! exports provided: JBPPaymentProviderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JBPPaymentProviderService", function() { return JBPPaymentProviderService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _payment_provider_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.service.ts");
/* harmony import */ var _dto_jbp_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dto/jbp.deposit.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/jbp/dto/jbp.deposit.status.response.dto.ts");
/* harmony import */ var _dto_jbp_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dto/jbp.withdraw.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/jbp/dto/jbp.withdraw.status.response.dto.ts");
/* harmony import */ var _dto_jbp_deposit_result__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./dto/jbp.deposit.result */ "./apps/backend/src/app/payment/providers/payment-provider/jbp/dto/jbp.deposit.result.ts");
/* harmony import */ var _dto_jbp_deposit_request_params__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./dto/jbp.deposit.request.params */ "./apps/backend/src/app/payment/providers/payment-provider/jbp/dto/jbp.deposit.request.params.ts");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../betContruct/betConstruct.service */ "./apps/backend/src/app/payment/betContruct/betConstruct.service.ts");
/* harmony import */ var _channel_channel_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../channel/channel.service */ "./apps/backend/src/app/payment/channel/channel.service.ts");
/* harmony import */ var _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../order/deposit-order/deposit.order.service */ "./apps/backend/src/app/payment/order/deposit-order/deposit.order.service.ts");
/* harmony import */ var _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../order/deposit-pending-order/deposit.pending.order.service */ "./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.service.ts");
/* harmony import */ var _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../order/withdraw-order/withdraw.order.service */ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.service.ts");
/* harmony import */ var _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../order/withdraw-pending-order/withdraw.pending.order.service */ "./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.service.ts");
/* harmony import */ var _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../payment-provider-bank/payment.provider.bank.service */ "./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.service.ts");
/* harmony import */ var _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../payment-provider-channel/payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! moment */ "moment");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! md5 */ "md5");
/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(md5__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var _dto_jbp_withdraw_result__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./dto/jbp.withdraw.result */ "./apps/backend/src/app/payment/providers/payment-provider/jbp/dto/jbp.withdraw.result.ts");
/* harmony import */ var _payment_exception__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../payment.exception */ "./apps/backend/src/app/payment/payment.exception.ts");
/* harmony import */ var _dto_jbp_withdraw_request_params__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./dto/jbp.withdraw.request.params */ "./apps/backend/src/app/payment/providers/payment-provider/jbp/dto/jbp.withdraw.request.params.ts");
/* harmony import */ var _models_bank_entity__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../models/bank.entity */ "./apps/backend/src/app/models/bank.entity.ts");
/* harmony import */ var _models_test_entity__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../models/test.entity */ "./apps/backend/src/app/models/test.entity.ts");
/* harmony import */ var _bank_bank_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../bank/bank.service */ "./apps/backend/src/app/payment/bank/bank.service.ts");
/* harmony import */ var _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../payment-provider-card/payment.provider.card.service */ "./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.service.ts");
/* harmony import */ var _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../payment-provider-entity/Payment.provider.entity.service */ "./apps/backend/src/app/payment/providers/payment-provider-entity/Payment.provider.entity.service.ts");
/* harmony import */ var _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../payment-provider-shared/payment.provider.shared.service */ "./apps/backend/src/app/payment/providers/payment-provider-shared/payment.provider.shared.service.ts");
/* harmony import */ var _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../payment-provider-usdt-protocol/payment.provider.usdt.proto.service */ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.service.ts");
/* harmony import */ var _sindresorhus_fnv1a__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! @sindresorhus/fnv1a */ "@sindresorhus/fnv1a");
/* harmony import */ var _sindresorhus_fnv1a__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(_sindresorhus_fnv1a__WEBPACK_IMPORTED_MODULE_32__);
/* harmony import */ var _options_options_service__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../../options/options.service */ "./apps/backend/src/app/options/options.service.ts");
/* harmony import */ var _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../../error/enums/errorCodeEnum */ "./apps/backend/src/app/error/enums/errorCodeEnum.ts");
var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;



































let JBPPaymentProviderService = class JBPPaymentProviderService extends _payment_provider_service__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderService"] {
    constructor(bankRepository, configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, payProviderEntityService, paymentProviderSharedService, sequelize, betConstructService, optionsService, httpService, testRepository) {
        super(configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, payProviderEntityService, paymentProviderSharedService, sequelize, betConstructService, optionsService);
        this.bankRepository = bankRepository;
        this.configService = configService;
        this.channelService = channelService;
        this.bankService = bankService;
        this.depositPendingOrderService = depositPendingOrderService;
        this.depositOrderService = depositOrderService;
        this.withdrawPendingOrderService = withdrawPendingOrderService;
        this.withdrawOrderService = withdrawOrderService;
        this.paymentProviderChannelService = paymentProviderChannelService;
        this.paymentProviderBankService = paymentProviderBankService;
        this.paymentProviderUsdtProtoService = paymentProviderUsdtProtoService;
        this.paymentProviderCardService = paymentProviderCardService;
        this.payProviderEntityService = payProviderEntityService;
        this.paymentProviderSharedService = paymentProviderSharedService;
        this.sequelize = sequelize;
        this.betConstructService = betConstructService;
        this.optionsService = optionsService;
        this.httpService = httpService;
        this.testRepository = testRepository;
    }
    getPaymentProviderEnum() {
        return _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["PaymentProviderEnum"].JBP;
    }
    isAvailable() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return true;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Implement Deposit Procedure
    ////////////////////////////////////////////////////////////////////////////////
    depositByPaymentProviderChannel(depositRequest, paymentProviderChannel, paymentProviderUsdtProto, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const channelDepositResultBundle = new _payment_provider_service__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderChannelDepositResultBundle"]();
            // if (/* !depositRequest.userName || */ !depositRequest.phoneNumber) {
            //   return null;
            // }
            const channelDepositResultDefault = { providerName: this.getPaymentProviderName() };
            const areaCode = '86';
            const phoneNumber = `${_sindresorhus_fnv1a__WEBPACK_IMPORTED_MODULE_32__(depositRequest.userId)}${depositRequest.userId.substr(0, 1)}`;
            let depositResult;
            let order;
            order = yield this.createOrderBeforeDeposit(depositRequest, paymentProviderChannel, transaction);
            if (!order) {
                return {
                    depositResult: Object.assign(Object.assign({}, channelDepositResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_34__["ErrorCodeEnum"].DEPOSIT_PROVIDER_ORDER_NOT_CREATED }),
                    order: null
                };
            }
            const params = new _dto_jbp_deposit_request_params__WEBPACK_IMPORTED_MODULE_8__["JBPDepositRequestParams"]();
            params.companyId = this.configService.get('JBP_COMPANYID');
            params.kyc = '2';
            //params.username = depositRequest.userName;
            params.areaCode = areaCode; // depositRequest.countryCallingCode;
            params.phone = phoneNumber; // depositRequest.phoneNumber;
            params.orderType = 1;
            params.companyOrderNum = order.orderId;
            params.coinSign = 'USDT';
            params.payCoinSign = 'cny';
            params.orderPayChannel = numeral__WEBPACK_IMPORTED_MODULE_20__(paymentProviderChannel.providerChannelName).value();
            params.orderTime = moment__WEBPACK_IMPORTED_MODULE_19__().format('x');
            params.total = order.amount;
            params.syncUrl = `https://${this.configService.get('FRONTEND_HOST')}/`;
            params.asyncUrl =
                this.getBaseUrl(depositRequest.headers['host']) +
                    this.configService.get('jbp.DEPOSIT_SUCCESS_URL');
            params.sign = this.getDepositRequestSign(params, this.configService.get('JBP_SECRETKEY'));
            const host = this.configService.get('JBP_HOST');
            const url = this.configService.get('JBP_DEPOSIT_URL');
            //console.log(params);
            const response = yield this.httpService
                .post(`https://${host}/${url}`, params)
                .toPromise();
            //console.log(response.data);
            depositResult = _dto_jbp_deposit_result__WEBPACK_IMPORTED_MODULE_7__["JBPChannelDepositResult"].responseFactory(response, this.getPaymentProviderName());
            if (!depositResult.result) {
                depositResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_34__["ErrorCodeEnum"].DEPOSIT_PROVIDER_FAILED;
            }
            depositResult.channelRequestTime = moment__WEBPACK_IMPORTED_MODULE_19__()
                .utcOffset('+08:00')
                .format('YYYY-MM-DD HH:mm:ss');
            depositResult.channelRequestJson = JSON.stringify(params);
            depositResult.channelResponseJson = JSON.stringify(response.data);
            channelDepositResultBundle.depositResult = depositResult;
            channelDepositResultBundle.order = order;
            return channelDepositResultBundle;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Withdraw Procedure
    ////////////////////////////////////////////////////////////////////////////////
    withdrawByPaymentProviderChannel(withdrawRequest, paymentProviderChannel, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const withdrawProcResult = new _payment_provider_service__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderChannelWithdrawResultBundle"]();
            let withdrawResult;
            const channelWithdrawResultDefault = { providerName: this.getPaymentProviderName() };
            const order = yield this.createOrderBeforeWithdraw(withdrawRequest, transaction);
            if (!order) {
                return {
                    withdrawResult: Object.assign(Object.assign({}, channelWithdrawResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_34__["ErrorCodeEnum"].WITHDRAW_PROVIDER_ORDER_NOT_CREATED }),
                    order: null
                };
            }
            const paymentProviderBank = yield this.getPaymentProviderBank(withdrawRequest.bankCode);
            if (!paymentProviderBank) {
                return {
                    withdrawResult: Object.assign(Object.assign({}, channelWithdrawResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_34__["ErrorCodeEnum"].DEPOSIT_PROVIDER_ORDER_NOT_CREATED }),
                    order
                };
            }
            const areaCode = '86';
            const phoneNumber = `${_sindresorhus_fnv1a__WEBPACK_IMPORTED_MODULE_32__(withdrawRequest.userId)}${withdrawRequest.userId.substr(0, 1)}`;
            const params = new _dto_jbp_withdraw_request_params__WEBPACK_IMPORTED_MODULE_24__["JBPWithdrawRequestParams"]();
            params.companyId = this.configService.get('JBP_COMPANYID');
            params.kyc = '2';
            params.username =
                withdrawRequest.userName || withdrawRequest.bankAccountName;
            params.areaCode = areaCode; // withdrawRequest.countryCallingCode || '86';
            params.phone = phoneNumber; //withdrawRequest.phoneNumber;
            params.orderType = 2;
            params.companyOrderNum = order.orderId;
            params.coinSign = 'USDT';
            params.payCoinSign = 'cny';
            params.orderPayChannel = numeral__WEBPACK_IMPORTED_MODULE_20__(paymentProviderChannel.providerChannelName).value();
            params.orderTime = moment__WEBPACK_IMPORTED_MODULE_19__().format('x');
            const price = yield this.getPrice();
            if (!price || !price.success || !price.data || !price.data.sellPrice) {
                throw new _payment_exception__WEBPACK_IMPORTED_MODULE_23__["PaymentProviderException"]();
            }
            params.coinAmount = numeral__WEBPACK_IMPORTED_MODULE_20__(withdrawRequest.amount / price.data.sellPrice).format('0.00');
            params.syncUrl = `https://${this.configService.get('FRONTEND_HOST')}/`;
            params.asyncUrl =
                this.getBaseUrl(withdrawRequest.headers['host']) +
                    this.configService.get('jbp.WITHDRAWAL_SUCCESS_URL');
            params.payCardBank = paymentProviderBank.paymentProviderBankName;
            params.payCardNo = withdrawRequest.bankAccountNumber;
            params.sign = this.getWithdrawRequestSign(params, this.configService.get('JBP_SECRETKEY'));
            const host = this.configService.get('JBP_HOST');
            const url = this.configService.get('JBP_WITHDRAW_URL');
            //console.log(params);
            const response = yield this.httpService
                .post(`https://${host}/${url}`, params)
                .toPromise();
            //console.log(response.data);
            withdrawResult = _dto_jbp_withdraw_result__WEBPACK_IMPORTED_MODULE_22__["JBPChannelWithdrawResult"].responseFactory(response, this.getPaymentProviderName());
            if (!withdrawResult.result) {
                withdrawResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_34__["ErrorCodeEnum"].WITHDRAW_PROVIDER_FAILED;
            }
            withdrawProcResult.withdrawResult = withdrawResult;
            withdrawProcResult.order = order;
            return withdrawProcResult;
        });
    }
    depositErrorFactory(error) {
        return _dto_jbp_deposit_result__WEBPACK_IMPORTED_MODULE_7__["JBPDepositResult"].errorFactory(error, this.getPaymentProviderName(), this.configService.get('jbp.DEFAULT_ERROR_CODE'));
    }
    withdrawErrorFactory(error) {
        return _dto_jbp_withdraw_result__WEBPACK_IMPORTED_MODULE_22__["JBPWithdrawResult"].errorFactory(error, this.getPaymentProviderName(), this.configService.get('jbp.DEFAULT_ERROR_CODE'));
    }
    getOrderStatusByDepositStatus(argDepositStatus) {
        let orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["OrderStatusEnum"].NEW;
        const depositStatus = argDepositStatus;
        switch (depositStatus) {
            case _dto_jbp_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__["JBPDepositStatusEnum"].SUCCESS:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["OrderStatusEnum"].SUCCESS;
                break;
            case _dto_jbp_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__["JBPDepositStatusEnum"].FAILED:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["OrderStatusEnum"].FAILED;
                break;
        }
        return orderStatus;
    }
    getOrderStatusByWithdrawStatus(argWithdrawStatus) {
        let orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["OrderStatusEnum"].NEW;
        const depositStatus = argWithdrawStatus;
        switch (depositStatus) {
            case _dto_jbp_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__["JBPWithdrawStatusEnum"].SUCCESS:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["OrderStatusEnum"].SUCCESS;
                break;
            case _dto_jbp_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__["JBPWithdrawStatusEnum"].FAILED:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["OrderStatusEnum"].FAILED;
                break;
        }
        return orderStatus;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Deposit Callback
    ////////////////////////////////////////////////////////////////////////////////
    depositCallback(depositStatusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.testRepository.create({
                a: JSON.stringify({ ip, res: JSON.stringify(depositStatusResponse) }),
            });
            const response = {
                code: 0,
                msg: '',
                data: {
                    otcOrderNum: null,
                    companyOrderNum: null,
                },
                success: false,
            };
            if (!(yield this.beforeDepositCallback(depositStatusResponse, ip))) {
                response.code = 505;
                response.msg = 'Invalid Request';
                return response;
            }
            const order = yield this.depositPendingOrderService.findByOrderId(depositStatusResponse.companyOrderNum);
            if (!order) {
                const orderAlready = yield this.depositOrderService.findByOrderId(depositStatusResponse.companyOrderNum);
                if (orderAlready) {
                    response.data.companyOrderNum = orderAlready.orderId;
                    response.data.otcOrderNum = orderAlready.providerOrderId;
                    response.code = 200;
                    response.msg = 'success';
                    response.success = true;
                    return response;
                }
                response.code = 501;
                response.msg = 'companyOrderNum is invalid';
                return response;
            }
            response.data.companyOrderNum = depositStatusResponse.companyOrderNum;
            // if (`${order.providerOrderId}` !== `${depositStatusResponse.otcOrderNum}`) {
            //   response.code = 502;
            //   response.msg = 'otcOrderNum is invalid';
            //   return response;
            // }
            response.data.otcOrderNum = depositStatusResponse.otcOrderNum;
            order.amount = numeral__WEBPACK_IMPORTED_MODULE_20__(depositStatusResponse.total).value();
            const sign = this.getDepositStatusResponseSign(depositStatusResponse, this.configService.get('JBP_SECRETKEY'));
            if (sign.toUpperCase() !== depositStatusResponse.sign.toUpperCase()) {
                response.code = 503;
                response.msg = 'sign is invalid';
                return response;
            }
            order.status = this.getOrderStatusByDepositStatus(depositStatusResponse.tradeStatus);
            order.providerOrderId = depositStatusResponse.otcOrderNum;
            if (order.status === _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["OrderStatusEnum"].SUCCESS) {
                const bcOrder = yield this.depositBCAfterDepositCallback(order);
            }
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    yield this.updateOrderAfterDepositCallback(order, transaction);
                }));
            }
            catch (error) {
                response.code = 504;
                response.msg = 'unknown error';
                return response;
            }
            response.code = 200;
            response.msg = 'success';
            response.success = true;
            return response;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Withdraw Callback
    ////////////////////////////////////////////////////////////////////////////////
    withdrawCallback(withdrawStatusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.testRepository.create({
                a: JSON.stringify({ ip, res: JSON.stringify(withdrawStatusResponse) }),
            });
            const response = {
                code: 0,
                msg: '',
                data: {
                    otcOrderNum: null,
                    companyOrderNum: null,
                },
                success: false,
            };
            if (!(yield this.beforeWithdrawCallback(withdrawStatusResponse, ip))) {
                response.code = 506;
                response.msg = 'Invalid Request';
                return response;
            }
            const order = yield this.withdrawPendingOrderService.findByOrderId(withdrawStatusResponse.companyOrderNum);
            if (!order) {
                const orderAlready = yield this.withdrawOrderService.findByOrderId(withdrawStatusResponse.companyOrderNum);
                if (orderAlready) {
                    response.data.companyOrderNum = orderAlready.orderId;
                    response.data.otcOrderNum = orderAlready.providerOrderId;
                    response.code = 200;
                    response.msg = 'success';
                    response.success = true;
                    return response;
                }
                response.code = 501;
                response.msg = 'companyOrderNum is invalid';
                return response;
            }
            response.data.companyOrderNum = withdrawStatusResponse.companyOrderNum;
            // if (
            //   `${order.providerOrderId}` !== `${withdrawStatusResponse.otcOrderNum}`
            // ) {
            //   response.code = 502;
            //   response.msg = 'otcOrderNum is invalid';
            //   return response;
            // }
            response.data.otcOrderNum = withdrawStatusResponse.otcOrderNum;
            const sign = this.getWithdrawStatusResponseSign(withdrawStatusResponse, this.configService.get('JBP_SECRETKEY'));
            if (sign.toUpperCase() !== withdrawStatusResponse.sign.toUpperCase()) {
                response.code = 503;
                response.msg = 'sign is invalid';
                return response;
            }
            order.status = this.getOrderStatusByDepositStatus(withdrawStatusResponse.tradeStatus);
            order.providerOrderId = withdrawStatusResponse.otcOrderNum;
            if (order.status === _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["OrderStatusEnum"].SUCCESS) {
                yield this.withdrawBCAfterWithdrawCallback(order);
            }
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    yield this.updateOrderAfterWithdrawCallback(order, transaction);
                }));
            }
            catch (error) {
                response.code = 504;
                response.msg = 'unknown error';
                return response;
            }
            response.code = 200;
            response.msg = 'success';
            response.success = true;
            return response;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Deposit Request Sign
    ////////////////////////////////////////////////////////////////////////////////
    getDepositRequestSign(params, key) {
        const txtSource = `areaCode=${params.areaCode}` +
            `&asyncUrl=${params.asyncUrl}` +
            `&coinSign=${params.coinSign}` +
            `&companyId=${params.companyId}` +
            `&companyOrderNum=${params.companyOrderNum}` +
            `&kyc=${params.kyc}` +
            `&orderPayChannel=${params.orderPayChannel}` +
            `&orderTime=${params.orderTime}` +
            `&orderType=${params.orderType}` +
            `&payCoinSign=${params.payCoinSign}` +
            `&phone=${params.phone}` +
            `&secretKey=${key}` +
            `&syncUrl=${params.syncUrl}` +
            `&total=${params.total}`; //+
        //`&username=${params.username}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_21__(txtSource);
        return txtDecryption;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Withdraw Request Sign
    ////////////////////////////////////////////////////////////////////////////////
    getWithdrawRequestSign(params, key) {
        const txtSource = `areaCode=${params.areaCode}` +
            `&asyncUrl=${params.asyncUrl}` +
            `&coinAmount=${params.coinAmount}` +
            `&coinSign=${params.coinSign}` +
            `&companyId=${params.companyId}` +
            `&companyOrderNum=${params.companyOrderNum}` +
            `&kyc=${params.kyc}` +
            `&orderPayChannel=${params.orderPayChannel}` +
            `&orderTime=${params.orderTime}` +
            `&orderType=${params.orderType}` +
            `&payCardBank=${params.payCardBank}` +
            `&payCardNo=${params.payCardNo}` +
            `&payCoinSign=${params.payCoinSign}` +
            `&phone=${params.phone}` +
            `&secretKey=${key}` +
            `&syncUrl=${params.syncUrl}` +
            //`&total=${params.total}` +
            `&username=${params.username}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_21__(txtSource);
        return txtDecryption;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Deposit Status Sign
    ////////////////////////////////////////////////////////////////////////////////
    getDepositStatusResponseSign(paymentStatus, key) {
        const txtSource = `coinAmount=${paymentStatus.coinAmount}` +
            `&coinSign=${paymentStatus.coinSign}` +
            `&companyOrderNum=${paymentStatus.companyOrderNum}` +
            `&orderType=${paymentStatus.orderType}` +
            `&otcOrderNum=${paymentStatus.otcOrderNum}` +
            `&secretKey=${key}` +
            `&successAmount=${paymentStatus.successAmount}` +
            `&total=${paymentStatus.total}` +
            `&tradeOrderTime=${paymentStatus.tradeOrderTime}` +
            `&tradeStatus=${paymentStatus.tradeStatus}` +
            `&unitPrice=${paymentStatus.unitPrice}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_21__(txtSource);
        return txtDecryption;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Deposit Status Sign
    ////////////////////////////////////////////////////////////////////////////////
    getWithdrawStatusResponseSign(paymentStatus, key) {
        const txtSource = `coinAmount=${paymentStatus.coinAmount}` +
            `&coinSign=${paymentStatus.coinSign}` +
            `&companyOrderNum=${paymentStatus.companyOrderNum}` +
            `&orderType=${paymentStatus.orderType}` +
            `&otcOrderNum=${paymentStatus.otcOrderNum}` +
            `&secretKey=${key}` +
            `&successAmount=${paymentStatus.successAmount}` +
            `&total=${paymentStatus.total}` +
            `&tradeOrderTime=${paymentStatus.tradeOrderTime}` +
            `&tradeStatus=${paymentStatus.tradeStatus}` +
            `&unitPrice=${paymentStatus.unitPrice}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_21__(txtSource);
        return txtDecryption;
    }
    getPrice() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const host = this.configService.get('JBP_HOST');
            const url = this.configService.get('JBP_GET_PRICE');
            const response = yield this.httpService
                .get(`https://${host}/${url}`, { params: { coinType: 'cnyusdt' } })
                .toPromise();
            return response.data;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Frozen Status By Channel DepositResult
    ////////////////////////////////////////////////////////////////////////////////
    getFrozenByChannelDepositResult(paymentProviderChannel, depositRequest, depositResult) {
        const errorCode = depositResult
            ? numeral__WEBPACK_IMPORTED_MODULE_20__(depositResult.errorCode).value()
            : null;
        if (errorCode === null) {
            return false;
        }
        const frozenCodes = this.configService.get('jbp.DEPOSIT_FROZEN_CODE') || [];
        return (frozenCodes.filter((frozenCode) => frozenCode === errorCode).length > 0);
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Frozen Status By Channel WithdrawResult
    ////////////////////////////////////////////////////////////////////////////////
    getFrozenByChannelWithdrawResult(withdrawResult) {
        const errorCode = withdrawResult
            ? numeral__WEBPACK_IMPORTED_MODULE_20__(withdrawResult.errorCode).value()
            : null;
        if (errorCode === null) {
            return false;
        }
        const frozenCodes = this.configService.get('jbp.WITHDRAW_FROZEN_CODE') || [];
        return (frozenCodes.filter((frozenCode) => frozenCode === errorCode).length > 0);
    }
};
JBPPaymentProviderService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_9__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_bank_entity__WEBPACK_IMPORTED_MODULE_25__["BankModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(18, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_test_entity__WEBPACK_IMPORTED_MODULE_26__["TestModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [Object, typeof (_a = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_10__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_10__["ConfigService"]) === "function" ? _a : Object, typeof (_b = typeof _channel_channel_service__WEBPACK_IMPORTED_MODULE_12__["ChannelService"] !== "undefined" && _channel_channel_service__WEBPACK_IMPORTED_MODULE_12__["ChannelService"]) === "function" ? _b : Object, typeof (_c = typeof _bank_bank_service__WEBPACK_IMPORTED_MODULE_27__["BankService"] !== "undefined" && _bank_bank_service__WEBPACK_IMPORTED_MODULE_27__["BankService"]) === "function" ? _c : Object, typeof (_d = typeof _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_14__["DepositPendingOrderService"] !== "undefined" && _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_14__["DepositPendingOrderService"]) === "function" ? _d : Object, typeof (_e = typeof _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_13__["DepositOrderService"] !== "undefined" && _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_13__["DepositOrderService"]) === "function" ? _e : Object, typeof (_f = typeof _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_16__["WithdrawPendingOrderService"] !== "undefined" && _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_16__["WithdrawPendingOrderService"]) === "function" ? _f : Object, typeof (_g = typeof _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_15__["WithdrawOrderService"] !== "undefined" && _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_15__["WithdrawOrderService"]) === "function" ? _g : Object, typeof (_h = typeof _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_18__["PaymentProviderChannelService"] !== "undefined" && _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_18__["PaymentProviderChannelService"]) === "function" ? _h : Object, typeof (_j = typeof _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_17__["PaymentProviderBankService"] !== "undefined" && _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_17__["PaymentProviderBankService"]) === "function" ? _j : Object, typeof (_k = typeof _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_31__["PaymentProviderUsdtProtoService"] !== "undefined" && _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_31__["PaymentProviderUsdtProtoService"]) === "function" ? _k : Object, typeof (_l = typeof _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_28__["PaymentProviderCardService"] !== "undefined" && _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_28__["PaymentProviderCardService"]) === "function" ? _l : Object, typeof (_m = typeof _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_29__["PaymentProviderEntityService"] !== "undefined" && _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_29__["PaymentProviderEntityService"]) === "function" ? _m : Object, typeof (_o = typeof _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_30__["PaymentProviderSharedService"] !== "undefined" && _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_30__["PaymentProviderSharedService"]) === "function" ? _o : Object, typeof (_p = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_3__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_3__["Sequelize"]) === "function" ? _p : Object, typeof (_q = typeof _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_11__["BetConstructService"] !== "undefined" && _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_11__["BetConstructService"]) === "function" ? _q : Object, typeof (_r = typeof _options_options_service__WEBPACK_IMPORTED_MODULE_33__["OptionsService"] !== "undefined" && _options_options_service__WEBPACK_IMPORTED_MODULE_33__["OptionsService"]) === "function" ? _r : Object, typeof (_s = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_9__["HttpService"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_9__["HttpService"]) === "function" ? _s : Object, Object])
], JBPPaymentProviderService);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/mszf/dto/mszf.deposit.request.params.ts":
/*!*********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/mszf/dto/mszf.deposit.request.params.ts ***!
  \*********************************************************************************************************/
/*! exports provided: MSZFDepositRequestParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSZFDepositRequestParams", function() { return MSZFDepositRequestParams; });
class MSZFDepositRequestParams {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/mszf/dto/mszf.deposit.result.ts":
/*!*************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/mszf/dto/mszf.deposit.result.ts ***!
  \*************************************************************************************************/
/*! exports provided: MSZFErrorMsg, MSZFDepositResult, MSZFDepositResultData, MSZFChannelDepositResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSZFErrorMsg", function() { return MSZFErrorMsg; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSZFDepositResult", function() { return MSZFDepositResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSZFDepositResultData", function() { return MSZFDepositResultData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSZFChannelDepositResult", function() { return MSZFChannelDepositResult; });
/* harmony import */ var _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../payment.provider.deposit.result */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.deposit.result.ts");

class MSZFErrorMsg {
}
class MSZFDepositResult extends _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderDepositResult"] {
}
class MSZFDepositResultData extends _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderDepositResultData"] {
    static responseFactory(data) {
        const depositResultData = new MSZFDepositResultData();
        depositResultData.httpUrl = data.httpUrl;
        depositResultData.url = depositResultData.httpsUrl = data.httpsUrl;
        depositResultData.sign = data.sign;
        return depositResultData;
    }
}
class MSZFChannelDepositResult extends _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderChannelDepositResult"] {
    static responseFactory(response, providerName) {
        const { result, errorMsg, data } = response.data;
        const depositResult = new MSZFChannelDepositResult();
        depositResult.result = result;
        depositResult.providerName = providerName;
        depositResult.errorMessage = null;
        if (errorMsg) {
            depositResult.errorCode = errorMsg.code;
            depositResult.errorMessage = `${errorMsg.errorMsg} ${errorMsg.descript}`;
            // mSZFPaymentProviderDepositResult.errorMessage.code = errorMsg.code;
            // mSZFPaymentProviderDepositResult.errorMessage.descript = errorMsg.descript;
            // mSZFPaymentProviderDepositResult.errorMessage.errorMsg = errorMsg.errorMsg;
        }
        depositResult.data = null;
        if (data) {
            depositResult.data = MSZFDepositResultData.responseFactory(data);
            depositResult.providerOrderId = data.gamerOrderId || null;
        }
        return depositResult;
    }
    static errorFactory(error, providerName, defaultErrorCode) {
        const result = new MSZFChannelDepositResult();
        result.result = false;
        result.providerOrderId = null;
        result.providerName = providerName;
        const { status, message } = error;
        result.errorMessage = message || 'Unknown Error';
        result.errorCode = defaultErrorCode;
        result.error = error;
        return result;
    }
    sanitizePaymentProviderDepositResult() {
        if (this.result && this.data) {
            const data = this.data;
            delete data.sign;
            delete data.httpUrl;
            delete data.httpsUrl;
        }
        delete this.providerOrderId;
        return this;
    }
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/mszf/dto/mszf.deposit.status.response.dto.ts":
/*!**************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/mszf/dto/mszf.deposit.status.response.dto.ts ***!
  \**************************************************************************************************************/
/*! exports provided: MSZFDepositStatusResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSZFDepositStatusResponseDto", function() { return MSZFDepositStatusResponseDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../payment.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/payment.status.response.dto.ts");
/* harmony import */ var _mszf_payment_provider_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../mszf.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/mszf/mszf.payment.provider.service.ts");





/*************Example*****************
{
    "gamerOrderId": "D15608558484680374",
    "merchantOrderId": "ORDER001",
    "currencyCode": "CNY",
    "paymentTypeCode": "WECHAT",
    "amount": "100.00",
    "remark": "000354",
    "mp": "testMP",
    "status": "Success",
    "sign": "711c4b90c921d00b17425165b09f49c2"
    }
***************************************/
class MSZFDepositStatusResponseDto extends _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_3__["PaymentStatusResponseDto"] {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], MSZFDepositStatusResponseDto.prototype, "gamerOrderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], MSZFDepositStatusResponseDto.prototype, "merchantOrderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], MSZFDepositStatusResponseDto.prototype, "currencyCode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], MSZFDepositStatusResponseDto.prototype, "paymentTypeCode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], MSZFDepositStatusResponseDto.prototype, "amount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], MSZFDepositStatusResponseDto.prototype, "remark", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(_mszf_payment_provider_service__WEBPACK_IMPORTED_MODULE_4__["MSZFPaymentStatusEnum"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], MSZFDepositStatusResponseDto.prototype, "status", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], MSZFDepositStatusResponseDto.prototype, "mp", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], MSZFDepositStatusResponseDto.prototype, "sign", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/mszf/dto/mszf.withdraw.request.params.ts":
/*!**********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/mszf/dto/mszf.withdraw.request.params.ts ***!
  \**********************************************************************************************************/
/*! exports provided: MSZFWithdrawRequestParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSZFWithdrawRequestParams", function() { return MSZFWithdrawRequestParams; });
class MSZFWithdrawRequestParams {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/mszf/dto/mszf.withdraw.result.ts":
/*!**************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/mszf/dto/mszf.withdraw.result.ts ***!
  \**************************************************************************************************/
/*! exports provided: MSZFWithdrawResult, MSZFChannelWithdrawResultData, MSZFChannelWithdrawResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSZFWithdrawResult", function() { return MSZFWithdrawResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSZFChannelWithdrawResultData", function() { return MSZFChannelWithdrawResultData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSZFChannelWithdrawResult", function() { return MSZFChannelWithdrawResult; });
/* harmony import */ var _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../payment.provider.withdraw.result */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.withdraw.result.ts");

class MSZFWithdrawResult extends _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderWithdrawResult"] {
}
class MSZFChannelWithdrawResultData extends _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderWithdrawResultData"] {
    static responseFactory(data) {
        const mszfWithdrawResultData = new MSZFChannelWithdrawResultData();
        mszfWithdrawResultData.merchantOrderId = data.merchantOrderId;
        mszfWithdrawResultData.sign = data.sign;
        return mszfWithdrawResultData;
    }
}
class MSZFChannelWithdrawResult extends _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderChannelWithdrawResult"] {
    static responseFactory(response, providerName) {
        const withdrawResult = new MSZFChannelWithdrawResult();
        withdrawResult.result = false;
        withdrawResult.providerName = providerName;
        const { result, errorMsg, data } = response.data;
        withdrawResult.result = result;
        withdrawResult.providerId = null;
        withdrawResult.providerName = providerName;
        if (errorMsg) {
            withdrawResult.errorMessage = `${errorMsg.errorMsg} ${errorMsg.descript}`;
            withdrawResult.errorCode = errorMsg.code;
            return withdrawResult;
        }
        if (data) {
            withdrawResult.data = MSZFChannelWithdrawResultData.responseFactory(data);
            withdrawResult.providerId = data.gamerOrderId || null;
        }
        withdrawResult.result = true;
        return withdrawResult;
    }
    static errorFactory(error, providerName, defaultErrorCode) {
        const result = new MSZFChannelWithdrawResult();
        result.result = false;
        result.providerId = null;
        result.providerName = providerName;
        const { status, message } = error;
        result.errorMessage = message || 'Unknown Error';
        result.errorCode = defaultErrorCode;
        result.error = error;
        return result;
    }
    sanitizePaymentProviderWithdrawResult() {
        if (this.result && this.data) {
            const data = this.data;
            delete data.merchantOrderId;
            delete data.sign;
        }
        delete this.providerId;
        return this;
    }
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/mszf/dto/mszf.withdraw.status.response.dto.ts":
/*!***************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/mszf/dto/mszf.withdraw.status.response.dto.ts ***!
  \***************************************************************************************************************/
/*! exports provided: MSZFWithdrawStatusResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSZFWithdrawStatusResponseDto", function() { return MSZFWithdrawStatusResponseDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../payment.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/payment.status.response.dto.ts");
/* harmony import */ var _mszf_payment_provider_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../mszf.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/mszf/mszf.payment.provider.service.ts");





/*************Example*****************
{
    "gamerOrderId": "D15608558484680374",
    "merchantOrderId": "ORDER001",
    "currencyCode": "CNY",
    "paymentTypeCode": "WECHAT",
    "amount": "100.00",
    "remark": "000354",
    "mp": "testMP",
    "status": "Success",
    "sign": "711c4b90c921d00b17425165b09f49c2"
    }
***************************************/
class MSZFWithdrawStatusResponseDto extends _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_3__["PaymentStatusResponseDto"] {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], MSZFWithdrawStatusResponseDto.prototype, "gamerOrderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], MSZFWithdrawStatusResponseDto.prototype, "merchantOrderId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], MSZFWithdrawStatusResponseDto.prototype, "currencyCode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], MSZFWithdrawStatusResponseDto.prototype, "paymentTypeCode", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], MSZFWithdrawStatusResponseDto.prototype, "amount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], MSZFWithdrawStatusResponseDto.prototype, "remark", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(_mszf_payment_provider_service__WEBPACK_IMPORTED_MODULE_4__["MSZFPaymentStatusEnum"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], MSZFWithdrawStatusResponseDto.prototype, "status", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], MSZFWithdrawStatusResponseDto.prototype, "mp", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], MSZFWithdrawStatusResponseDto.prototype, "sign", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/mszf/mszf.payment.provder.controller.ts":
/*!*********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/mszf/mszf.payment.provder.controller.ts ***!
  \*********************************************************************************************************/
/*! exports provided: MSZFPaymentCallbackController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSZFPaymentCallbackController", function() { return MSZFPaymentCallbackController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var nest_winston__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! nest-winston */ "nest-winston");
/* harmony import */ var nest_winston__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(nest_winston__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _dto_mszf_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dto/mszf.deposit.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/mszf/dto/mszf.deposit.status.response.dto.ts");
/* harmony import */ var _dto_mszf_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dto/mszf.withdraw.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/mszf/dto/mszf.withdraw.status.response.dto.ts");
/* harmony import */ var _mszf_payment_provider_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./mszf.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/mszf/mszf.payment.provider.service.ts");
/* harmony import */ var _decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../decorators/request.ip.decorators */ "./apps/backend/src/app/decorators/request.ip.decorators.ts");
var _a, _b, _c, _d, _e, _f;









let MSZFPaymentCallbackController = class MSZFPaymentCallbackController {
    constructor(logger, mszfPaymentProviderService) {
        this.logger = logger;
        this.mszfPaymentProviderService = mszfPaymentProviderService;
    }
    depositCallBack(mszfPaymentStatusResponseDto, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.logger.debug('Despoit callback parameters are ');
            this.logger.debug(JSON.stringify(mszfPaymentStatusResponseDto));
            return this.mszfPaymentProviderService.depositCallback(mszfPaymentStatusResponseDto, ip);
        });
    }
    withdrawCallBack(mszfPaymentStatusResponseDto, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.logger.debug('Withdrawal callback parameters are ');
            this.logger.debug(JSON.stringify(mszfPaymentStatusResponseDto));
            return this.mszfPaymentProviderService.withdrawCallback(mszfPaymentStatusResponseDto, ip);
        });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].mszfcallbackDeposit),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].depositMSZFCallback,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_8__["RequestIpAddress"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _dto_mszf_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__["MSZFDepositStatusResponseDto"] !== "undefined" && _dto_mszf_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__["MSZFDepositStatusResponseDto"]) === "function" ? _a : Object, String]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_b = typeof Promise !== "undefined" && Promise) === "function" ? _b : Object)
], MSZFPaymentCallbackController.prototype, "depositCallBack", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].mszfcallbackWithdraw),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].withdrawMSZFCallback,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_8__["RequestIpAddress"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_c = typeof _dto_mszf_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__["MSZFWithdrawStatusResponseDto"] !== "undefined" && _dto_mszf_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__["MSZFWithdrawStatusResponseDto"]) === "function" ? _c : Object, String]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_d = typeof Promise !== "undefined" && Promise) === "function" ? _d : Object)
], MSZFPaymentCallbackController.prototype, "withdrawCallBack", null);
MSZFPaymentCallbackController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].payment),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].paymentEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Inject"])(nest_winston__WEBPACK_IMPORTED_MODULE_4__["WINSTON_MODULE_PROVIDER"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_e = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Logger"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Logger"]) === "function" ? _e : Object, typeof (_f = typeof _mszf_payment_provider_service__WEBPACK_IMPORTED_MODULE_7__["MSZFPaymentProviderService"] !== "undefined" && _mszf_payment_provider_service__WEBPACK_IMPORTED_MODULE_7__["MSZFPaymentProviderService"]) === "function" ? _f : Object])
], MSZFPaymentCallbackController);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/mszf/mszf.payment.provider.service.ts":
/*!*******************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/mszf/mszf.payment.provider.service.ts ***!
  \*******************************************************************************************************/
/*! exports provided: MSZFPaymentStatusEnum, MSZFDepositCallbackResultEnum, MSZFWithdrawCallbackResultEnum, MSZFChannelEnum, MSZFPaymentProviderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSZFPaymentStatusEnum", function() { return MSZFPaymentStatusEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSZFDepositCallbackResultEnum", function() { return MSZFDepositCallbackResultEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSZFWithdrawCallbackResultEnum", function() { return MSZFWithdrawCallbackResultEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSZFChannelEnum", function() { return MSZFChannelEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSZFPaymentProviderService", function() { return MSZFPaymentProviderService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! md5 */ "md5");
/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(md5__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _locale__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../locale */ "./apps/backend/src/app/locale.ts");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var nest_winston__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! nest-winston */ "nest-winston");
/* harmony import */ var nest_winston__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(nest_winston__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../order/deposit-order/deposit.order.service */ "./apps/backend/src/app/payment/order/deposit-order/deposit.order.service.ts");
/* harmony import */ var _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../order/deposit-pending-order/deposit.pending.order.service */ "./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.service.ts");
/* harmony import */ var _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../order/withdraw-order/withdraw.order.service */ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.service.ts");
/* harmony import */ var _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../order/withdraw-pending-order/withdraw.pending.order.service */ "./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.service.ts");
/* harmony import */ var _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../payment-provider-bank/payment.provider.bank.service */ "./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.service.ts");
/* harmony import */ var _payment_provider_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.service.ts");
/* harmony import */ var _dto_mszf_deposit_request_params__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./dto/mszf.deposit.request.params */ "./apps/backend/src/app/payment/providers/payment-provider/mszf/dto/mszf.deposit.request.params.ts");
/* harmony import */ var _dto_mszf_deposit_result__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./dto/mszf.deposit.result */ "./apps/backend/src/app/payment/providers/payment-provider/mszf/dto/mszf.deposit.result.ts");
/* harmony import */ var _dto_mszf_withdraw_request_params__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./dto/mszf.withdraw.request.params */ "./apps/backend/src/app/payment/providers/payment-provider/mszf/dto/mszf.withdraw.request.params.ts");
/* harmony import */ var _dto_mszf_withdraw_result__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./dto/mszf.withdraw.result */ "./apps/backend/src/app/payment/providers/payment-provider/mszf/dto/mszf.withdraw.result.ts");
/* harmony import */ var _channel_channel_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../channel/channel.service */ "./apps/backend/src/app/payment/channel/channel.service.ts");
/* harmony import */ var _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../payment-provider-channel/payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");
/* harmony import */ var _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../betContruct/betConstruct.service */ "./apps/backend/src/app/payment/betContruct/betConstruct.service.ts");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! moment-timezone */ "moment-timezone");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var _bank_bank_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../bank/bank.service */ "./apps/backend/src/app/payment/bank/bank.service.ts");
/* harmony import */ var _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../payment-provider-card/payment.provider.card.service */ "./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.service.ts");
/* harmony import */ var _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../payment-provider-entity/Payment.provider.entity.service */ "./apps/backend/src/app/payment/providers/payment-provider-entity/Payment.provider.entity.service.ts");
/* harmony import */ var _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../payment-provider-shared/payment.provider.shared.service */ "./apps/backend/src/app/payment/providers/payment-provider-shared/payment.provider.shared.service.ts");
/* harmony import */ var _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../payment-provider-usdt-protocol/payment.provider.usdt.proto.service */ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.service.ts");
/* harmony import */ var _options_options_service__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../options/options.service */ "./apps/backend/src/app/options/options.service.ts");
/* harmony import */ var _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../error/enums/errorCodeEnum */ "./apps/backend/src/app/error/enums/errorCodeEnum.ts");
var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t;






























var MSZFPaymentStatusEnum;
(function (MSZFPaymentStatusEnum) {
    MSZFPaymentStatusEnum["PENDING"] = "Pending";
    MSZFPaymentStatusEnum["READYTOPAY"] = "ReadyToPay";
    MSZFPaymentStatusEnum["SUCCESS"] = "Success";
    MSZFPaymentStatusEnum["FAILED"] = "Failed";
})(MSZFPaymentStatusEnum || (MSZFPaymentStatusEnum = {}));
var MSZFDepositCallbackResultEnum;
(function (MSZFDepositCallbackResultEnum) {
    MSZFDepositCallbackResultEnum["SUCCESS"] = "SUCCESS";
    MSZFDepositCallbackResultEnum["FAILED"] = "FAILED";
})(MSZFDepositCallbackResultEnum || (MSZFDepositCallbackResultEnum = {}));
var MSZFWithdrawCallbackResultEnum;
(function (MSZFWithdrawCallbackResultEnum) {
    MSZFWithdrawCallbackResultEnum["SUCCESS"] = "SUCCESS";
    MSZFWithdrawCallbackResultEnum["FAILED"] = "FAILED";
})(MSZFWithdrawCallbackResultEnum || (MSZFWithdrawCallbackResultEnum = {}));
var MSZFChannelEnum;
(function (MSZFChannelEnum) {
    MSZFChannelEnum["WECHAT"] = "WECHAT";
    MSZFChannelEnum["WECHATREWARD"] = "WECHATREWARD";
    MSZFChannelEnum["ALIPAY"] = "ALIPAY";
    MSZFChannelEnum["ALIPAYH5"] = "ALIPAYH5";
    MSZFChannelEnum["ALIPAYTOBANK"] = "ALIPAYTOBANK";
    MSZFChannelEnum["ALIPAYTOALIPAY"] = "ALIPAYTOALIPAY";
    MSZFChannelEnum["BANKTOBANK"] = "BANKTOBANK";
})(MSZFChannelEnum || (MSZFChannelEnum = {}));
let MSZFPaymentProviderService = class MSZFPaymentProviderService extends _payment_provider_service__WEBPACK_IMPORTED_MODULE_14__["PaymentProviderService"] {
    constructor(logger, configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, payProviderEntityService, paymentProviderSharedService, sequelize, betConstructService, optionsService, httpService) {
        super(configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, payProviderEntityService, paymentProviderSharedService, sequelize, betConstructService, optionsService);
        this.logger = logger;
        this.configService = configService;
        this.channelService = channelService;
        this.bankService = bankService;
        this.depositPendingOrderService = depositPendingOrderService;
        this.depositOrderService = depositOrderService;
        this.withdrawPendingOrderService = withdrawPendingOrderService;
        this.withdrawOrderService = withdrawOrderService;
        this.paymentProviderChannelService = paymentProviderChannelService;
        this.paymentProviderBankService = paymentProviderBankService;
        this.paymentProviderUsdtProtoService = paymentProviderUsdtProtoService;
        this.paymentProviderCardService = paymentProviderCardService;
        this.payProviderEntityService = payProviderEntityService;
        this.paymentProviderSharedService = paymentProviderSharedService;
        this.sequelize = sequelize;
        this.betConstructService = betConstructService;
        this.optionsService = optionsService;
        this.httpService = httpService;
    }
    getPaymentProviderEnum() {
        return _workspace_enums__WEBPACK_IMPORTED_MODULE_7__["PaymentProviderEnum"].MSZF;
    }
    depositErrorFactory(error) {
        return _dto_mszf_deposit_result__WEBPACK_IMPORTED_MODULE_16__["MSZFDepositResult"].errorFactory(error, this.getPaymentProviderName(), this.configService.get('mszf.DEFAULT_ERROR_CODE'));
    }
    withdrawErrorFactory(error) {
        return _dto_mszf_withdraw_result__WEBPACK_IMPORTED_MODULE_18__["MSZFWithdrawResult"].errorFactory(error, this.getPaymentProviderName(), this.configService.get('mszf.DEFAULT_ERROR_CODE'));
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Implement Deposit Procedure
    ////////////////////////////////////////////////////////////////////////////////
    depositByPaymentProviderChannel(depositRequest, paymentProviderChannel, paymentProviderUsdtProto, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const channelDepositResultBundle = new _payment_provider_service__WEBPACK_IMPORTED_MODULE_14__["PaymentProviderChannelDepositResultBundle"]();
            let depositResult;
            let order;
            const channelDepositResultDefault = { providerName: this.getPaymentProviderName() };
            order = yield this.createOrderBeforeDeposit(depositRequest, paymentProviderChannel, transaction);
            if (!order) {
                return {
                    depositResult: Object.assign(Object.assign({}, channelDepositResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_29__["ErrorCodeEnum"].DEPOSIT_PROVIDER_ORDER_NOT_CREATED }),
                    order: null
                };
            }
            const channel = yield this.channelService.findById(paymentProviderChannel.channelId);
            if (!channel) {
                return {
                    depositResult: Object.assign(Object.assign({}, channelDepositResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_29__["ErrorCodeEnum"].DEPOSIT_PROVIDER_CHANNEL_NOT_FOUND }),
                    order
                };
            }
            const paymentSystemId = _workspace_enums__WEBPACK_IMPORTED_MODULE_7__["PaymentSystemEnum"][depositRequest.paymentSystem];
            let usdtExchangeRate;
            if (paymentSystemId === _workspace_enums__WEBPACK_IMPORTED_MODULE_7__["PaymentSystemEnum"].USDT) {
                const optItem = yield this.optionsService.findOne({
                    where: { optName: 'huobiExchangeData' },
                });
                if (!optItem) {
                    return {
                        depositResult: Object.assign(Object.assign({}, channelDepositResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_29__["ErrorCodeEnum"].DEPOSIT_PROVIDER_USDT_RATE_NOT_FOUND }),
                        order
                    };
                }
                const huobiExchangeData = JSON.parse(optItem.optValue.toString('utf8'));
                usdtExchangeRate = huobiExchangeData.rate;
                order.usdtExchangeRate = usdtExchangeRate;
            }
            const params = new _dto_mszf_deposit_request_params__WEBPACK_IMPORTED_MODULE_15__["MSZFDepositRequestParams"]();
            params.amount = numeral__WEBPACK_IMPORTED_MODULE_4__(paymentSystemId === _workspace_enums__WEBPACK_IMPORTED_MODULE_7__["PaymentSystemEnum"].USDT
                ? order.amount / usdtExchangeRate
                : order.amount).format('0.00');
            params.currencyCode =
                paymentSystemId === _workspace_enums__WEBPACK_IMPORTED_MODULE_7__["PaymentSystemEnum"].USDT
                    ? paymentProviderUsdtProto.providerUsdtProtoCurrency
                    : 'CNY';
            params.merchantCode = this.getDepositMerchantCode(channel);
            params.merchantOrderId = order.orderId;
            params.mp = 'mp';
            params.merchantMemberId = order.userId;
            params.merchantMemberIp = depositRequest.ip;
            params.paymentTypeCode = paymentProviderChannel.providerChannelName;
            params.successUrl =
                this.getBaseUrl(depositRequest.headers['host']) +
                    this.configService.get('mszf.DEPOSIT_SUCCESS_URL');
            this.logger.debug('MSZF desposit success URL is ' + params.successUrl);
            params.sign = this.getDepositRequestSign(params, channel);
            const mszfHost = this.configService.get('MSZF_HOST');
            const url_deposit = this.configService.get('MSZF_DEPOSIT_URL');
            const response = yield this.httpService
                .post(`https://${mszfHost}/${url_deposit}`, params)
                .toPromise();
            depositResult = _dto_mszf_deposit_result__WEBPACK_IMPORTED_MODULE_16__["MSZFChannelDepositResult"].responseFactory(response, this.getPaymentProviderName());
            if (!depositResult) {
                return null;
            }
            depositResult.channelRequestTime = moment_timezone__WEBPACK_IMPORTED_MODULE_22__()
                .utcOffset('+08:00')
                .format('YYYY-MM-DD HH:mm:ss');
            depositResult.channelRequestJson = JSON.stringify(params);
            depositResult.channelResponseJson = JSON.stringify(response.data);
            if (depositResult.result) {
                const responseSign = this.getDepositResponseSign(depositResult, channel);
                const data = (depositResult.data);
                if (responseSign !== data.sign) {
                    depositResult.result = false;
                    depositResult.errorCode = this.configService.get('mszf.SIGN_ERROR_CODE');
                    depositResult.errorMessage = _locale__WEBPACK_IMPORTED_MODULE_5__["MSG_MSZF_RESPONSE_SIGNERROR"];
                    depositResult.data = null;
                }
            }
            else {
                depositResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_29__["ErrorCodeEnum"].DEPOSIT_PROVIDER_FAILED;
            }
            channelDepositResultBundle.depositResult = depositResult;
            channelDepositResultBundle.order = order;
            return channelDepositResultBundle;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// DepositCallback
    ////////////////////////////////////////////////////////////////////////////////
    depositCallback(depositStatusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!(yield this.beforeDepositCallback(depositStatusResponse, ip))) {
                return MSZFDepositCallbackResultEnum.FAILED;
            }
            const order = yield this.depositPendingOrderService.findByOrderId(depositStatusResponse.merchantOrderId);
            if (!order) {
                return MSZFDepositCallbackResultEnum.FAILED;
            }
            const providerChannelName = depositStatusResponse.paymentTypeCode;
            const channelId = yield this.paymentProviderChannelService.getChannelIdByProviderChannelName(this.getPaymentProviderId(), providerChannelName);
            if (!channelId) {
                return MSZFDepositCallbackResultEnum.FAILED;
            }
            const channel = yield this.channelService.findById(channelId);
            if (!channel) {
                return MSZFDepositCallbackResultEnum.FAILED;
            }
            const paymentStatusSign = this.getDepositStatusResponseSign(depositStatusResponse, channel);
            if (paymentStatusSign.toUpperCase() !==
                depositStatusResponse.sign.toUpperCase()) {
                console.log(paymentStatusSign);
                return MSZFDepositCallbackResultEnum.FAILED;
            }
            order.status = this.getOrderStatusByDepositStatus(depositStatusResponse.status);
            if (order.status === _workspace_enums__WEBPACK_IMPORTED_MODULE_7__["OrderStatusEnum"].SUCCESS) {
                const bcOrder = yield this.depositBCAfterDepositCallback(order);
            }
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    yield this.updateOrderAfterDepositCallback(order, transaction);
                }));
            }
            catch (error) {
                console.log(error);
                return MSZFDepositCallbackResultEnum.FAILED;
            }
            return MSZFDepositCallbackResultEnum.SUCCESS;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Implement Withdraw Procedure
    ////////////////////////////////////////////////////////////////////////////////
    withdrawByPaymentProviderChannel(withdrawRequestDto, paymentProviderChannel, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const withdrawProcResult = new _payment_provider_service__WEBPACK_IMPORTED_MODULE_14__["PaymentProviderChannelWithdrawResultBundle"]();
            let withdrawResult;
            const channelWithdrawResultDefault = { providerName: this.getPaymentProviderName() };
            const order = yield this.createOrderBeforeWithdraw(withdrawRequestDto, transaction);
            if (!order) {
                return {
                    withdrawResult: Object.assign(Object.assign({}, channelWithdrawResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_29__["ErrorCodeEnum"].WITHDRAW_PROVIDER_ORDER_NOT_CREATED }),
                    order: null
                };
            }
            const paymentProviderBank = yield this.getPaymentProviderBank(withdrawRequestDto.bankCode);
            if (!paymentProviderBank) {
                return {
                    withdrawResult: Object.assign(Object.assign({}, channelWithdrawResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_29__["ErrorCodeEnum"].DEPOSIT_PROVIDER_ORDER_NOT_CREATED }),
                    order
                };
            }
            const params = new _dto_mszf_withdraw_request_params__WEBPACK_IMPORTED_MODULE_17__["MSZFWithdrawRequestParams"]();
            params.amount = numeral__WEBPACK_IMPORTED_MODULE_4__(order.amount).format('0.00');
            params.bankAccountName = withdrawRequestDto.bankAccountName;
            params.bankAccountNumber = withdrawRequestDto.bankAccountNumber;
            params.bankCode = paymentProviderBank.paymentProviderBankCode;
            if (!withdrawRequestDto.branch || withdrawRequestDto.branch.trim() === '') {
                params.branch = paymentProviderBank.paymentProviderBankName;
            }
            else {
                params.branch = withdrawRequestDto.branch;
            }
            params.city = withdrawRequestDto.city;
            params.currencyCode = 'CNY';
            params.merchantCode = this.getWithdrawalMerchantCode();
            params.merchantOrderId = order.orderId;
            params.mp = 'mp';
            params.province = withdrawRequestDto.province;
            params.successUrl =
                this.getBaseUrl(withdrawRequestDto.headers['host']) +
                    this.configService.get('mszf.WITHDRAWAL_SUCCESS_URL');
            params.sign = this.getWithdrawRequestSign(params);
            const mszfHost = this.configService.get('MSZF_HOST');
            const url_withdraw = this.configService.get('MSZF_WITHDRAWAL_URL');
            const response = yield this.httpService
                .post(`https://${mszfHost}/${url_withdraw}`, params)
                .toPromise();
            withdrawResult = _dto_mszf_withdraw_result__WEBPACK_IMPORTED_MODULE_18__["MSZFChannelWithdrawResult"].responseFactory(response, this.getPaymentProviderName());
            withdrawResult.channelRequestTime = moment_timezone__WEBPACK_IMPORTED_MODULE_22__()
                .utcOffset('+08:00')
                .format('YYYY-MM-DD HH:mm:ss');
            withdrawResult.channelRequestJson = JSON.stringify(params);
            withdrawResult.channelResponseJson = JSON.stringify(response.data);
            if (withdrawResult.result) {
                const responseSign = this.getWithdrawResponseSign(withdrawResult);
                const data = withdrawResult.data;
                if (responseSign !== data.sign) {
                    withdrawResult.result = false;
                    withdrawResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_29__["ErrorCodeEnum"].WITHDRAW_PROVIDER_FAILED;
                    withdrawResult.errorCode = this.configService.get('mszf.SIGN_ERROR_CODE');
                    withdrawResult.errorMessage = _locale__WEBPACK_IMPORTED_MODULE_5__["MSG_MSZF_REQUEST_SIGNERROR"];
                    withdrawResult.data = null;
                }
            }
            else {
                withdrawResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_29__["ErrorCodeEnum"].WITHDRAW_PROVIDER_FAILED;
            }
            withdrawProcResult.withdrawResult = withdrawResult;
            withdrawProcResult.order = order;
            return withdrawProcResult;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Withdraw Callback
    ////////////////////////////////////////////////////////////////////////////////
    withdrawCallback(withdrawStatus, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!(yield this.beforeWithdrawCallback(withdrawStatus, ip))) {
                return MSZFWithdrawCallbackResultEnum.FAILED;
            }
            const order = yield this.withdrawPendingOrderService.findByOrderId(withdrawStatus.merchantOrderId);
            if (!order) {
                return MSZFWithdrawCallbackResultEnum.FAILED;
            }
            const paymentStatusSign = this.getWithdrawStatusResponseSign(withdrawStatus);
            if (paymentStatusSign.toUpperCase() !== withdrawStatus.sign.toUpperCase()) {
                return MSZFWithdrawCallbackResultEnum.FAILED;
            }
            order.status = this.getOrderStatusByWithdrawStatus(withdrawStatus.status);
            if (order.status ===
                _workspace_enums__WEBPACK_IMPORTED_MODULE_7__["OrderStatusEnum"].SUCCESS /* ||
            order.status === OrderStatusEnum.FAILED */) {
                yield this.withdrawBCAfterWithdrawCallback(order);
            }
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    yield this.updateOrderAfterWithdrawCallback(order, transaction);
                }));
            }
            catch (error) {
                return MSZFWithdrawCallbackResultEnum.FAILED;
            }
            return MSZFWithdrawCallbackResultEnum.SUCCESS;
        });
    }
    isAvailable() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return true;
            // const host = this.configService.get<string>('MSZF_HOST');
            // const url_available = this.configService.get<string>('MSZF_AVAILABLE_URL');
            // try {
            //   const response = await this.httpService
            //     .post(`https://${host}/${url_available}`, {})
            //     .toPromise();
            //   if (
            //     response.data &&
            //     response.data.result !== undefined &&
            //     response.data.errorMsg !== undefined &&
            //     response.data.errorMsg.code !== undefined
            //   ) {
            //     return true;
            //   }
            //   return false;
            // } catch (error) {
            //   return false;
            // }
        });
    }
    getDepositMerchantCode(channel) {
        return channel.fromPaymentSystem.isBank && channel.toPaymentSystem.isBank
            ? this.configService.get('MSZF_MERCHANT_GATEWAY_CODE')
            : this.configService.get('MSZF_MERCHANT_CODE');
        return null;
    }
    getWithdrawalMerchantCode() {
        const merchantCode = this.configService.get('MSZF_MERCHANT_GATEWAY_CODE');
        return merchantCode;
    }
    getDepositMerchantSecurityCode(channel) {
        return channel.fromPaymentSystem.isBank && channel.toPaymentSystem.isBank
            ? this.configService.get('MSZF_MERCHANT_GATEWAY_SECURITY_CODE')
            : this.configService.get('MSZF_MERCHANT_SECURITY_CODE');
    }
    getWithdrawalMerchantSecurityCode() {
        const merchantSecurityCode = this.configService.get('MSZF_MERCHANT_GATEWAY_SECURITY_CODE');
        return merchantSecurityCode;
    }
    getDepositRequestSign(params, channel) {
        const amount = params.amount;
        const merchantCode = params.merchantCode;
        const merchantOrderId = params.merchantOrderId;
        const merchantMemberId = params.merchantMemberId;
        const merchantMemberIp = params.merchantMemberIp;
        const paymentTypeCode = params.paymentTypeCode;
        const successUrl = params.successUrl;
        const merchantSecurityCode = this.getDepositMerchantSecurityCode(channel);
        const txtSource = `amount=${amount}|merchantCode=${merchantCode}|merchantMemberId=${merchantMemberId}|merchantMemberIp=${merchantMemberIp}|merchantOrderId=${merchantOrderId}|paymentTypeCode=${paymentTypeCode}|successUrl=${successUrl}${merchantSecurityCode}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_3__(txtSource);
        return txtDecryption;
    }
    getDepositResponseSign(depositResult, channel) {
        const mszfDepositResult = depositResult;
        const data = (mszfDepositResult.data);
        const gamerOrderId = depositResult.providerOrderId;
        const http = data.httpUrl;
        const https = data.httpsUrl;
        const merchantSecurityCode = this.getDepositMerchantSecurityCode(channel);
        const txtSource = `gamerOrderId=${gamerOrderId}|httpUrl=${http}|httpsUrl=${https}${merchantSecurityCode}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_3__(txtSource);
        return txtDecryption;
    }
    getDepositStatusResponseSign(depositStatus, channel) {
        const amount = depositStatus.amount;
        const currencyCode = depositStatus.currencyCode;
        const gamerOrderId = depositStatus.gamerOrderId;
        const merchantOrderId = depositStatus.merchantOrderId;
        const mp = depositStatus.mp;
        const remark = depositStatus.remark;
        const status = depositStatus.status;
        const paymentTypeCode = depositStatus.paymentTypeCode;
        const merchantSecurityCode = this.getDepositMerchantSecurityCode(channel);
        const txtSource = `amount=${amount}|currencyCode=${currencyCode}|gamerOrderId=${gamerOrderId}|merchantOrderId=${merchantOrderId}|mp=${mp}|paymentTypeCode=${paymentTypeCode}|remark=${remark}|status=${status}${merchantSecurityCode}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_3__(txtSource);
        return txtDecryption;
    }
    getWithdrawRequestSign(params) {
        const merchantSecurityCode = this.getWithdrawalMerchantSecurityCode();
        const txtSource = `amount=${params.amount}|bankAccountName=${params.bankAccountName}|bankAccountNumber=${params.bankAccountNumber}|bankCode=${params.bankCode}|branch=${params.branch}|city=${params.city}|merchantCode=${params.merchantCode}|merchantOrderId=${params.merchantOrderId}|province=${params.province}|successUrl=${params.successUrl}${merchantSecurityCode}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_3__(txtSource);
        return txtDecryption;
    }
    getWithdrawResponseSign(withdrawResult) {
        const mszfWithdrawResult = withdrawResult;
        const data = (mszfWithdrawResult.data);
        const gamerOrderId = withdrawResult.providerId;
        const merchantOrderId = data.merchantOrderId;
        const merchantSecurityCode = this.getWithdrawalMerchantSecurityCode();
        const txtSource = `gamerOrderId=${gamerOrderId}|merchantOrderId=${merchantOrderId}${merchantSecurityCode}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_3__(txtSource);
        return txtDecryption;
    }
    getWithdrawStatusResponseSign(withdrawStatus) {
        const amount = withdrawStatus.amount;
        const currencyCode = withdrawStatus.currencyCode;
        const gamerOrderId = withdrawStatus.gamerOrderId;
        const merchantOrderId = withdrawStatus.merchantOrderId;
        const mp = withdrawStatus.mp;
        const remark = withdrawStatus.remark;
        const status = withdrawStatus.status;
        const paymentTypeCode = withdrawStatus.paymentTypeCode;
        const merchantSecurityCode = this.getWithdrawalMerchantSecurityCode();
        const txtSource = `amount=${amount}|currencyCode=${currencyCode}|gamerOrderId=${gamerOrderId}|merchantOrderId=${merchantOrderId}|mp=${mp}|paymentTypeCode=${paymentTypeCode}|remark=${remark}|status=${status}${merchantSecurityCode}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_3__(txtSource);
        return txtDecryption;
    }
    getOrderStatusByDepositStatus(argDepositStatus) {
        return this.getOrderStatusByProviderStatus(argDepositStatus);
    }
    getOrderStatusByWithdrawStatus(argWithdrawStatus) {
        return this.getOrderStatusByProviderStatus(argWithdrawStatus);
    }
    getOrderStatusByProviderStatus(providerStatus) {
        let orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_7__["OrderStatusEnum"].NEW;
        switch (providerStatus) {
            case MSZFPaymentStatusEnum.PENDING:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_7__["OrderStatusEnum"].PENDING;
                break;
            case MSZFPaymentStatusEnum.FAILED:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_7__["OrderStatusEnum"].FAILED;
                break;
            case MSZFPaymentStatusEnum.READYTOPAY:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_7__["OrderStatusEnum"].WAITINGPAID;
                break;
            case MSZFPaymentStatusEnum.SUCCESS:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_7__["OrderStatusEnum"].SUCCESS;
                break;
            default:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_7__["OrderStatusEnum"].FAILED;
                break;
        }
        return orderStatus;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Frozen Status By Channel DepositResult
    ////////////////////////////////////////////////////////////////////////////////
    getFrozenByChannelDepositResult(paymentProviderChannel, depositRequest, depositResult) {
        const errorCode = depositResult
            ? numeral__WEBPACK_IMPORTED_MODULE_4__(depositResult.errorCode).value()
            : null;
        if (errorCode === null) {
            return false;
        }
        const frozenCodes = this.configService.get('mszf.DEPOSIT_FROZEN_CODE') || [];
        return (frozenCodes.filter((frozenCode) => frozenCode === errorCode).length > 0);
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Frozen Status By Channel WithdrawResult
    ////////////////////////////////////////////////////////////////////////////////
    getFrozenByChannelWithdrawResult(withdrawResult) {
        const errorCode = withdrawResult
            ? numeral__WEBPACK_IMPORTED_MODULE_4__(withdrawResult.errorCode).value()
            : null;
        if (errorCode === null) {
            return false;
        }
        const frozenCodes = this.configService.get('mszf.WITHDRAW_FROZEN_CODE') || [];
        return (frozenCodes.filter((frozenCode) => frozenCode === errorCode).length > 0);
    }
};
MSZFPaymentProviderService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Inject"])(nest_winston__WEBPACK_IMPORTED_MODULE_8__["WINSTON_MODULE_PROVIDER"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Logger"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Logger"]) === "function" ? _a : Object, typeof (_b = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"]) === "function" ? _b : Object, typeof (_c = typeof _channel_channel_service__WEBPACK_IMPORTED_MODULE_19__["ChannelService"] !== "undefined" && _channel_channel_service__WEBPACK_IMPORTED_MODULE_19__["ChannelService"]) === "function" ? _c : Object, typeof (_d = typeof _bank_bank_service__WEBPACK_IMPORTED_MODULE_23__["BankService"] !== "undefined" && _bank_bank_service__WEBPACK_IMPORTED_MODULE_23__["BankService"]) === "function" ? _d : Object, typeof (_e = typeof _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_10__["DepositPendingOrderService"] !== "undefined" && _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_10__["DepositPendingOrderService"]) === "function" ? _e : Object, typeof (_f = typeof _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_9__["DepositOrderService"] !== "undefined" && _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_9__["DepositOrderService"]) === "function" ? _f : Object, typeof (_g = typeof _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_12__["WithdrawPendingOrderService"] !== "undefined" && _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_12__["WithdrawPendingOrderService"]) === "function" ? _g : Object, typeof (_h = typeof _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_11__["WithdrawOrderService"] !== "undefined" && _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_11__["WithdrawOrderService"]) === "function" ? _h : Object, typeof (_j = typeof _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_20__["PaymentProviderChannelService"] !== "undefined" && _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_20__["PaymentProviderChannelService"]) === "function" ? _j : Object, typeof (_k = typeof _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_13__["PaymentProviderBankService"] !== "undefined" && _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_13__["PaymentProviderBankService"]) === "function" ? _k : Object, typeof (_l = typeof _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_27__["PaymentProviderUsdtProtoService"] !== "undefined" && _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_27__["PaymentProviderUsdtProtoService"]) === "function" ? _l : Object, typeof (_m = typeof _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_24__["PaymentProviderCardService"] !== "undefined" && _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_24__["PaymentProviderCardService"]) === "function" ? _m : Object, typeof (_o = typeof _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_25__["PaymentProviderEntityService"] !== "undefined" && _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_25__["PaymentProviderEntityService"]) === "function" ? _o : Object, typeof (_p = typeof _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_26__["PaymentProviderSharedService"] !== "undefined" && _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_26__["PaymentProviderSharedService"]) === "function" ? _p : Object, typeof (_q = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_6__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_6__["Sequelize"]) === "function" ? _q : Object, typeof (_r = typeof _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_21__["BetConstructService"] !== "undefined" && _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_21__["BetConstructService"]) === "function" ? _r : Object, typeof (_s = typeof _options_options_service__WEBPACK_IMPORTED_MODULE_28__["OptionsService"] !== "undefined" && _options_options_service__WEBPACK_IMPORTED_MODULE_28__["OptionsService"]) === "function" ? _s : Object, typeof (_t = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpService"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpService"]) === "function" ? _t : Object])
], MSZFPaymentProviderService);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.controller.ts":
/*!************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/payment.provider.controller.ts ***!
  \************************************************************************************************/
/*! exports provided: PaymentProviderController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderController", function() { return PaymentProviderController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);


let PaymentProviderController = class PaymentProviderController {
    constructor() { }
};
PaymentProviderController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [])
], PaymentProviderController);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.deposit.request.dto.ts":
/*!*********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/payment.provider.deposit.request.dto.ts ***!
  \*********************************************************************************************************/
/*! exports provided: PaymentProviderDepositRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderDepositRequestDto", function() { return PaymentProviderDepositRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var libphonenumber_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! libphonenumber-js */ "libphonenumber-js");
/* harmony import */ var libphonenumber_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(libphonenumber_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _dto_payment_deposit_request_dto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../dto/payment.deposit.request.dto */ "./apps/backend/src/app/payment/dto/payment.deposit.request.dto.ts");





class PaymentProviderDepositRequestDto extends _dto_payment_deposit_request_dto__WEBPACK_IMPORTED_MODULE_4__["PaymentDepositRequestDto"] {
    static responseFactory(depositRequestDto, ip, headers) {
        const paymentProviderDepositRequestDto = new PaymentProviderDepositRequestDto();
        if (depositRequestDto.phoneNumber) {
            try {
                let phoneNumber = Object(libphonenumber_js__WEBPACK_IMPORTED_MODULE_3__["parsePhoneNumber"])(depositRequestDto.phoneNumber, 'CN');
                if (!phoneNumber.isValid() &&
                    depositRequestDto.phoneNumber.substring(0, 1) !== '+') {
                    depositRequestDto.phoneNumber = `+${depositRequestDto.phoneNumber}`;
                    phoneNumber = Object(libphonenumber_js__WEBPACK_IMPORTED_MODULE_3__["parsePhoneNumber"])(depositRequestDto.phoneNumber, 'CN');
                }
                if (phoneNumber.isValid()) {
                    paymentProviderDepositRequestDto.countryCallingCode = (phoneNumber.countryCallingCode);
                    paymentProviderDepositRequestDto.phoneNumber = phoneNumber
                        .format('NATIONAL', {
                        humanReadable: false,
                        nationalPrefix: false,
                        v2: false,
                    })
                        .replace(/\D/g, '');
                }
            }
            catch (error) { }
        }
        paymentProviderDepositRequestDto.amount = numeral__WEBPACK_IMPORTED_MODULE_2__(depositRequestDto.amount).value();
        paymentProviderDepositRequestDto.paymentSystem =
            depositRequestDto.paymentSystem;
        paymentProviderDepositRequestDto.userId = depositRequestDto.userId;
        paymentProviderDepositRequestDto.ip = ip;
        paymentProviderDepositRequestDto.bankCode = depositRequestDto.bankCode;
        paymentProviderDepositRequestDto.usdtProto = depositRequestDto.usdtProto;
        paymentProviderDepositRequestDto.headers = headers;
        paymentProviderDepositRequestDto.userName = depositRequestDto.userName;
        //paymentProviderDepositRequestDto.phoneNumber = depositRequestDto.phoneNumber;
        return paymentProviderDepositRequestDto;
    }
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_1__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_1__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderDepositRequestDto.prototype, "ip", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.deposit.result.ts":
/*!****************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/payment.provider.deposit.result.ts ***!
  \****************************************************************************************************/
/*! exports provided: PaymentProviderDepositResultData, PaymentProviderChannelDepositResult, PaymentProviderDepositResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderDepositResultData", function() { return PaymentProviderDepositResultData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderChannelDepositResult", function() { return PaymentProviderChannelDepositResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderDepositResult", function() { return PaymentProviderDepositResult; });
class PaymentProviderDepositResultData {
}
class PaymentProviderChannelDepositResult {
    constructor() {
        this.result = false;
        this.errorMessage = null;
        this.data = null;
    }
}
class PaymentProviderDepositResult {
    static errorFactory(error, providerName, defaultErrorCode) {
        const result = new PaymentProviderDepositResult();
        result.result = false;
        result.paymentProviderName = providerName;
        const { status, message } = error;
        result.errorMessage = message || 'Unknown Error';
        result.errorCode = defaultErrorCode;
        result.error = error;
        return result;
    }
    static bcCheckClientErrorFactory(bcCheckClientOut) {
        const result = new PaymentProviderDepositResult();
        result.result = bcCheckClientOut.result;
        result.errorCode = `${bcCheckClientOut.errorCode}`;
        result.errorMessage = bcCheckClientOut.errorMessage;
        return result;
    }
    santitize() {
        if (this.paymentProviderChannelDepositResults !== undefined) {
            delete this.paymentProviderChannelDepositResults;
        }
        return this;
    }
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.module.ts":
/*!********************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/payment.provider.module.ts ***!
  \********************************************************************************************/
/*! exports provided: PaymentProviderModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderModule", function() { return PaymentProviderModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_bank_entity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/bank.entity */ "./apps/backend/src/app/models/bank.entity.ts");
/* harmony import */ var _models_options_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../models/options.model */ "./apps/backend/src/app/models/options.model.ts");
/* harmony import */ var _models_test_entity__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../models/test.entity */ "./apps/backend/src/app/models/test.entity.ts");
/* harmony import */ var _options_options_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../options/options.service */ "./apps/backend/src/app/options/options.service.ts");
/* harmony import */ var _bank_bank_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../bank/bank.module */ "./apps/backend/src/app/payment/bank/bank.module.ts");
/* harmony import */ var _betContruct_betConsturct_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../betContruct/betConsturct.module */ "./apps/backend/src/app/payment/betContruct/betConsturct.module.ts");
/* harmony import */ var _channel_channel_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../channel/channel.module */ "./apps/backend/src/app/payment/channel/channel.module.ts");
/* harmony import */ var _order_deposit_order_deposit_order_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../order/deposit-order/deposit.order.module */ "./apps/backend/src/app/payment/order/deposit-order/deposit.order.module.ts");
/* harmony import */ var _order_deposit_pending_order_deposit_pending_order_module__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../order/deposit-pending-order/deposit.pending.order.module */ "./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.module.ts");
/* harmony import */ var _order_deposit_deposit_order_all_module__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../order/deposit/deposit.order.all.module */ "./apps/backend/src/app/payment/order/deposit/deposit.order.all.module.ts");
/* harmony import */ var _order_withdraw_order_withdraw_order_module__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../order/withdraw-order/withdraw.order.module */ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.module.ts");
/* harmony import */ var _order_withdraw_pending_order_withdraw_pending_order_module__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../order/withdraw-pending-order/withdraw.pending.order.module */ "./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.module.ts");
/* harmony import */ var _order_withdraw_withdraw_order_all_module__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../order/withdraw/withdraw.order.all.module */ "./apps/backend/src/app/payment/order/withdraw/withdraw.order.all.module.ts");
/* harmony import */ var _payment_provider_bank_payment_provider_bank_module__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../payment-provider-bank/payment.provider.bank.module */ "./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.module.ts");
/* harmony import */ var _payment_provider_card_payment_provider_card_module__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../payment-provider-card/payment.provider.card.module */ "./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.module.ts");
/* harmony import */ var _payment_provider_channel_payment_provider_channel_module__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../payment-provider-channel/payment.provider.channel.module */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.module.ts");
/* harmony import */ var _payment_provider_entity_payment_provider_entity_module__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../payment-provider-entity/payment.provider.entity.module */ "./apps/backend/src/app/payment/providers/payment-provider-entity/payment.provider.entity.module.ts");
/* harmony import */ var _payment_provider_shared_payment_provider_shared_module__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../payment-provider-shared/payment.provider.shared.module */ "./apps/backend/src/app/payment/providers/payment-provider-shared/payment.provider.shared.module.ts");
/* harmony import */ var _payment_provider_usdt_protocol_payment_provider_usdt_proto_module__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../payment-provider-usdt-protocol/payment.provider.usdt.proto.module */ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.module.ts");
/* harmony import */ var _bisa_bisa_payment_provider_controller__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./bisa/bisa.payment.provider.controller */ "./apps/backend/src/app/payment/providers/payment-provider/bisa/bisa.payment.provider.controller.ts");
/* harmony import */ var _bisa_bisa_payment_provider_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./bisa/bisa.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/bisa/bisa.payment.provider.service.ts");
/* harmony import */ var _card_payment_provider_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./card.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/card.payment.provider.service.ts");
/* harmony import */ var _d1f_d1f_payment_provider_controller__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./d1f/d1f.payment.provider.controller */ "./apps/backend/src/app/payment/providers/payment-provider/d1f/d1f.payment.provider.controller.ts");
/* harmony import */ var _d1f_d1f_payment_provider_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./d1f/d1f.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/d1f/d1f.payment.provider.service.ts");
/* harmony import */ var _dbpay_dbpay_payment_provider_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./dbpay/dbpay.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/dbpay/dbpay.payment.provider.service.ts");
/* harmony import */ var _hengxin_hengxin_payment_provider_controller__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./hengxin/hengxin.payment.provider.controller */ "./apps/backend/src/app/payment/providers/payment-provider/hengxin/hengxin.payment.provider.controller.ts");
/* harmony import */ var _hengxin_hengxin_payment_provider_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./hengxin/hengxin.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/hengxin/hengxin.payment.provider.service.ts");
/* harmony import */ var _jbp_jbp_payment_provider_controller__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./jbp/jbp.payment.provider.controller */ "./apps/backend/src/app/payment/providers/payment-provider/jbp/jbp.payment.provider.controller.ts");
/* harmony import */ var _jbp_jbp_payment_provider_service__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./jbp/jbp.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/jbp/jbp.payment.provider.service.ts");
/* harmony import */ var _mszf_mszf_payment_provder_controller__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./mszf/mszf.payment.provder.controller */ "./apps/backend/src/app/payment/providers/payment-provider/mszf/mszf.payment.provder.controller.ts");
/* harmony import */ var _mszf_mszf_payment_provider_service__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./mszf/mszf.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/mszf/mszf.payment.provider.service.ts");
/* harmony import */ var _payment_provider_controller__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./payment.provider.controller */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.controller.ts");
/* harmony import */ var _sxc_sxc_payment_provider_controller__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./sxc/sxc.payment.provider.controller */ "./apps/backend/src/app/payment/providers/payment-provider/sxc/sxc.payment.provider.controller.ts");
/* harmony import */ var _sxc_sxc_payment_provider_service__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./sxc/sxc.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/sxc/sxc.payment.provider.service.ts");
/* harmony import */ var _uzpay_uzpay_payment_provider_controller__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./uzpay/uzpay.payment.provider.controller */ "./apps/backend/src/app/payment/providers/payment-provider/uzpay/uzpay.payment.provider.controller.ts");
/* harmony import */ var _uzpay_uzpay_payment_provider_service__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./uzpay/uzpay.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/uzpay/uzpay.payment.provider.service.ts");
/* harmony import */ var _xingchen_xingchen_payment_provider_controller__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./xingchen/xingchen.payment.provider.controller */ "./apps/backend/src/app/payment/providers/payment-provider/xingchen/xingchen.payment.provider.controller.ts");
/* harmony import */ var _xingchen_xingchen_payment_provider_service__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./xingchen/xingchen.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/xingchen/xingchen.payment.provider.service.ts");





































// import { SDDPaymentProviderController } from './sdd/sdd.payment.provider.controller';
// import { SDDPaymentProviderService } from './sdd/sdd.payment.provider.service';




let PaymentProviderModule = class PaymentProviderModule {
};
PaymentProviderModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [
            _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpModule"].register({
                timeout: 45000,
                maxRedirects: 5,
            }),
            _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["SequelizeModule"].forFeature([_models_bank_entity__WEBPACK_IMPORTED_MODULE_3__["BankModel"], _models_test_entity__WEBPACK_IMPORTED_MODULE_5__["TestModel"], _models_options_model__WEBPACK_IMPORTED_MODULE_4__["OptionsModel"]]),
            _channel_channel_module__WEBPACK_IMPORTED_MODULE_9__["ChannelModule"],
            _bank_bank_module__WEBPACK_IMPORTED_MODULE_7__["BankModule"],
            _order_deposit_pending_order_deposit_pending_order_module__WEBPACK_IMPORTED_MODULE_11__["DepositPendingOrderModule"],
            _order_deposit_order_deposit_order_module__WEBPACK_IMPORTED_MODULE_10__["DepositOrderModule"],
            _order_withdraw_pending_order_withdraw_pending_order_module__WEBPACK_IMPORTED_MODULE_14__["WithdrawPendingOrderModule"],
            _order_withdraw_order_withdraw_order_module__WEBPACK_IMPORTED_MODULE_13__["WithdrawOrderModule"],
            _order_deposit_deposit_order_all_module__WEBPACK_IMPORTED_MODULE_12__["DepositOrderAllModule"],
            _order_withdraw_withdraw_order_all_module__WEBPACK_IMPORTED_MODULE_15__["WithdrawOrderAllModule"],
            _payment_provider_bank_payment_provider_bank_module__WEBPACK_IMPORTED_MODULE_16__["PaymentProviderBankModule"],
            _payment_provider_channel_payment_provider_channel_module__WEBPACK_IMPORTED_MODULE_18__["PaymentProviderChannelModule"],
            _betContruct_betConsturct_module__WEBPACK_IMPORTED_MODULE_8__["BetConstructModule"],
            _payment_provider_card_payment_provider_card_module__WEBPACK_IMPORTED_MODULE_17__["PaymentProviderCardModule"],
            _payment_provider_entity_payment_provider_entity_module__WEBPACK_IMPORTED_MODULE_19__["PaymentProviderEntityModule"],
            _payment_provider_shared_payment_provider_shared_module__WEBPACK_IMPORTED_MODULE_20__["PaymentProviderSharedModule"],
            _payment_provider_usdt_protocol_payment_provider_usdt_proto_module__WEBPACK_IMPORTED_MODULE_21__["PaymentProviderUsdtProtoModule"],
        ],
        controllers: [
            _payment_provider_controller__WEBPACK_IMPORTED_MODULE_34__["PaymentProviderController"],
            _mszf_mszf_payment_provder_controller__WEBPACK_IMPORTED_MODULE_32__["MSZFPaymentCallbackController"],
            _d1f_d1f_payment_provider_controller__WEBPACK_IMPORTED_MODULE_25__["D1FPaymentProviderController"],
            _xingchen_xingchen_payment_provider_controller__WEBPACK_IMPORTED_MODULE_39__["XingChenPaymentProviderController"],
            _uzpay_uzpay_payment_provider_controller__WEBPACK_IMPORTED_MODULE_37__["UzPAYPaymentProviderController"],
            //SDDPaymentProviderController,
            _hengxin_hengxin_payment_provider_controller__WEBPACK_IMPORTED_MODULE_28__["HengXinPaymentProviderController"],
            _jbp_jbp_payment_provider_controller__WEBPACK_IMPORTED_MODULE_30__["JBPPaymentProviderController"],
            _sxc_sxc_payment_provider_controller__WEBPACK_IMPORTED_MODULE_35__["SXCPaymentProviderController"],
            _bisa_bisa_payment_provider_controller__WEBPACK_IMPORTED_MODULE_22__["BisaPaymentProviderController"],
        ],
        providers: [
            _options_options_service__WEBPACK_IMPORTED_MODULE_6__["OptionsService"],
            _mszf_mszf_payment_provider_service__WEBPACK_IMPORTED_MODULE_33__["MSZFPaymentProviderService"],
            _d1f_d1f_payment_provider_service__WEBPACK_IMPORTED_MODULE_26__["D1FPaymentProviderService"],
            _xingchen_xingchen_payment_provider_service__WEBPACK_IMPORTED_MODULE_40__["XingChenPaymentProviderService"],
            _uzpay_uzpay_payment_provider_service__WEBPACK_IMPORTED_MODULE_38__["UzPAYPaymentProviderService"],
            //SDDPaymentProviderService,
            _hengxin_hengxin_payment_provider_service__WEBPACK_IMPORTED_MODULE_29__["HengXinPaymentProviderService"],
            _jbp_jbp_payment_provider_service__WEBPACK_IMPORTED_MODULE_31__["JBPPaymentProviderService"],
            _card_payment_provider_service__WEBPACK_IMPORTED_MODULE_24__["CardPaymentProviderService"],
            _sxc_sxc_payment_provider_service__WEBPACK_IMPORTED_MODULE_36__["SXCPaymentProviderService"],
            _dbpay_dbpay_payment_provider_service__WEBPACK_IMPORTED_MODULE_27__["DBPayPaymentProviderService"],
            _bisa_bisa_payment_provider_service__WEBPACK_IMPORTED_MODULE_23__["BisaPaymentProviderService"],
        ],
        exports: [
            _mszf_mszf_payment_provider_service__WEBPACK_IMPORTED_MODULE_33__["MSZFPaymentProviderService"],
            _d1f_d1f_payment_provider_service__WEBPACK_IMPORTED_MODULE_26__["D1FPaymentProviderService"],
            _xingchen_xingchen_payment_provider_service__WEBPACK_IMPORTED_MODULE_40__["XingChenPaymentProviderService"],
            _uzpay_uzpay_payment_provider_service__WEBPACK_IMPORTED_MODULE_38__["UzPAYPaymentProviderService"],
            //SDDPaymentProviderService,
            _hengxin_hengxin_payment_provider_service__WEBPACK_IMPORTED_MODULE_29__["HengXinPaymentProviderService"],
            _jbp_jbp_payment_provider_service__WEBPACK_IMPORTED_MODULE_31__["JBPPaymentProviderService"],
            _card_payment_provider_service__WEBPACK_IMPORTED_MODULE_24__["CardPaymentProviderService"],
            _sxc_sxc_payment_provider_service__WEBPACK_IMPORTED_MODULE_36__["SXCPaymentProviderService"],
            _dbpay_dbpay_payment_provider_service__WEBPACK_IMPORTED_MODULE_27__["DBPayPaymentProviderService"],
            _bisa_bisa_payment_provider_service__WEBPACK_IMPORTED_MODULE_23__["BisaPaymentProviderService"],
        ],
    })
], PaymentProviderModule);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.service.ts":
/*!*********************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/payment.provider.service.ts ***!
  \*********************************************************************************************/
/*! exports provided: PaymentProviderChannelDepositResultBundle, PaymentProviderChannelWithdrawResultBundle, PaymentProviderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderChannelDepositResultBundle", function() { return PaymentProviderChannelDepositResultBundle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderChannelWithdrawResultBundle", function() { return PaymentProviderChannelWithdrawResultBundle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderService", function() { return PaymentProviderService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _order_deposit_order_deposit_order_dto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../order/deposit-order/deposit.order.dto */ "./apps/backend/src/app/payment/order/deposit-order/deposit.order.dto.ts");
/* harmony import */ var _order_deposit_pending_order_deposit_pending_order_dto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../order/deposit-pending-order/deposit.pending.order.dto */ "./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.dto.ts");
/* harmony import */ var _order_withdraw_order_withdraw_order_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../order/withdraw-order/withdraw.order.dto */ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.dto.ts");
/* harmony import */ var _order_withdraw_pending_order_withdraw_pending_order_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../order/withdraw-pending-order/withdraw.pending.order.dto */ "./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.dto.ts");
/* harmony import */ var _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./payment.provider.deposit.result */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.deposit.result.ts");
/* harmony import */ var _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./payment.provider.withdraw.result */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.withdraw.result.ts");
/* harmony import */ var _payment_exception__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../payment.exception */ "./apps/backend/src/app/payment/payment.exception.ts");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! moment-timezone */ "moment-timezone");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _betContruct_dto_bc_deposit_in_params__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../betContruct/dto/bc.deposit.in.params */ "./apps/backend/src/app/payment/betContruct/dto/bc.deposit.in.params.ts");
/* harmony import */ var _betContruct_dto_bc_withdraw_in_params__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../betContruct/dto/bc.withdraw.in.params */ "./apps/backend/src/app/payment/betContruct/dto/bc.withdraw.in.params.ts");
/* harmony import */ var _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../error/enums/errorCodeEnum */ "./apps/backend/src/app/error/enums/errorCodeEnum.ts");














class PaymentProviderChannelDepositResultBundle {
}
class PaymentProviderChannelWithdrawResultBundle {
}
class PaymentProviderService {
    constructor(configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, paymentProviderEntityService, paymentProviderSahredService, sequelize, betConstructService, optionsService) {
        // const host = this.configService.get('BACKEND_HOST');
        // const globalPrefix = this.configService.get('BACKEND_PREFIX');
        // this.baseURL = 'https://' + host + '/' + globalPrefix;
        this.configService = configService;
        this.channelService = channelService;
        this.bankService = bankService;
        this.depositPendingOrderService = depositPendingOrderService;
        this.depositOrderService = depositOrderService;
        this.withdrawPendingOrderService = withdrawPendingOrderService;
        this.withdrawOrderService = withdrawOrderService;
        this.paymentProviderChannelService = paymentProviderChannelService;
        this.paymentProviderBankService = paymentProviderBankService;
        this.paymentProviderUsdtProtoService = paymentProviderUsdtProtoService;
        this.paymentProviderCardService = paymentProviderCardService;
        this.paymentProviderEntityService = paymentProviderEntityService;
        this.paymentProviderSahredService = paymentProviderSahredService;
        this.sequelize = sequelize;
        this.betConstructService = betConstructService;
        this.optionsService = optionsService;
        //protected baseURL = '';
        this.paymentProviderEntity = null;
        this.paymentProviderEntityService
            .findById(this.getPaymentProviderEnum())
            .then((paymentProvider) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!paymentProvider) {
                return;
            }
            if (paymentProvider.isOnlyCardSupport) {
                yield this.paymentProviderSahredService.uptodateChannelMinMaxAmountForCardProvider(paymentProvider.id);
                return;
            }
            const usdtDepositChannel = yield this.paymentProviderChannelService.findOneDepositUsdtToUsdt(paymentProvider.id);
            if (usdtDepositChannel) {
                const minMaxAmount = yield this.paymentProviderUsdtProtoService.getDepositMinMaxAmount(paymentProvider.id);
                if (minMaxAmount) {
                    if (minMaxAmount.providerMinAmount) {
                        usdtDepositChannel.providerMinAmount =
                            minMaxAmount.providerMinAmount;
                    }
                    if (minMaxAmount.providerMaxAmount) {
                        usdtDepositChannel.providerMaxAmount =
                            minMaxAmount.providerMaxAmount;
                    }
                    yield usdtDepositChannel.save();
                }
            }
            const usdtWithdrawChannel = yield this.paymentProviderChannelService.findOneWithdrawUsdtToUsdt(paymentProvider.id);
            if (usdtWithdrawChannel) {
                const minMaxAmount = yield this.paymentProviderUsdtProtoService.getWithdrawMinMaxAmount(paymentProvider.id);
                if (minMaxAmount) {
                    if (minMaxAmount.providerMinAmount) {
                        usdtWithdrawChannel.providerMinAmount =
                            minMaxAmount.providerMinAmount;
                    }
                    if (minMaxAmount.providerMaxAmount) {
                        usdtWithdrawChannel.providerMaxAmount =
                            minMaxAmount.providerMaxAmount;
                    }
                    yield usdtWithdrawChannel.save();
                }
            }
        }));
    }
    getBaseUrl(host) {
        const globalPrefix = this.configService.get('BACKEND_PREFIX');
        return 'https://' + host + '/' + globalPrefix;
    }
    depositByCard(request) { }
    ////////////////////////////////////////////////////////////////////////////////
    /// PyamnetProviderEntity
    ////////////////////////////////////////////////////////////////////////////////
    getPaymnetProviderEntity() {
        return this.paymentProviderEntity;
    }
    setPaymentProviderEntity(paymentProviderEntity) {
        this.paymentProviderEntity = paymentProviderEntity;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// PaymentProviderName
    ////////////////////////////////////////////////////////////////////////////////
    getPaymentProviderName() {
        return this.paymentProviderEntity
            ? this.paymentProviderEntity.providerName
            : null;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// PaymentProviderId
    ////////////////////////////////////////////////////////////////////////////////
    getPaymentProviderId() {
        return this.paymentProviderEntity ? this.paymentProviderEntity.id : null;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get PaymentProvider Channel
    ////////////////////////////////////////////////////////////////////////////////
    getPaymentProviderChannel(channelId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const paymentProviderId = this.paymentProviderEntity.id;
            if (!this.paymentProviderEntity) {
                return null;
            }
            const paymentProviderChannels = yield this.paymentProviderChannelService.getDeposits(channelId, paymentProviderId);
            if (!paymentProviderChannels || paymentProviderChannels.length < 1) {
                return null;
            }
            return paymentProviderChannels[0];
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get PaymentProvider Bank
    ////////////////////////////////////////////////////////////////////////////////
    getPaymentProviderBank(bankCode) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const paymentProviderId = this.getPaymentProviderId();
            if (!paymentProviderId) {
                return null;
            }
            const paymentProviderBank = yield this.paymentProviderBankService.get(paymentProviderId, _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["BankCodeEnum"][bankCode]);
            if (!paymentProviderBank) {
                return null;
            }
            return paymentProviderBank;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Deposit Procedure
    ////////////////////////////////////////////////////////////////////////////////
    deposit(depositRequest, frozenCheck, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const depositResult = new _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_7__["PaymentProviderDepositResult"]();
            depositResult.result = false;
            depositResult.paymentProviderChannelDepositResults = [];
            const paymentSystemId = _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["PaymentSystemEnum"][depositRequest.paymentSystem];
            let paymentProviderChannels;
            paymentProviderChannels = yield this.paymentProviderChannelService.getDepositablesByPaymentSystem(paymentSystemId, this.getPaymentProviderId(), depositRequest.amount);
            if (!paymentProviderChannels || paymentProviderChannels.length < 1) {
                depositResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_13__["ErrorCodeEnum"].DEPOSIT_PROVIDER_CHANNEL_NOT_FOUND;
                return depositResult;
            }
            let paymentProviderUsdtProto;
            if (paymentSystemId === _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["PaymentSystemEnum"].USDT) {
                const usdtProtoId = _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["UsdtProtocolEnum"][depositRequest.usdtProto];
                if (!usdtProtoId) {
                    depositResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_13__["ErrorCodeEnum"].DEPOSIT_PROVIDER_USDT_PROTO_NOT_FOUND;
                    return depositResult;
                }
                const paymentProviderUsdtProtos = yield this.paymentProviderUsdtProtoService.findAll({
                    where: {
                        paymentProviderId: this.getPaymentProviderId(),
                        usdtProtoId,
                    },
                });
                if (!paymentProviderUsdtProtos || paymentProviderUsdtProtos.length < 1) {
                    depositResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_13__["ErrorCodeEnum"].DEPOSIT_PROVIDER_USDT_PROTO_NOT_FOUND;
                    return depositResult;
                }
                paymentProviderUsdtProto = paymentProviderUsdtProtos[0];
            }
            let ppcDepositResult = null;
            for (let i = 0; i < paymentProviderChannels.length; i++) {
                const paymentProviderChannel = paymentProviderChannels[i];
                const ppcDepositResultBundle = yield this.depositByPaymentProviderChannel(depositRequest, paymentProviderChannel, paymentProviderUsdtProto, transaction);
                if (frozenCheck) {
                    yield this.updateFrozenStatusByChannelDepositResult(paymentProviderChannel, depositRequest, ppcDepositResultBundle ? ppcDepositResultBundle.depositResult : null);
                }
                if (!ppcDepositResultBundle) {
                    ppcDepositResult = {
                        result: false,
                        code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_13__["ErrorCodeEnum"].DEPOSIT_PROVIDER_FAILED_INTERNAL,
                        providerName: this.getPaymentProviderName(),
                        channelName: paymentProviderChannel.channel.channelName,
                        providerChannelName: paymentProviderChannel.providerChannelName,
                    };
                }
                else {
                    ppcDepositResult = ppcDepositResultBundle.depositResult;
                    if (ppcDepositResultBundle.order) {
                        this.updateOrderAfterDeposit(ppcDepositResultBundle.order, ppcDepositResultBundle.depositResult, transaction);
                        depositResult.orderId = ppcDepositResultBundle.order.orderId;
                    }
                }
                depositResult.paymentProviderChannelDepositResults.push(ppcDepositResult);
                if (!ppcDepositResult.result) {
                    continue;
                }
                break;
            }
            depositResult.paymentProviderName = this.getPaymentProviderName();
            depositResult.result = ppcDepositResult.result;
            if (!ppcDepositResult.result) {
                depositResult.code = ppcDepositResult.code;
                depositResult.errorCode = ppcDepositResult.errorCode;
                depositResult.errorMessage = ppcDepositResult.errorMessage;
            }
            else {
                depositResult.data = {
                    url: ppcDepositResult.data ? ppcDepositResult.data.url : null,
                };
            }
            return depositResult;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Withdraw Procedure
    ////////////////////////////////////////////////////////////////////////////////
    withdraw(withdrawRequest, frozenCheck, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const withdrawResult = new _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_8__["PaymentProviderWithdrawResult"]();
            //withdrawResult.result = false;
            withdrawResult.paymentProviderChannelWithdrawResults = [];
            const paymentProviderChannels = yield this.paymentProviderChannelService.getWithdrawablesByPaymentProvider(this.getPaymentProviderId(), withdrawRequest.amount);
            if (!paymentProviderChannels || paymentProviderChannels.length < 1) {
                withdrawResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_13__["ErrorCodeEnum"].WITHDRAW_PROVIDER_CHANNEL_NOT_FOUND;
                withdrawResult.result = false;
                return withdrawResult;
            }
            let ppcWithdrawResult = null;
            for (let i = 0; i < paymentProviderChannels.length; i++) {
                const paymentProviderChannel = paymentProviderChannels[i];
                const ppcWithdrawResultBundle = yield this.withdrawByPaymentProviderChannel(withdrawRequest, paymentProviderChannel, transaction);
                if (frozenCheck) {
                    yield this.updateFrozenStatusByChannelWithdrawResult(paymentProviderChannel, withdrawRequest, ppcWithdrawResultBundle
                        ? ppcWithdrawResultBundle.withdrawResult
                        : null);
                }
                if (!ppcWithdrawResultBundle) {
                    ppcWithdrawResult = {
                        result: false,
                        code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_13__["ErrorCodeEnum"].WITHDRAW_PROVIDER_FAILED_INTERNAL,
                        providerName: this.getPaymentProviderName(),
                        channelName: paymentProviderChannel.channel.channelName,
                        providerChannelName: paymentProviderChannel.providerChannelName,
                    };
                    withdrawResult.paymentProviderChannelWithdrawResults.push(ppcWithdrawResult);
                    continue;
                }
                ppcWithdrawResult = ppcWithdrawResultBundle.withdrawResult;
                if (ppcWithdrawResultBundle.order) {
                    this.updateOrderAfterWithdraw(ppcWithdrawResultBundle.order, ppcWithdrawResultBundle.withdrawResult, transaction);
                }
                withdrawResult.paymentProviderChannelWithdrawResults.push(ppcWithdrawResult);
                if (!ppcWithdrawResult.result) {
                    continue;
                }
                break;
            }
            withdrawResult.paymentProviderName = this.getPaymentProviderName();
            withdrawResult.code = ppcWithdrawResult.result ? 0 : ppcWithdrawResult.code;
            // withdrawResult.response = {
            //   code: ppcWithdrawResult.result
            //     ? 0
            //     : numeral(ppcWithdrawResult.errorCode).value(),
            // };
            // if (!ppcWithdrawResult.result) {
            //   withdrawResult.response.message = ppcWithdrawResult.errorMessage;
            // }
            return withdrawResult;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Deposit Procedure General Wrapper
    ////////////////////////////////////////////////////////////////////////////////
    depositGeneralWrapper(depositRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let depositResult;
            try {
                depositResult = yield this.deposit(depositRequest, true, null);
                if (!depositResult) {
                    throw new _payment_exception__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderException"]();
                }
            }
            catch (error) {
                console.log(error);
                depositResult = this.depositErrorFactory(error);
                depositResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_13__["ErrorCodeEnum"].DEPOSIT_PROVIDER_ERROR_UNKNOWN;
            }
            let paymentProviderDebug = this.configService.get('PAYMENTPROVIDER_DEBUG');
            paymentProviderDebug = paymentProviderDebug ? JSON.parse(paymentProviderDebug) : true;
            if (!paymentProviderDebug) {
                depositResult.santitize();
            }
            return depositResult;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Deposit Procedure PreTry Wrapper
    ////////////////////////////////////////////////////////////////////////////////
    depositPreTryWrapper(depositRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let depositResult;
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    depositResult = yield this.deposit(depositRequest, false, transaction);
                    if (!depositResult) {
                        throw new _payment_exception__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderException"]();
                    }
                    throw new _payment_exception__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderException"]();
                }));
            }
            catch (error) { }
            return depositResult;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Channel Deposit Procedure PreTry Wrapper
    ////////////////////////////////////////////////////////////////////////////////
    channelDepositPreTryWrapper(depositRequest, paymentProviderChannel) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let channelDepositResult = null;
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    const channelDepositResultBundle = yield this.depositByPaymentProviderChannel(depositRequest, paymentProviderChannel, null, transaction);
                    if (!channelDepositResultBundle) {
                        throw new _payment_exception__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderException"]();
                    }
                    channelDepositResult = channelDepositResultBundle.depositResult;
                    throw new _payment_exception__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderException"]();
                }));
            }
            catch (error) { }
            return channelDepositResult;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Withdraw Procedure General Wrapper
    ////////////////////////////////////////////////////////////////////////////////
    withdrawGeneralWrapper(withdrawRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let withdrawResult = null;
            try {
                withdrawResult = yield this.withdraw(withdrawRequest, true, null);
                if (!withdrawResult) {
                    throw new _payment_exception__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderException"]();
                }
            }
            catch (error) {
                console.log(error);
                withdrawResult = this.withdrawErrorFactory(error);
                withdrawResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_13__["ErrorCodeEnum"].WITHDRAW_PROVIDER_ERROR_UNKNOWN;
            }
            let paymentProviderDebug = this.configService.get('PAYMENTPROVIDER_DEBUG');
            paymentProviderDebug = paymentProviderDebug ? JSON.parse(paymentProviderDebug) : true;
            if (!paymentProviderDebug) {
                withdrawResult.santitize();
            }
            return withdrawResult;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Withdraw Procedure PreTry Wrapper
    ////////////////////////////////////////////////////////////////////////////////
    withdrawPreTryWrapper(withdrawRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let withdrawResult = null;
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    withdrawResult = yield this.withdraw(withdrawRequest, false, transaction);
                    if (!withdrawResult) {
                        throw new _payment_exception__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderException"]();
                    }
                    throw new _payment_exception__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderException"]();
                }));
            }
            catch (error) { }
            return withdrawResult;
        });
    }
    channelWithdrawPreTryWrapper(withdrawRequest, paymentProviderChannel) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let withdrawResult = null;
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    const channelWithdrawResultBundle = yield this.withdrawByPaymentProviderChannel(withdrawRequest, paymentProviderChannel, transaction);
                    if (!channelWithdrawResultBundle) {
                        throw new _payment_exception__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderException"]();
                    }
                    withdrawResult = channelWithdrawResultBundle.withdrawResult;
                    throw new _payment_exception__WEBPACK_IMPORTED_MODULE_9__["PaymentProviderException"]();
                }));
            }
            catch (error) { }
            return withdrawResult;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Update PaymentProvider Channel Frozen Status By Deposit Result
    ////////////////////////////////////////////////////////////////////////////////
    updateFrozenStatusByChannelDepositResult(paymentProviderChannel, depositRequest, depositResult) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            paymentProviderChannel.isFrozen = this.getFrozenByChannelDepositResult(paymentProviderChannel, depositRequest, depositResult);
            paymentProviderChannel.frozenCheckedDate = moment_timezone__WEBPACK_IMPORTED_MODULE_10__().toDate();
            yield this.paymentProviderChannelService.update(paymentProviderChannel, null);
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Frozen Status By Channel DepositResult
    ////////////////////////////////////////////////////////////////////////////////
    getFrozenByChannelDepositResult(paymentProviderChannel, depositRequest, depositResult) {
        return depositResult ? !depositResult.result : true;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Update PaymentProvider Channel Frozen Status By Withdraw Result
    ////////////////////////////////////////////////////////////////////////////////
    updateFrozenStatusByChannelWithdrawResult(paymentProviderChannel, withdrawRequest, withdrawResult) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            paymentProviderChannel.isFrozen = this.getFrozenByChannelWithdrawResult(withdrawResult);
            paymentProviderChannel.frozenCheckedDate = moment_timezone__WEBPACK_IMPORTED_MODULE_10__().toDate();
            yield this.paymentProviderChannelService.update(paymentProviderChannel, null);
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Frozen Status By Channel WithdrawResult
    ////////////////////////////////////////////////////////////////////////////////
    getFrozenByChannelWithdrawResult(withdrawResult) {
        return withdrawResult ? !withdrawResult.result : true;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Create Deposit Pending Order By DepositRequest
    ////////////////////////////////////////////////////////////////////////////////
    createOrderBeforeDeposit(depositRequest, paymentProviderChannel, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const orderCreate = new _order_deposit_pending_order_deposit_pending_order_dto__WEBPACK_IMPORTED_MODULE_4__["DepositPendingOrderCreateDto"]();
            orderCreate.orderId =
                `${(numeral__WEBPACK_IMPORTED_MODULE_1__(Math.random().toString(10).substr(2, 1)).value() % 9) + 1}` +
                    `${Math.random().toString(10).substr(2, 7)}`;
            orderCreate.amount = depositRequest.amount;
            orderCreate.channelId = paymentProviderChannel.channelId;
            orderCreate.userId = depositRequest.userId;
            orderCreate.paymentProviderId = this.getPaymentProviderId();
            orderCreate.paymentProviderChannelId = paymentProviderChannel.id;
            orderCreate.status = _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["OrderStatusEnum"].NEW;
            const order = yield this.depositPendingOrderService.create(orderCreate, transaction ? { transaction } : null);
            return order;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Create Deposit Pending Order By DepositRequest
    ////////////////////////////////////////////////////////////////////////////////
    createOrderBeforeDepositByCard(request, paymentProviderChannel, paymentProviderCard, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            // const orderAlready = await this.depositOrderService.findByHash(
            //   request.hash
            // );
            // const pendingOrderAlready = await this.depositPendingOrderService.findByHash(
            //   request.hash
            // );
            const orderCreate = new _order_deposit_pending_order_deposit_pending_order_dto__WEBPACK_IMPORTED_MODULE_4__["DepositPendingOrderCreateDto"]();
            orderCreate.orderId =
                `${(numeral__WEBPACK_IMPORTED_MODULE_1__(Math.random().toString(10).substr(2, 1)).value() % 9) + 1}` +
                    `${Math.random().toString(10).substr(2, 7)}`;
            orderCreate.amount = request.amount;
            orderCreate.channelId = paymentProviderChannel.channelId;
            orderCreate.userId = `${request.userId}`;
            orderCreate.paymentProviderId = this.getPaymentProviderId();
            orderCreate.paymentProviderChannelId = paymentProviderChannel.id;
            orderCreate.status = _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["OrderStatusEnum"].WAITINGPAID;
            orderCreate.userName = request.userName;
            orderCreate.last4Digit = request.last4Digit;
            orderCreate.paymentProviderCardId = paymentProviderCard.id;
            //orderCreate.hash = request.hash;
            const order = yield this.depositPendingOrderService.create(orderCreate, transaction ? { transaction } : null);
            return order;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Update Deposit Order After Deposit
    ////////////////////////////////////////////////////////////////////////////////
    updateOrderAfterDeposit(order, depositResult, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!depositResult.result) {
                order.status = _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["OrderStatusEnum"].FAILED;
                order.errorCode = depositResult.errorCode;
                order.errorMessage = depositResult.errorMessage;
            }
            else {
                order.status = _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["OrderStatusEnum"].WAITINGPAID;
                order.providerOrderId = depositResult.providerOrderId;
            }
            return yield this.depositPendingOrderService.update(order, transaction ? { transaction } : null);
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Update/Remove Pending Deposit
    /// And Create New Deosit Order After DepositCallback
    ////////////////////////////////////////////////////////////////////////////////
    updateOrderAfterDepositCallback(order, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (order.status === _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["OrderStatusEnum"].SUCCESS) {
                const orderCreate = this.buildDepositOrderCreateByPendingOrder(order);
                yield this.depositPendingOrderService.destroy(order, transaction ? { transaction } : null);
                yield this.depositOrderService.create(orderCreate, transaction ? { transaction } : null);
            }
            else {
                yield this.depositPendingOrderService.update(order, transaction ? { transaction } : null);
            }
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Create New Pending Withdraw Order
    ////////////////////////////////////////////////////////////////////////////////
    createOrderBeforeWithdraw(withdrawRequest, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const orderCreate = new _order_withdraw_pending_order_withdraw_pending_order_dto__WEBPACK_IMPORTED_MODULE_6__["WithdrawPendingOrderCreateDto"]();
            orderCreate.orderId =
                `${(numeral__WEBPACK_IMPORTED_MODULE_1__(Math.random().toString(10).substr(2, 1)).value() % 9) + 1}` +
                    `${Math.random().toString(10).substr(2, 7)}`;
            orderCreate.paymentProviderId = this.getPaymentProviderId();
            orderCreate.userId = withdrawRequest.userId;
            orderCreate.clientOrderId = withdrawRequest.orderId;
            orderCreate.currency = withdrawRequest.currency;
            orderCreate.amount = withdrawRequest.amount;
            orderCreate.hashcode = withdrawRequest.hashcode;
            const bank = yield this.bankService.findOne({
                where: { bankCode: withdrawRequest.bankCode },
            });
            if (!bank) {
                return null;
            }
            orderCreate.bankId = bank.id;
            orderCreate.bankAccountName = withdrawRequest.bankAccountName;
            orderCreate.bankAccountNumber = withdrawRequest.bankAccountNumber;
            orderCreate.province = withdrawRequest.province;
            orderCreate.city = withdrawRequest.city;
            orderCreate.branch = withdrawRequest.branch;
            orderCreate.userName = withdrawRequest.userName;
            orderCreate.countryCallingCode = withdrawRequest.countryCallingCode;
            orderCreate.phoneNumber = withdrawRequest.phoneNumber;
            orderCreate.status = _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["OrderStatusEnum"].NEW;
            return yield this.withdrawPendingOrderService.create(orderCreate, transaction ? { transaction } : null);
        });
    }
    static createPendingWithdrawOrderByRequest(withdrawRequest, options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const orderCreate = new _order_withdraw_pending_order_withdraw_pending_order_dto__WEBPACK_IMPORTED_MODULE_6__["WithdrawPendingOrderCreateDto"]();
            orderCreate.orderId =
                `${(numeral__WEBPACK_IMPORTED_MODULE_1__(Math.random().toString(10).substr(2, 1)).value() % 9) + 1}` +
                    `${Math.random().toString(10).substr(2, 7)}`;
            orderCreate.paymentProviderId = null;
            orderCreate.userId = withdrawRequest.userId;
            orderCreate.clientOrderId = withdrawRequest.orderId;
            orderCreate.currency = withdrawRequest.currency;
            orderCreate.amount = withdrawRequest.amount;
            orderCreate.hashcode = withdrawRequest.hashcode;
            const bank = yield options.bankService.findOne({
                where: { bankCode: withdrawRequest.bankCode },
            });
            if (!bank) {
                return null;
            }
            orderCreate.bankId = bank.id;
            orderCreate.bankAccountName = withdrawRequest.bankAccountName;
            orderCreate.bankAccountNumber = withdrawRequest.bankAccountNumber;
            orderCreate.province = withdrawRequest.province;
            orderCreate.city = withdrawRequest.city;
            orderCreate.branch = withdrawRequest.branch;
            orderCreate.userName = withdrawRequest.userName;
            orderCreate.countryCallingCode = withdrawRequest.countryCallingCode;
            orderCreate.phoneNumber = withdrawRequest.phoneNumber;
            orderCreate.status = _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["OrderStatusEnum"].NEW;
            return yield options.withdrawPendingOrderService.create(orderCreate, null);
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Update Pending Withdraw Order After Withdraw
    ////////////////////////////////////////////////////////////////////////////////
    updateOrderAfterWithdraw(order, withdrawResult, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!withdrawResult.result) {
                order.status = _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["OrderStatusEnum"].FAILED;
                order.errorCode = withdrawResult.errorCode;
                order.errorMessage = withdrawResult.errorMessage;
            }
            else {
                order.status = this.paymentProviderEntity.isOnlyCardSupport
                    ? _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["OrderStatusEnum"].WAITINGPAID
                    : _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["OrderStatusEnum"].PENDING;
                order.providerOrderId = withdrawResult.providerId;
            }
            return yield this.withdrawPendingOrderService.update(order, transaction ? { transaction } : null);
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Update/Remove Pending Withdraw
    /// And Create New Withdraw Order After WithdrawCallback
    ////////////////////////////////////////////////////////////////////////////////
    updateOrderAfterWithdrawCallback(order, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (order.status === _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["OrderStatusEnum"].SUCCESS) {
                const orderCreate = this.buildWithdrawOrderCreateByPendingOrder(order);
                this.withdrawPendingOrderService.destroy(order, transaction ? { transaction } : null);
                yield this.withdrawOrderService.create(orderCreate, transaction ? { transaction } : null);
            }
            else {
                yield this.withdrawPendingOrderService.update(order, transaction ? { transaction } : null);
            }
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Build Withdraw Order Create By Pending Order
    ////////////////////////////////////////////////////////////////////////////////
    buildWithdrawOrderCreateByPendingOrder(order) {
        const orderCreate = new _order_withdraw_order_withdraw_order_dto__WEBPACK_IMPORTED_MODULE_5__["WithdrawOrderCreateDto"]();
        orderCreate.orderId = order.orderId;
        orderCreate.userId = order.userId;
        orderCreate.clientOrderId = order.clientOrderId;
        orderCreate.amount = order.amount;
        orderCreate.providerOrderId = order.providerOrderId;
        orderCreate.paymentProviderId = order.paymentProviderId;
        orderCreate.hashcode = order.hashcode;
        orderCreate.currency = order.currency;
        orderCreate.status = order.status;
        orderCreate.date = order.date;
        orderCreate.bankId = order.bankId;
        orderCreate.bankAccountName = order.bankAccountName;
        orderCreate.bankAccountNumber = order.bankAccountNumber;
        orderCreate.province = order.province;
        orderCreate.city = order.city;
        orderCreate.currency = order.currency;
        orderCreate.userName = order.userName;
        orderCreate.countryCallingCode = order.countryCallingCode;
        orderCreate.phoneNumber = order.phoneNumber;
        orderCreate.branch = order.branch;
        return orderCreate;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Build Deposit Order Create By Pending Order
    ////////////////////////////////////////////////////////////////////////////////
    buildDepositOrderCreateByPendingOrder(order) {
        const orderCreate = new _order_deposit_order_deposit_order_dto__WEBPACK_IMPORTED_MODULE_3__["DepositOrderCreateDto"]();
        orderCreate.orderId = order.orderId;
        orderCreate.userId = order.userId;
        orderCreate.amount = order.amount;
        orderCreate.usdtExchangeRate = order.usdtExchangeRate;
        orderCreate.status = order.status;
        orderCreate.providerOrderId = order.providerOrderId;
        orderCreate.channelId = order.channelId;
        orderCreate.date = order.date;
        orderCreate.paymentProviderId = order.paymentProviderId;
        orderCreate.paymentProviderChannelId = order.paymentProviderChannelId;
        orderCreate.paymentProviderCardId = order.paymentProviderCardId;
        orderCreate.userName = order.userName;
        orderCreate.last4Digit = order.last4Digit;
        orderCreate.hash = order.hash;
        return orderCreate;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Sync BetConsruct After DepositCallback
    ////////////////////////////////////////////////////////////////////////////////
    depositBCAfterDepositCallback(order) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const params = new _betContruct_dto_bc_deposit_in_params__WEBPACK_IMPORTED_MODULE_11__["BCDepositInParams"]();
            params.userId = numeral__WEBPACK_IMPORTED_MODULE_1__(order.userId).value();
            params.orderId = numeral__WEBPACK_IMPORTED_MODULE_1__(order.orderId).value();
            params.amount = numeral__WEBPACK_IMPORTED_MODULE_1__(order.amount).value();
            params.currency = _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["CurrencyEnum"][_workspace_enums__WEBPACK_IMPORTED_MODULE_2__["CurrencyEnum"].CNY];
            const bcOrder = yield this.betConstructService.addDepositBcOrder(params);
            return bcOrder;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Sync BetConsruct After WithdrawCallback
    ////////////////////////////////////////////////////////////////////////////////
    withdrawBCAfterWithdrawCallback(order) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const params = new _betContruct_dto_bc_withdraw_in_params__WEBPACK_IMPORTED_MODULE_12__["BCWithdrawInParams"]();
            params.userId = numeral__WEBPACK_IMPORTED_MODULE_1__(order.userId).value();
            params.orderId = numeral__WEBPACK_IMPORTED_MODULE_1__(order.clientOrderId).value();
            params.amount = order.amount;
            params.currency = order.currency;
            params.reason = this.configService.get('betConstruct.withdraw.reason');
            params.status = this.betConstructService.getBCWithdrawStatusByOrderStatus(order.status);
            const bcOrder = yield this.betConstructService.addWithdrawBcOrder(params);
            return bcOrder;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Before DepositCallback
    ////////////////////////////////////////////////////////////////////////////////
    beforeDepositCallback(statusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!this.checkIpWhiteList(ip)) {
                return false;
            }
            return true;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Before DepositCallback
    ////////////////////////////////////////////////////////////////////////////////
    beforeWithdrawCallback(statusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!this.checkIpWhiteList(ip)) {
                return false;
            }
            return true;
        });
    }
    checkIpWhiteList(ip) {
        const providerName = this.getPaymentProviderName();
        const ipWhiteListEnable = numeral__WEBPACK_IMPORTED_MODULE_1__(this.configService.get(`${providerName}_IP_WHITELIST_ENABLE`)).value();
        if (ipWhiteListEnable !== 1) {
            return true;
        }
        const ipWhiteList = this.configService.get(`${providerName}_IP_WHITELIST`);
        const ips = ipWhiteList.split(',') || [];
        const ipMatched = ips.find((_ip) => _ip.trim() === ip);
        return ipMatched ? true : false;
    }
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.withdraw.request.dto.ts":
/*!**********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/payment.provider.withdraw.request.dto.ts ***!
  \**********************************************************************************************************/
/*! exports provided: PaymentProviderWithdrawRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderWithdrawRequestDto", function() { return PaymentProviderWithdrawRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var libphonenumber_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! libphonenumber-js */ "libphonenumber-js");
/* harmony import */ var libphonenumber_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(libphonenumber_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _dto_payment_withdraw_request_dto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../dto/payment.withdraw.request.dto */ "./apps/backend/src/app/payment/dto/payment.withdraw.request.dto.ts");





class PaymentProviderWithdrawRequestDto extends _dto_payment_withdraw_request_dto__WEBPACK_IMPORTED_MODULE_4__["PaymentWithdrawRequestDto"] {
    static responseFactory(withdrawRequestDto, ip, headers) {
        const withdrawRequestPaymentProvider = new PaymentProviderWithdrawRequestDto();
        withdrawRequestPaymentProvider.phoneNumberRaw =
            withdrawRequestDto.phoneNumber;
        if (withdrawRequestDto.phoneNumber) {
            try {
                let phoneNumber = Object(libphonenumber_js__WEBPACK_IMPORTED_MODULE_3__["parsePhoneNumber"])(withdrawRequestDto.phoneNumber, 'CN');
                if (!phoneNumber.isValid() &&
                    withdrawRequestDto.phoneNumber.substring(0, 1) !== '+') {
                    withdrawRequestDto.phoneNumber = `+${withdrawRequestDto.phoneNumber}`;
                    phoneNumber = Object(libphonenumber_js__WEBPACK_IMPORTED_MODULE_3__["parsePhoneNumber"])(withdrawRequestDto.phoneNumber, 'CN');
                }
                if (phoneNumber.isValid()) {
                    withdrawRequestPaymentProvider.countryCallingCode = (phoneNumber.countryCallingCode);
                    withdrawRequestPaymentProvider.phoneNumber = phoneNumber
                        .format('NATIONAL', {
                        humanReadable: false,
                        nationalPrefix: false,
                        v2: false,
                    })
                        .replace(/\D/g, '');
                }
            }
            catch (error) { }
        }
        withdrawRequestPaymentProvider.amount = numeral__WEBPACK_IMPORTED_MODULE_2__(withdrawRequestDto.amount).value();
        withdrawRequestPaymentProvider.bankAccountName =
            withdrawRequestDto.bankAccountName;
        withdrawRequestPaymentProvider.bankAccountNumber =
            withdrawRequestDto.bankAccountNumber;
        withdrawRequestPaymentProvider.bankCode = withdrawRequestDto.bankCode;
        withdrawRequestPaymentProvider.branch = withdrawRequestDto.branch;
        withdrawRequestPaymentProvider.city = withdrawRequestDto.city;
        withdrawRequestPaymentProvider.currency = withdrawRequestDto.currency;
        withdrawRequestPaymentProvider.hashcode = withdrawRequestDto.hashcode;
        withdrawRequestPaymentProvider.orderId = withdrawRequestDto.orderId;
        withdrawRequestPaymentProvider.province = withdrawRequestDto.province;
        withdrawRequestPaymentProvider.token = withdrawRequestDto.token;
        withdrawRequestPaymentProvider.userId = withdrawRequestDto.userId;
        withdrawRequestPaymentProvider.userName = withdrawRequestDto.userName;
        //withdrawRequestPaymentProvider.phoneNumber = withdrawRequestDto.phoneNumber;
        withdrawRequestPaymentProvider.ip = ip;
        withdrawRequestPaymentProvider.headers = headers;
        return withdrawRequestPaymentProvider;
    }
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(class_validator__WEBPACK_IMPORTED_MODULE_1__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_1__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], PaymentProviderWithdrawRequestDto.prototype, "ip", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.withdraw.result.ts":
/*!*****************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/payment.provider.withdraw.result.ts ***!
  \*****************************************************************************************************/
/*! exports provided: PaymentProviderWithdrawResultData, PaymentProviderChannelWithdrawResult, PaymentProviderWithdrawResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderWithdrawResultData", function() { return PaymentProviderWithdrawResultData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderChannelWithdrawResult", function() { return PaymentProviderChannelWithdrawResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderWithdrawResult", function() { return PaymentProviderWithdrawResult; });
class PaymentProviderWithdrawResultData {
}
class PaymentProviderChannelWithdrawResult {
}
class PaymentProviderWithdrawResult {
    // static bcCheckIPWhiteListErrorFactory(
    //   bcCheckWithdrawIPWhiteListOut: BCCheckWithdrawIPWhiteListOut
    // ): PaymentProviderWithdrawResult {
    //   const result = new PaymentProviderWithdrawResult();
    //   // result.result = bcCheckWithdrawIPWhiteListOut.result;
    //   // result.errorCode = `${bcCheckWithdrawIPWhiteListOut.errorCode}`;
    //   // result.errorMessage = bcCheckWithdrawIPWhiteListOut.errorMessage;
    //   // result.response = {
    //   //   code: bcCheckWithdrawIPWhiteListOut.result
    //   //     ? 0
    //   //     : bcCheckWithdrawIPWhiteListOut.errorCode,
    //   // };
    //   // if (result.response.code !== 0) {
    //   //   result.response.message = bcCheckWithdrawIPWhiteListOut.errorMessage;
    //   // }
    //   result.code = ErrorCodeEnum.WITHDRAW_IP_INVALID;
    //   return result;
    // }
    // static bcCheckWithdrawHashErrorFactory(
    //   bcCheckWithdrawHashOut: BCCheckWithdrawHashOut
    // ): PaymentProviderWithdrawResult {
    //   const result = new PaymentProviderWithdrawResult();
    //   // result.result = bcCheckWithdrawHashOut.result;
    //   // result.errorCode = `${bcCheckWithdrawHashOut.errorCode}`;
    //   // result.errorMessage = bcCheckWithdrawHashOut.errorMessage;
    //   result.response = {
    //     code: bcCheckWithdrawHashOut.result
    //       ? 0
    //       : bcCheckWithdrawHashOut.errorCode,
    //   };
    //   if (result.response.code !== 0) {
    //     result.response.message = bcCheckWithdrawHashOut.errorMessage;
    //   }
    //   return result;
    // }
    static errorFactory(error, providerName, defaultErrorCode) {
        const result = new PaymentProviderWithdrawResult();
        //result.result = false;
        result.paymentProviderName = providerName;
        const { status, message } = error;
        // result.errorMessage = message || 'Unknown Error';
        // result.errorCode = defaultErrorCode;
        result.error = error;
        return result;
    }
    santitize() {
        if (this.paymentProviderChannelWithdrawResults !== undefined) {
            delete this.paymentProviderChannelWithdrawResults;
        }
        return this;
    }
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/payment.status.response.dto.ts":
/*!************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/payment.status.response.dto.ts ***!
  \************************************************************************************************/
/*! exports provided: DepositStatusEnum, PaymentStatusResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepositStatusEnum", function() { return DepositStatusEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentStatusResponseDto", function() { return PaymentStatusResponseDto; });
var DepositStatusEnum;
(function (DepositStatusEnum) {
})(DepositStatusEnum || (DepositStatusEnum = {}));
class PaymentStatusResponseDto {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/sxc/sxc.payment.provider.controller.ts":
/*!********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/sxc/sxc.payment.provider.controller.ts ***!
  \********************************************************************************************************/
/*! exports provided: SXCPaymentProviderController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SXCPaymentProviderController", function() { return SXCPaymentProviderController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var nest_winston__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! nest-winston */ "nest-winston");
/* harmony import */ var nest_winston__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(nest_winston__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _sxc_payment_provider_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./sxc.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/sxc/sxc.payment.provider.service.ts");
var _a, _b;






let SXCPaymentProviderController = class SXCPaymentProviderController {
    constructor(logger, sxcPaymentProviderService) {
        this.logger = logger;
        this.sxcPaymentProviderService = sxcPaymentProviderService;
    }
};
SXCPaymentProviderController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].payment),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].paymentEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Inject"])(nest_winston__WEBPACK_IMPORTED_MODULE_4__["WINSTON_MODULE_PROVIDER"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Logger"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Logger"]) === "function" ? _a : Object, typeof (_b = typeof _sxc_payment_provider_service__WEBPACK_IMPORTED_MODULE_5__["SXCPaymentProviderService"] !== "undefined" && _sxc_payment_provider_service__WEBPACK_IMPORTED_MODULE_5__["SXCPaymentProviderService"]) === "function" ? _b : Object])
], SXCPaymentProviderController);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/sxc/sxc.payment.provider.service.ts":
/*!*****************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/sxc/sxc.payment.provider.service.ts ***!
  \*****************************************************************************************************/
/*! exports provided: SXCPaymentProviderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SXCPaymentProviderService", function() { return SXCPaymentProviderService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../betContruct/betConstruct.service */ "./apps/backend/src/app/payment/betContruct/betConstruct.service.ts");
/* harmony import */ var _channel_channel_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../channel/channel.service */ "./apps/backend/src/app/payment/channel/channel.service.ts");
/* harmony import */ var _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../order/deposit-order/deposit.order.service */ "./apps/backend/src/app/payment/order/deposit-order/deposit.order.service.ts");
/* harmony import */ var _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../order/deposit-pending-order/deposit.pending.order.service */ "./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.service.ts");
/* harmony import */ var _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../order/withdraw-order/withdraw.order.service */ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.service.ts");
/* harmony import */ var _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../order/withdraw-pending-order/withdraw.pending.order.service */ "./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.service.ts");
/* harmony import */ var _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../payment-provider-bank/payment.provider.bank.service */ "./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.service.ts");
/* harmony import */ var _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../payment-provider-channel/payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");
/* harmony import */ var _models_bank_entity__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../models/bank.entity */ "./apps/backend/src/app/models/bank.entity.ts");
/* harmony import */ var _models_test_entity__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../models/test.entity */ "./apps/backend/src/app/models/test.entity.ts");
/* harmony import */ var _bank_bank_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../bank/bank.service */ "./apps/backend/src/app/payment/bank/bank.service.ts");
/* harmony import */ var _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../payment-provider-card/payment.provider.card.service */ "./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.service.ts");
/* harmony import */ var _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../payment-provider-entity/Payment.provider.entity.service */ "./apps/backend/src/app/payment/providers/payment-provider-entity/Payment.provider.entity.service.ts");
/* harmony import */ var _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../payment-provider-shared/payment.provider.shared.service */ "./apps/backend/src/app/payment/providers/payment-provider-shared/payment.provider.shared.service.ts");
/* harmony import */ var _card_payment_provider_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../card.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/card.payment.provider.service.ts");
/* harmony import */ var _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../payment-provider-usdt-protocol/payment.provider.usdt.proto.service */ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.service.ts");
/* harmony import */ var _options_options_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../options/options.service */ "./apps/backend/src/app/options/options.service.ts");
var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;























let SXCPaymentProviderService = class SXCPaymentProviderService extends _card_payment_provider_service__WEBPACK_IMPORTED_MODULE_20__["CardPaymentProviderService"] {
    constructor(bankRepository, configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, payProviderEntityService, paymentProviderSharedService, sequelize, betConstructService, optionsService, httpService, testRepository) {
        super(
        //bankRepository,
        configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, payProviderEntityService, paymentProviderSharedService, sequelize, betConstructService, optionsService, httpService
        //testRepository
        );
        this.bankRepository = bankRepository;
        this.configService = configService;
        this.channelService = channelService;
        this.bankService = bankService;
        this.depositPendingOrderService = depositPendingOrderService;
        this.depositOrderService = depositOrderService;
        this.withdrawPendingOrderService = withdrawPendingOrderService;
        this.withdrawOrderService = withdrawOrderService;
        this.paymentProviderChannelService = paymentProviderChannelService;
        this.paymentProviderBankService = paymentProviderBankService;
        this.paymentProviderUsdtProtoService = paymentProviderUsdtProtoService;
        this.paymentProviderCardService = paymentProviderCardService;
        this.payProviderEntityService = payProviderEntityService;
        this.paymentProviderSharedService = paymentProviderSharedService;
        this.sequelize = sequelize;
        this.betConstructService = betConstructService;
        this.optionsService = optionsService;
        this.httpService = httpService;
        this.testRepository = testRepository;
    }
    getPaymentProviderEnum() {
        return _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["PaymentProviderEnum"].SXC;
    }
};
SXCPaymentProviderService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_4__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_bank_entity__WEBPACK_IMPORTED_MODULE_14__["BankModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(18, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_models_test_entity__WEBPACK_IMPORTED_MODULE_15__["TestModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [Object, typeof (_a = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_5__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_5__["ConfigService"]) === "function" ? _a : Object, typeof (_b = typeof _channel_channel_service__WEBPACK_IMPORTED_MODULE_7__["ChannelService"] !== "undefined" && _channel_channel_service__WEBPACK_IMPORTED_MODULE_7__["ChannelService"]) === "function" ? _b : Object, typeof (_c = typeof _bank_bank_service__WEBPACK_IMPORTED_MODULE_16__["BankService"] !== "undefined" && _bank_bank_service__WEBPACK_IMPORTED_MODULE_16__["BankService"]) === "function" ? _c : Object, typeof (_d = typeof _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_9__["DepositPendingOrderService"] !== "undefined" && _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_9__["DepositPendingOrderService"]) === "function" ? _d : Object, typeof (_e = typeof _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_8__["DepositOrderService"] !== "undefined" && _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_8__["DepositOrderService"]) === "function" ? _e : Object, typeof (_f = typeof _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_11__["WithdrawPendingOrderService"] !== "undefined" && _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_11__["WithdrawPendingOrderService"]) === "function" ? _f : Object, typeof (_g = typeof _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_10__["WithdrawOrderService"] !== "undefined" && _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_10__["WithdrawOrderService"]) === "function" ? _g : Object, typeof (_h = typeof _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_13__["PaymentProviderChannelService"] !== "undefined" && _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_13__["PaymentProviderChannelService"]) === "function" ? _h : Object, typeof (_j = typeof _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_12__["PaymentProviderBankService"] !== "undefined" && _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_12__["PaymentProviderBankService"]) === "function" ? _j : Object, typeof (_k = typeof _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_21__["PaymentProviderUsdtProtoService"] !== "undefined" && _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_21__["PaymentProviderUsdtProtoService"]) === "function" ? _k : Object, typeof (_l = typeof _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_17__["PaymentProviderCardService"] !== "undefined" && _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_17__["PaymentProviderCardService"]) === "function" ? _l : Object, typeof (_m = typeof _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_18__["PaymentProviderEntityService"] !== "undefined" && _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_18__["PaymentProviderEntityService"]) === "function" ? _m : Object, typeof (_o = typeof _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_19__["PaymentProviderSharedService"] !== "undefined" && _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_19__["PaymentProviderSharedService"]) === "function" ? _o : Object, typeof (_p = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_3__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_3__["Sequelize"]) === "function" ? _p : Object, typeof (_q = typeof _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_6__["BetConstructService"] !== "undefined" && _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_6__["BetConstructService"]) === "function" ? _q : Object, typeof (_r = typeof _options_options_service__WEBPACK_IMPORTED_MODULE_22__["OptionsService"] !== "undefined" && _options_options_service__WEBPACK_IMPORTED_MODULE_22__["OptionsService"]) === "function" ? _r : Object, typeof (_s = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_4__["HttpService"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_4__["HttpService"]) === "function" ? _s : Object, Object])
], SXCPaymentProviderService);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/uzpay/dto/uzpay.deposit.request.param.ts":
/*!**********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/uzpay/dto/uzpay.deposit.request.param.ts ***!
  \**********************************************************************************************************/
/*! exports provided: UzPAYDepositRequestParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UzPAYDepositRequestParams", function() { return UzPAYDepositRequestParams; });
class UzPAYDepositRequestParams {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/uzpay/dto/uzpay.deposit.result.ts":
/*!***************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/uzpay/dto/uzpay.deposit.result.ts ***!
  \***************************************************************************************************/
/*! exports provided: UzPAYDepositResult, UzPAYDepositResultData, UzPAYChannelDepositResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UzPAYDepositResult", function() { return UzPAYDepositResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UzPAYDepositResultData", function() { return UzPAYDepositResultData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UzPAYChannelDepositResult", function() { return UzPAYChannelDepositResult; });
/* harmony import */ var _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../payment.provider.deposit.result */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.deposit.result.ts");

class UzPAYDepositResult extends _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderDepositResult"] {
}
class UzPAYDepositResultData extends _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderDepositResultData"] {
    static responseFactory(info) {
        const data = new UzPAYDepositResultData();
        const { action, qrurl, oid, card } = info || {};
        data.action = action || '';
        data.url = data.qrurl = qrurl || '';
        data.oid = oid || null;
        data.card = card || {};
        return data;
    }
}
// {
//   success: true,
//   info: {
//     action: 'jump',
//     qrurl: 'http://uzpay.0708hx.com:9099/jump/alipay?oid=60010cd27be38=29992&at=',
//     oid: '300100188006',
//     card: {
//       bankflag: '',
//       cardnumber: '',
//       cardname: '',
//       location: '',
//       comment: ''
//     }
//   }
// }
//{ success: false, msg: '' }
//{ success: false, msg: '' }
// errorMessage: '',
//{ success: false, msg: ',:300,:10000' }
//(from_bankflag)
class UzPAYChannelDepositResult extends _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderChannelDepositResult"] {
    static getErrorCodeByMsg(errorMsg) {
        if (/^/.test(errorMsg)) {
            return '101';
        }
        if (/^/.test(errorMsg)) {
            return '102';
        }
        if (/^10/.test(errorMsg)) {
            return '103';
        }
        if (/^/.test(errorMsg)) {
            return '104';
        }
        if (/^/.test(errorMsg)) {
            return '105';
        }
        if (/^/.test(errorMsg)) {
            return '106';
        }
        return '-1';
    }
    static responseFactory(response, providerName) {
        const { success, info, msg } = response.data || {};
        console.log(response.data);
        const result = new UzPAYChannelDepositResult();
        result.result = false;
        result.providerOrderId = null;
        result.providerName = providerName;
        if (success !== true) {
            result.errorMessage = msg;
            result.errorCode = UzPAYChannelDepositResult.getErrorCodeByMsg(msg);
            return result;
        }
        result.data = UzPAYDepositResultData.responseFactory(info);
        //const data = <UzPAYDepositResultData>result.data;
        result.result = true;
        return result;
    }
    static errorFactory(error, providerName, defaultErrorCode) {
        const result = new UzPAYChannelDepositResult();
        result.result = false;
        result.providerName = providerName;
        const { status, message } = error;
        result.errorMessage = message || 'Unknown Error';
        result.errorCode = defaultErrorCode;
        result.error = error;
        return result;
    }
    sanitizePaymentProviderDepositResult() {
        if (this.data !== undefined) {
            const data = this.data;
            if (data) {
                delete data.action;
                delete data.card;
                delete data.oid;
                delete data.qrurl;
            }
        }
        if (this.providerOrderId !== undefined) {
            delete this.providerOrderId;
        }
        if (this.result && this.errorMessage !== undefined) {
            delete this.errorMessage;
        }
        return this;
    }
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/uzpay/dto/uzpay.deposit.status.response.dto.ts":
/*!****************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/uzpay/dto/uzpay.deposit.status.response.dto.ts ***!
  \****************************************************************************************************************/
/*! exports provided: UzPAYDepositStatusEnum, UzPAYDepositStatusResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UzPAYDepositStatusEnum", function() { return UzPAYDepositStatusEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UzPAYDepositStatusResponseDto", function() { return UzPAYDepositStatusResponseDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../payment.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/payment.status.response.dto.ts");




var UzPAYDepositStatusEnum;
(function (UzPAYDepositStatusEnum) {
    UzPAYDepositStatusEnum["VERIFIED"] = "verified";
    UzPAYDepositStatusEnum["REVOKED"] = "revoked";
    UzPAYDepositStatusEnum["TIMEOUT"] = "timeout";
    UzPAYDepositStatusEnum["PROCESSING"] = "processing";
})(UzPAYDepositStatusEnum || (UzPAYDepositStatusEnum = {}));
class UzPAYDepositStatusResponseDto extends _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_3__["PaymentStatusResponseDto"] {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UzPAYDepositStatusResponseDto.prototype, "amount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UzPAYDepositStatusResponseDto.prototype, "oid", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UzPAYDepositStatusResponseDto.prototype, "orderid", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UzPAYDepositStatusResponseDto.prototype, "userid", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UzPAYDepositStatusResponseDto.prototype, "service", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        enum: UzPAYDepositStatusEnum,
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(UzPAYDepositStatusEnum),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UzPAYDepositStatusResponseDto.prototype, "status", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UzPAYDepositStatusResponseDto.prototype, "created_time", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UzPAYDepositStatusResponseDto.prototype, "verified_time", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UzPAYDepositStatusResponseDto.prototype, "extend", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UzPAYDepositStatusResponseDto.prototype, "sign", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/uzpay/dto/uzpay.withdraw.request.params.ts":
/*!************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/uzpay/dto/uzpay.withdraw.request.params.ts ***!
  \************************************************************************************************************/
/*! exports provided: UzPAYWithdrawRequestParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UzPAYWithdrawRequestParams", function() { return UzPAYWithdrawRequestParams; });
class UzPAYWithdrawRequestParams {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/uzpay/dto/uzpay.withdraw.result.ts":
/*!****************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/uzpay/dto/uzpay.withdraw.result.ts ***!
  \****************************************************************************************************/
/*! exports provided: UzPAYWithdrawResult, UzPAYChannelWithdrawResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UzPAYWithdrawResult", function() { return UzPAYWithdrawResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UzPAYChannelWithdrawResult", function() { return UzPAYChannelWithdrawResult; });
/* harmony import */ var _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../payment.provider.withdraw.result */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.withdraw.result.ts");

class UzPAYWithdrawResult extends _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderWithdrawResult"] {
}
// { success: false, msg: 'IP(xxx.xxx.xxx.xxx)' }
// { success: false, msg: '' }
// { success: false, msg: '' }
// { success: false, msg: '10' }
// { success: false, msg: '' }
// { "success": false,"msg": ",:1000,:30000"}
class UzPAYChannelWithdrawResult extends _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderChannelWithdrawResult"] {
    static getErrorCodeByMsg(errorMsg) {
        if (/^/.test(errorMsg)) {
            return '201';
        }
        if (/^IP/.test(errorMsg)) {
            return '202';
        }
        if (/^/.test(errorMsg)) {
            return '203';
        }
        if (/^/.test(errorMsg)) {
            return '204';
        }
        if (/^/.test(errorMsg)) {
            return '205';
        }
        return '-1';
    }
    static responseFactory(response, providerName) {
        const withdrawResult = new UzPAYChannelWithdrawResult();
        withdrawResult.result = false;
        withdrawResult.providerName = providerName;
        const { success, msg } = response.data || {};
        console.log(response.data);
        if (success !== true) {
            withdrawResult.errorCode = UzPAYChannelWithdrawResult.getErrorCodeByMsg(msg);
            withdrawResult.errorMessage = msg;
            return withdrawResult;
        }
        withdrawResult.result = true;
        return withdrawResult;
    }
    static errorFactory(error, providerName, defaultErrorCode) {
        const result = new UzPAYChannelWithdrawResult();
        result.result = false;
        result.providerId = null;
        result.providerName = providerName;
        const { message } = error;
        result.errorMessage = message || 'Unknown Error';
        result.errorCode = defaultErrorCode;
        result.error = error;
        return result;
    }
    sanitizePaymentProviderWithdrawResult() {
        delete this.providerId;
        return this;
    }
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/uzpay/dto/uzpay.withdraw.status.response.dto.ts":
/*!*****************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/uzpay/dto/uzpay.withdraw.status.response.dto.ts ***!
  \*****************************************************************************************************************/
/*! exports provided: UzPAYWithdrawStatusEnum, UzPAYWithdrawStatusResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UzPAYWithdrawStatusEnum", function() { return UzPAYWithdrawStatusEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UzPAYWithdrawStatusResponseDto", function() { return UzPAYWithdrawStatusResponseDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../payment.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/payment.status.response.dto.ts");




var UzPAYWithdrawStatusEnum;
(function (UzPAYWithdrawStatusEnum) {
    UzPAYWithdrawStatusEnum["VERIFIED"] = "verified";
    UzPAYWithdrawStatusEnum["REVOKED"] = "revoked";
    UzPAYWithdrawStatusEnum["TIMEOUT"] = "timeout";
    UzPAYWithdrawStatusEnum["PROCESSING"] = "processing";
})(UzPAYWithdrawStatusEnum || (UzPAYWithdrawStatusEnum = {}));
class UzPAYWithdrawStatusResponseDto extends _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_3__["PaymentStatusResponseDto"] {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UzPAYWithdrawStatusResponseDto.prototype, "amount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UzPAYWithdrawStatusResponseDto.prototype, "oid", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UzPAYWithdrawStatusResponseDto.prototype, "orderid", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UzPAYWithdrawStatusResponseDto.prototype, "userid", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UzPAYWithdrawStatusResponseDto.prototype, "service", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        enum: UzPAYWithdrawStatusEnum,
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(UzPAYWithdrawStatusEnum),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UzPAYWithdrawStatusResponseDto.prototype, "status", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UzPAYWithdrawStatusResponseDto.prototype, "created_time", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UzPAYWithdrawStatusResponseDto.prototype, "verified_time", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UzPAYWithdrawStatusResponseDto.prototype, "extend", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UzPAYWithdrawStatusResponseDto.prototype, "sign", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/uzpay/uzpay.payment.provider.controller.ts":
/*!************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/uzpay/uzpay.payment.provider.controller.ts ***!
  \************************************************************************************************************/
/*! exports provided: UzPAYPaymentProviderController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UzPAYPaymentProviderController", function() { return UzPAYPaymentProviderController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var nest_winston__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! nest-winston */ "nest-winston");
/* harmony import */ var nest_winston__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(nest_winston__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _dto_uzpay_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dto/uzpay.deposit.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/uzpay/dto/uzpay.deposit.status.response.dto.ts");
/* harmony import */ var _dto_uzpay_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dto/uzpay.withdraw.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/uzpay/dto/uzpay.withdraw.status.response.dto.ts");
/* harmony import */ var _uzpay_payment_provider_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./uzpay.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/uzpay/uzpay.payment.provider.service.ts");
/* harmony import */ var _decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../decorators/request.ip.decorators */ "./apps/backend/src/app/decorators/request.ip.decorators.ts");
var _a, _b, _c, _d, _e, _f;









let UzPAYPaymentProviderController = class UzPAYPaymentProviderController {
    constructor(logger, uzPAYPaymentProviderService) {
        this.logger = logger;
        this.uzPAYPaymentProviderService = uzPAYPaymentProviderService;
    }
    depositCallback(depositStatusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.uzPAYPaymentProviderService.depositCallback(depositStatusResponse, ip);
        });
    }
    withdrawCallback(withdrawStatusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.uzPAYPaymentProviderService.withdrawCallback(withdrawStatusResponse, ip);
        });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].uzpaycallbackDeposit),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].depositUzPAYCallback,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_8__["RequestIpAddress"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _dto_uzpay_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__["UzPAYDepositStatusResponseDto"] !== "undefined" && _dto_uzpay_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__["UzPAYDepositStatusResponseDto"]) === "function" ? _a : Object, String]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_b = typeof Promise !== "undefined" && Promise) === "function" ? _b : Object)
], UzPAYPaymentProviderController.prototype, "depositCallback", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].uzpaycallbackWithdraw),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].withdrawUzPAYCallback,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_8__["RequestIpAddress"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_c = typeof _dto_uzpay_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__["UzPAYWithdrawStatusResponseDto"] !== "undefined" && _dto_uzpay_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__["UzPAYWithdrawStatusResponseDto"]) === "function" ? _c : Object, String]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_d = typeof Promise !== "undefined" && Promise) === "function" ? _d : Object)
], UzPAYPaymentProviderController.prototype, "withdrawCallback", null);
UzPAYPaymentProviderController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].payment),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].paymentEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Inject"])(nest_winston__WEBPACK_IMPORTED_MODULE_4__["WINSTON_MODULE_PROVIDER"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_e = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Logger"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Logger"]) === "function" ? _e : Object, typeof (_f = typeof _uzpay_payment_provider_service__WEBPACK_IMPORTED_MODULE_7__["UzPAYPaymentProviderService"] !== "undefined" && _uzpay_payment_provider_service__WEBPACK_IMPORTED_MODULE_7__["UzPAYPaymentProviderService"]) === "function" ? _f : Object])
], UzPAYPaymentProviderController);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/uzpay/uzpay.payment.provider.service.ts":
/*!*********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/uzpay/uzpay.payment.provider.service.ts ***!
  \*********************************************************************************************************/
/*! exports provided: UzPAYDepositCallbackResultEnum, UzPAYWithdrawCallbackResultEnum, UzPAYPaymentProviderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UzPAYDepositCallbackResultEnum", function() { return UzPAYDepositCallbackResultEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UzPAYWithdrawCallbackResultEnum", function() { return UzPAYWithdrawCallbackResultEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UzPAYPaymentProviderService", function() { return UzPAYPaymentProviderService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _channel_channel_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../channel/channel.service */ "./apps/backend/src/app/payment/channel/channel.service.ts");
/* harmony import */ var _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../order/deposit-order/deposit.order.service */ "./apps/backend/src/app/payment/order/deposit-order/deposit.order.service.ts");
/* harmony import */ var _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../order/deposit-pending-order/deposit.pending.order.service */ "./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.service.ts");
/* harmony import */ var _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../order/withdraw-order/withdraw.order.service */ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.service.ts");
/* harmony import */ var _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../order/withdraw-pending-order/withdraw.pending.order.service */ "./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.service.ts");
/* harmony import */ var _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../payment-provider-bank/payment.provider.bank.service */ "./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.service.ts");
/* harmony import */ var _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../payment-provider-channel/payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");
/* harmony import */ var _payment_provider_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.service.ts");
/* harmony import */ var _dto_uzpay_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./dto/uzpay.deposit.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/uzpay/dto/uzpay.deposit.status.response.dto.ts");
/* harmony import */ var _dto_uzpay_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./dto/uzpay.withdraw.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/uzpay/dto/uzpay.withdraw.status.response.dto.ts");
/* harmony import */ var _dto_uzpay_deposit_result__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./dto/uzpay.deposit.result */ "./apps/backend/src/app/payment/providers/payment-provider/uzpay/dto/uzpay.deposit.result.ts");
/* harmony import */ var _dto_uzpay_withdraw_result__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./dto/uzpay.withdraw.result */ "./apps/backend/src/app/payment/providers/payment-provider/uzpay/dto/uzpay.withdraw.result.ts");
/* harmony import */ var _dto_uzpay_deposit_request_param__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./dto/uzpay.deposit.request.param */ "./apps/backend/src/app/payment/providers/payment-provider/uzpay/dto/uzpay.deposit.request.param.ts");
/* harmony import */ var _payment_exception__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../payment.exception */ "./apps/backend/src/app/payment/payment.exception.ts");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! md5 */ "md5");
/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(md5__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var _dto_uzpay_withdraw_request_params__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./dto/uzpay.withdraw.request.params */ "./apps/backend/src/app/payment/providers/payment-provider/uzpay/dto/uzpay.withdraw.request.params.ts");
/* harmony import */ var _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../betContruct/betConstruct.service */ "./apps/backend/src/app/payment/betContruct/betConstruct.service.ts");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! moment-timezone */ "moment-timezone");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var _bank_bank_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../bank/bank.service */ "./apps/backend/src/app/payment/bank/bank.service.ts");
/* harmony import */ var _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../payment-provider-card/payment.provider.card.service */ "./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.service.ts");
/* harmony import */ var _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../payment-provider-entity/Payment.provider.entity.service */ "./apps/backend/src/app/payment/providers/payment-provider-entity/Payment.provider.entity.service.ts");
/* harmony import */ var _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../payment-provider-shared/payment.provider.shared.service */ "./apps/backend/src/app/payment/providers/payment-provider-shared/payment.provider.shared.service.ts");
/* harmony import */ var _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../payment-provider-usdt-protocol/payment.provider.usdt.proto.service */ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.service.ts");
/* harmony import */ var _options_options_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../options/options.service */ "./apps/backend/src/app/options/options.service.ts");
/* harmony import */ var _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../error/enums/errorCodeEnum */ "./apps/backend/src/app/error/enums/errorCodeEnum.ts");
var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;































var UzPAYDepositCallbackResultEnum;
(function (UzPAYDepositCallbackResultEnum) {
    UzPAYDepositCallbackResultEnum["SUCCESS"] = "success";
    UzPAYDepositCallbackResultEnum["FAILED"] = "failed";
})(UzPAYDepositCallbackResultEnum || (UzPAYDepositCallbackResultEnum = {}));
var UzPAYWithdrawCallbackResultEnum;
(function (UzPAYWithdrawCallbackResultEnum) {
    UzPAYWithdrawCallbackResultEnum["SUCCESS"] = "success";
    UzPAYWithdrawCallbackResultEnum["FAILED"] = "failed";
})(UzPAYWithdrawCallbackResultEnum || (UzPAYWithdrawCallbackResultEnum = {}));
let UzPAYPaymentProviderService = class UzPAYPaymentProviderService extends _payment_provider_service__WEBPACK_IMPORTED_MODULE_12__["PaymentProviderService"] {
    constructor(configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, payProviderEntityService, paymentProviderSharedService, sequelize, betConstructService, optionsService, httpService // @InjectModel(TestModel) // private testRepository: typeof TestModel
    ) {
        super(configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, payProviderEntityService, paymentProviderSharedService, sequelize, betConstructService, optionsService);
        this.configService = configService;
        this.channelService = channelService;
        this.bankService = bankService;
        this.depositPendingOrderService = depositPendingOrderService;
        this.depositOrderService = depositOrderService;
        this.withdrawPendingOrderService = withdrawPendingOrderService;
        this.withdrawOrderService = withdrawOrderService;
        this.paymentProviderChannelService = paymentProviderChannelService;
        this.paymentProviderBankService = paymentProviderBankService;
        this.paymentProviderUsdtProtoService = paymentProviderUsdtProtoService;
        this.paymentProviderCardService = paymentProviderCardService;
        this.payProviderEntityService = payProviderEntityService;
        this.paymentProviderSharedService = paymentProviderSharedService;
        this.sequelize = sequelize;
        this.betConstructService = betConstructService;
        this.optionsService = optionsService;
        this.httpService = httpService;
    }
    getPaymentProviderEnum() {
        return _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["PaymentProviderEnum"].UZPAY;
    }
    isAvailable() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return true;
        });
    }
    depositErrorFactory(error) {
        return _dto_uzpay_deposit_result__WEBPACK_IMPORTED_MODULE_15__["UzPAYDepositResult"].errorFactory(error, this.getPaymentProviderName(), this.configService.get('uzpay.DEFAULT_ERROR_CODE'));
    }
    withdrawErrorFactory(error) {
        return _dto_uzpay_withdraw_result__WEBPACK_IMPORTED_MODULE_16__["UzPAYWithdrawResult"].errorFactory(error, this.getPaymentProviderName(), this.configService.get('uzpay.DEFAULT_ERROR_CODE'));
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Implement Deposit Procedure
    ////////////////////////////////////////////////////////////////////////////////
    depositByPaymentProviderChannel(depositRequest, paymentProviderChannel, paymentProviderUsdtProto, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const channelDepositResultBundle = new _payment_provider_service__WEBPACK_IMPORTED_MODULE_12__["PaymentProviderChannelDepositResultBundle"]();
            let depositResult;
            let order;
            const channelDepositResultDefault = { providerName: this.getPaymentProviderName() };
            order = yield this.createOrderBeforeDeposit(depositRequest, paymentProviderChannel, transaction);
            if (!order) {
                return {
                    depositResult: Object.assign(Object.assign({}, channelDepositResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_30__["ErrorCodeEnum"].DEPOSIT_PROVIDER_ORDER_NOT_CREATED }),
                    order: null
                };
            }
            const params = new _dto_uzpay_deposit_request_param__WEBPACK_IMPORTED_MODULE_17__["UzPAYDepositRequestParams"]();
            params.uid = this.configService.get('UZPAY_UID');
            params.userid = depositRequest.userId;
            params.amount = numeral__WEBPACK_IMPORTED_MODULE_19__(depositRequest.amount).format('0.00');
            params.orderid = order.orderId;
            params.cate = paymentProviderChannel.providerChannelName;
            const channel = yield this.channelService.findById(paymentProviderChannel.channelId);
            if (!channel) {
                return {
                    depositResult: Object.assign(Object.assign({}, channelDepositResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_30__["ErrorCodeEnum"].DEPOSIT_PROVIDER_CHANNEL_NOT_FOUND }),
                    order
                };
            }
            if (channel.fromPaymentSystem.isBank) {
                const paymentProviderBank = yield this.getPaymentProviderBank(depositRequest.bankCode);
                if (!paymentProviderBank) {
                    throw new _payment_exception__WEBPACK_IMPORTED_MODULE_18__["NotSupportedBank"]();
                }
                params.from_bankflag = paymentProviderBank.paymentProviderBankName;
            }
            else {
                params.from_bankflag = this.configService.get('uzpay.OTHER_BANKFLAG');
            }
            params.userip = depositRequest.ip;
            params.notify =
                this.getBaseUrl(depositRequest.headers['host']) +
                    this.configService.get('uzpay.DEPOSIT_SUCCESS_URL');
            params.sign = this.getDepositRequestSign(params, this.configService.get('UZPAY_KEY'));
            const host = this.configService.get('UZPAY_HOST');
            const url = this.configService.get('UZPAY_DEPOSIT_URL');
            const response = yield this.httpService
                .post(`https://${host}/${url}`, params)
                .toPromise();
            depositResult = _dto_uzpay_deposit_result__WEBPACK_IMPORTED_MODULE_15__["UzPAYChannelDepositResult"].responseFactory(response, this.getPaymentProviderName());
            if (!depositResult.result) {
                depositResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_30__["ErrorCodeEnum"].DEPOSIT_PROVIDER_FAILED;
            }
            depositResult.channelRequestTime = moment_timezone__WEBPACK_IMPORTED_MODULE_23__()
                .utcOffset('+08:00')
                .format('YYYY-MM-DD HH:mm:ss');
            depositResult.channelRequestJson = JSON.stringify(params);
            depositResult.channelResponseJson = JSON.stringify(response.data);
            channelDepositResultBundle.depositResult = depositResult;
            channelDepositResultBundle.order = order;
            return channelDepositResultBundle;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Deposit Callback
    ////////////////////////////////////////////////////////////////////////////////
    depositCallback(depositStatusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!(yield this.beforeDepositCallback(depositStatusResponse, ip))) {
                return UzPAYDepositCallbackResultEnum.FAILED;
            }
            const order = yield this.depositPendingOrderService.findByOrderId(depositStatusResponse.orderid);
            if (!order) {
                return UzPAYDepositCallbackResultEnum.FAILED;
            }
            const sign = this.getDepositStatusResponseSign(depositStatusResponse, this.configService.get('UZPAY_KEY'));
            if (sign.toUpperCase() !== depositStatusResponse.sign.toUpperCase()) {
                return UzPAYDepositCallbackResultEnum.FAILED;
            }
            if (`${order.amount}` !== `${numeral__WEBPACK_IMPORTED_MODULE_19__(depositStatusResponse.amount).value()}`) {
                return UzPAYDepositCallbackResultEnum.FAILED;
            }
            order.status = this.getOrderStatusByDepositStatus(depositStatusResponse.status);
            order.providerOrderId = depositStatusResponse.oid;
            if (order.status === _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["OrderStatusEnum"].SUCCESS) {
                const bcOrder = yield this.depositBCAfterDepositCallback(order);
            }
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    yield this.updateOrderAfterDepositCallback(order, transaction);
                }));
            }
            catch (error) {
                return UzPAYDepositCallbackResultEnum.FAILED;
            }
            return UzPAYDepositCallbackResultEnum.SUCCESS;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Withdraw Procedure
    ////////////////////////////////////////////////////////////////////////////////
    withdrawByPaymentProviderChannel(withdrawRequest, paymentProviderChannel, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const withdrawProcResult = new _payment_provider_service__WEBPACK_IMPORTED_MODULE_12__["PaymentProviderChannelWithdrawResultBundle"]();
            let withdrawResult;
            const channelWithdrawResultDefault = { providerName: this.getPaymentProviderName() };
            const order = yield this.createOrderBeforeWithdraw(withdrawRequest, transaction);
            if (!order) {
                return {
                    withdrawResult: Object.assign(Object.assign({}, channelWithdrawResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_30__["ErrorCodeEnum"].WITHDRAW_PROVIDER_ORDER_NOT_CREATED }),
                    order: null
                };
            }
            const paymentProviderBank = yield this.getPaymentProviderBank(withdrawRequest.bankCode);
            if (!paymentProviderBank) {
                return {
                    withdrawResult: Object.assign(Object.assign({}, channelWithdrawResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_30__["ErrorCodeEnum"].DEPOSIT_PROVIDER_ORDER_NOT_CREATED }),
                    order
                };
            }
            const params = new _dto_uzpay_withdraw_request_params__WEBPACK_IMPORTED_MODULE_21__["UzPAYWithdrawRequestParams"]();
            params.uid = this.configService.get('UZPAY_UID');
            params.userid = withdrawRequest.userId;
            params.amount = numeral__WEBPACK_IMPORTED_MODULE_19__(order.amount).format('0.00');
            params.orderid = order.orderId;
            params.to_bankflag = paymentProviderBank.paymentProviderBankName;
            params.to_subbankflag =
                !withdrawRequest.branch || !withdrawRequest.branch.trim()
                    ? paymentProviderBank.paymentProviderBankName
                    : withdrawRequest.branch;
            params.to_cardnumber = withdrawRequest.bankAccountNumber;
            params.to_cardname = withdrawRequest.bankAccountName;
            params.to_province = withdrawRequest.province;
            params.to_city = withdrawRequest.city;
            params.notify =
                this.getBaseUrl(withdrawRequest.headers['host']) +
                    this.configService.get('uzpay.WITHDRAWAL_SUCCESS_URL');
            //params.extend = '';
            params.sign = this.getWithdrawRequestSign(params, this.configService.get('UZPAY_KEY'));
            const host = this.configService.get('UZPAY_HOST');
            const url = this.configService.get('UZPAY_WITHDRAW_URL');
            const response = yield this.httpService
                .post(`https://${host}/${url}`, params)
                .toPromise();
            withdrawResult = _dto_uzpay_withdraw_result__WEBPACK_IMPORTED_MODULE_16__["UzPAYChannelWithdrawResult"].responseFactory(response, this.getPaymentProviderName());
            if (!withdrawResult.result) {
                withdrawResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_30__["ErrorCodeEnum"].WITHDRAW_PROVIDER_FAILED;
            }
            withdrawProcResult.withdrawResult = withdrawResult;
            withdrawProcResult.order = order;
            return withdrawProcResult;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Withdraw Callback
    ////////////////////////////////////////////////////////////////////////////////
    withdrawCallback(withdrawStatusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            // await this.testRepository.create({
            //   a: JSON.stringify(withdrawStatusResponse),
            // });
            if (!(yield this.beforeWithdrawCallback(withdrawStatusResponse, ip))) {
                return UzPAYDepositCallbackResultEnum.FAILED;
            }
            const order = yield this.withdrawPendingOrderService.findByOrderId(withdrawStatusResponse.orderid);
            if (!order) {
                return UzPAYDepositCallbackResultEnum.FAILED;
            }
            const sign = this.getWithdrawStatusResponseSign(withdrawStatusResponse, this.configService.get('UZPAY_KEY'));
            if (sign.toUpperCase() !== withdrawStatusResponse.sign.toUpperCase()) {
                return UzPAYDepositCallbackResultEnum.FAILED;
            }
            if (`${order.amount}` !== `${numeral__WEBPACK_IMPORTED_MODULE_19__(withdrawStatusResponse.amount).value()}`) {
                return UzPAYDepositCallbackResultEnum.FAILED;
            }
            order.status = this.getOrderStatusByWithdrawStatus(withdrawStatusResponse.status);
            order.providerOrderId = withdrawStatusResponse.oid;
            if (order.status ===
                _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["OrderStatusEnum"].SUCCESS /* ||
            order.status === OrderStatusEnum.FAILED */) {
                yield this.withdrawBCAfterWithdrawCallback(order);
            }
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    yield this.updateOrderAfterWithdrawCallback(order, transaction);
                }));
            }
            catch (error) {
                return UzPAYDepositCallbackResultEnum.FAILED;
            }
            return UzPAYDepositCallbackResultEnum.SUCCESS;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Order Status By Deposit Status
    ////////////////////////////////////////////////////////////////////////////////
    getOrderStatusByDepositStatus(argDepositStatus) {
        let orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["OrderStatusEnum"].NEW;
        const depositStatus = argDepositStatus;
        switch (depositStatus) {
            case _dto_uzpay_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_13__["UzPAYDepositStatusEnum"].REVOKED:
            case _dto_uzpay_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_13__["UzPAYDepositStatusEnum"].TIMEOUT:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["OrderStatusEnum"].FAILED;
                break;
            case _dto_uzpay_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_13__["UzPAYDepositStatusEnum"].PROCESSING:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["OrderStatusEnum"].PENDING;
                break;
            case _dto_uzpay_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_13__["UzPAYDepositStatusEnum"].VERIFIED:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["OrderStatusEnum"].SUCCESS;
                break;
        }
        return orderStatus;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Order Status By Withdraw Status
    ////////////////////////////////////////////////////////////////////////////////
    getOrderStatusByWithdrawStatus(argWithdrawStatus) {
        let orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["OrderStatusEnum"].NEW;
        const withdrawStatus = argWithdrawStatus;
        switch (withdrawStatus) {
            case _dto_uzpay_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_14__["UzPAYWithdrawStatusEnum"].REVOKED:
            case _dto_uzpay_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_14__["UzPAYWithdrawStatusEnum"].TIMEOUT:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["OrderStatusEnum"].FAILED;
                break;
            case _dto_uzpay_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_14__["UzPAYWithdrawStatusEnum"].PROCESSING:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["OrderStatusEnum"].PENDING;
                break;
            case _dto_uzpay_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_14__["UzPAYWithdrawStatusEnum"].VERIFIED:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["OrderStatusEnum"].SUCCESS;
                break;
        }
        return orderStatus;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Deposit Request Sign
    ////////////////////////////////////////////////////////////////////////////////
    getDepositRequestSign(params, key) {
        const txtSource = `amount=${params.amount}` +
            `&cate=${params.cate}` +
            `&from_bankflag=${params.from_bankflag}` +
            `&notify=${params.notify}` +
            `&orderid=${params.orderid}` +
            `&uid=${params.uid}` +
            `&userid=${params.userid}` +
            `&userip=${params.userip}` +
            `&key=${key}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_20__(txtSource);
        return txtDecryption;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Withdraw Request Sign
    ////////////////////////////////////////////////////////////////////////////////
    getWithdrawRequestSign(params, key) {
        const txtSource = `amount=${params.amount}` +
            `&notify=${params.notify}` +
            `&orderid=${params.orderid}` +
            `&to_bankflag=${params.to_bankflag}` +
            `&to_cardname=${params.to_cardname}` +
            `&to_cardnumber=${params.to_cardnumber}` +
            `&to_city=${params.to_city}` +
            `&to_province=${params.to_province}` +
            `&uid=${params.uid}` +
            `&userid=${params.userid}` +
            `&key=${key}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_20__(txtSource);
        return txtDecryption;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Deposit Status Sign
    ////////////////////////////////////////////////////////////////////////////////
    getDepositStatusResponseSign(depositStatus, key) {
        const txtSource = `amount=${depositStatus.amount}` +
            `&created_time=${depositStatus.created_time}` +
            // (depositStatus.extend && depositStatus.extend.length > 0
            //   ? `&extended=${depositStatus.extend}`
            //   : '') +
            `&oid=${depositStatus.oid}` +
            `&orderid=${depositStatus.orderid}` +
            `&service=${depositStatus.service}` +
            `&status=${depositStatus.status}` +
            `&userid=${depositStatus.userid}` +
            // (depositStatus.verified_time !== undefined
            //   ? `&verified_time=${depositStatus.verified_time}`
            //   : '') +
            `&key=${key}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_20__(txtSource);
        return txtDecryption;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Deposit Status Sign
    ////////////////////////////////////////////////////////////////////////////////
    getWithdrawStatusResponseSign(withdrawStatus, key) {
        const txtSource = `amount=${withdrawStatus.amount}` +
            `&created_time=${withdrawStatus.created_time}` +
            // (withdrawStatus.extend && withdrawStatus.extend.length > 0
            //   ? `&extended=${withdrawStatus.extend}`
            //   : '') +
            `&oid=${withdrawStatus.oid}` +
            `&orderid=${withdrawStatus.orderid}` +
            `&service=${withdrawStatus.service}` +
            `&status=${withdrawStatus.status}` +
            `&userid=${withdrawStatus.userid}` +
            // (withdrawStatus.verified_time && withdrawStatus.verified_time.length > 0
            //   ? `&verified_time=${withdrawStatus.verified_time}`
            //   : '') +
            `&key=${key}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_20__(txtSource);
        return txtDecryption;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Frozen Status By Channel DepositResult
    ////////////////////////////////////////////////////////////////////////////////
    getFrozenByChannelDepositResult(paymentProviderChannel, depositRequest, depositResult) {
        const errorCode = numeral__WEBPACK_IMPORTED_MODULE_19__(depositResult.errorCode).value();
        if (errorCode === null) {
            return false;
        }
        const frozenCodes = this.configService.get('uzpay.DEPOSIT_FROZEN_CODE') || [];
        return (frozenCodes.filter((frozenCode) => frozenCode === errorCode).length > 0);
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Frozen Status By Channel WithdrawResult
    ////////////////////////////////////////////////////////////////////////////////
    getFrozenByChannelWithdrawResult(withdrawResult) {
        const errorCode = numeral__WEBPACK_IMPORTED_MODULE_19__(withdrawResult.errorCode).value();
        if (errorCode === null) {
            return false;
        }
        const frozenCodes = this.configService.get('uzpay.WITHDRAW_FROZEN_CODE') || [];
        return (frozenCodes.filter((frozenCode) => frozenCode === errorCode).length > 0);
    }
};
UzPAYPaymentProviderService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"]) === "function" ? _a : Object, typeof (_b = typeof _channel_channel_service__WEBPACK_IMPORTED_MODULE_5__["ChannelService"] !== "undefined" && _channel_channel_service__WEBPACK_IMPORTED_MODULE_5__["ChannelService"]) === "function" ? _b : Object, typeof (_c = typeof _bank_bank_service__WEBPACK_IMPORTED_MODULE_24__["BankService"] !== "undefined" && _bank_bank_service__WEBPACK_IMPORTED_MODULE_24__["BankService"]) === "function" ? _c : Object, typeof (_d = typeof _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_7__["DepositPendingOrderService"] !== "undefined" && _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_7__["DepositPendingOrderService"]) === "function" ? _d : Object, typeof (_e = typeof _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_6__["DepositOrderService"] !== "undefined" && _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_6__["DepositOrderService"]) === "function" ? _e : Object, typeof (_f = typeof _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_9__["WithdrawPendingOrderService"] !== "undefined" && _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_9__["WithdrawPendingOrderService"]) === "function" ? _f : Object, typeof (_g = typeof _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_8__["WithdrawOrderService"] !== "undefined" && _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_8__["WithdrawOrderService"]) === "function" ? _g : Object, typeof (_h = typeof _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_11__["PaymentProviderChannelService"] !== "undefined" && _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_11__["PaymentProviderChannelService"]) === "function" ? _h : Object, typeof (_j = typeof _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_10__["PaymentProviderBankService"] !== "undefined" && _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_10__["PaymentProviderBankService"]) === "function" ? _j : Object, typeof (_k = typeof _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_28__["PaymentProviderUsdtProtoService"] !== "undefined" && _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_28__["PaymentProviderUsdtProtoService"]) === "function" ? _k : Object, typeof (_l = typeof _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_25__["PaymentProviderCardService"] !== "undefined" && _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_25__["PaymentProviderCardService"]) === "function" ? _l : Object, typeof (_m = typeof _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_26__["PaymentProviderEntityService"] !== "undefined" && _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_26__["PaymentProviderEntityService"]) === "function" ? _m : Object, typeof (_o = typeof _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_27__["PaymentProviderSharedService"] !== "undefined" && _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_27__["PaymentProviderSharedService"]) === "function" ? _o : Object, typeof (_p = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_4__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_4__["Sequelize"]) === "function" ? _p : Object, typeof (_q = typeof _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_22__["BetConstructService"] !== "undefined" && _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_22__["BetConstructService"]) === "function" ? _q : Object, typeof (_r = typeof _options_options_service__WEBPACK_IMPORTED_MODULE_29__["OptionsService"] !== "undefined" && _options_options_service__WEBPACK_IMPORTED_MODULE_29__["OptionsService"]) === "function" ? _r : Object, typeof (_s = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpService"] // @InjectModel(TestModel) // private testRepository: typeof TestModel
         !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpService"] // @InjectModel(TestModel) // private testRepository: typeof TestModel
        ) === "function" ? _s : Object])
], UzPAYPaymentProviderService);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/xingchen/dto/xingchen.deposit.request.params.ts":
/*!*****************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/xingchen/dto/xingchen.deposit.request.params.ts ***!
  \*****************************************************************************************************************/
/*! exports provided: XingChenDepositRequestParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XingChenDepositRequestParams", function() { return XingChenDepositRequestParams; });
class XingChenDepositRequestParams {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/xingchen/dto/xingchen.deposit.result.ts":
/*!*********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/xingchen/dto/xingchen.deposit.result.ts ***!
  \*********************************************************************************************************/
/*! exports provided: XingChenDepositResult, XingChenDepositResultData, XingChenChannelDepositResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XingChenDepositResult", function() { return XingChenDepositResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XingChenDepositResultData", function() { return XingChenDepositResultData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XingChenChannelDepositResult", function() { return XingChenChannelDepositResult; });
/* harmony import */ var _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../payment.provider.deposit.result */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.deposit.result.ts");

class XingChenDepositResult extends _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderDepositResult"] {
}
class XingChenDepositResultData extends _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderDepositResultData"] {
    static responseFactory({ pay_link }) {
        const data = new XingChenDepositResultData();
        data.url = data.pay_link = pay_link;
        return data;
    }
}
class XingChenChannelDepositResult extends _payment_provider_deposit_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderChannelDepositResult"] {
    static responseFactory(response, providerName) {
        const { code, msg, pay_link } = response.data || {};
        const result = new XingChenChannelDepositResult();
        result.result = false;
        result.providerOrderId = null;
        result.providerName = providerName;
        if (code !== 0) {
            result.errorCode = code;
            result.errorMessage = msg || 'Unknown Error';
            return result;
        }
        result.data = XingChenDepositResultData.responseFactory({ pay_link });
        result.result = true;
        return result;
    }
    static errorFactory(error, providerName, defaultErrorCode) {
        const result = new XingChenChannelDepositResult();
        result.result = false;
        result.providerName = providerName;
        const { status, message } = error;
        result.errorMessage = message || 'Unknown Error';
        result.errorCode = defaultErrorCode;
        //result.errorCode = status;
        result.error = error;
        return result;
    }
    sanitizePaymentProviderDepositResult() {
        if (this.data !== undefined) {
            const data = this.data;
            if (data && data.pay_link !== undefined) {
                delete data.pay_link;
            }
        }
        if (this.providerOrderId !== undefined) {
            delete this.providerOrderId;
        }
        return this;
    }
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/xingchen/dto/xingchen.deposit.status.response.dto.ts":
/*!**********************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/xingchen/dto/xingchen.deposit.status.response.dto.ts ***!
  \**********************************************************************************************************************/
/*! exports provided: XingChenDepositStatusEnum, XingChenDepositStatusResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XingChenDepositStatusEnum", function() { return XingChenDepositStatusEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XingChenDepositStatusResponseDto", function() { return XingChenDepositStatusResponseDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../payment.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/payment.status.response.dto.ts");





var XingChenDepositStatusEnum;
(function (XingChenDepositStatusEnum) {
    XingChenDepositStatusEnum[XingChenDepositStatusEnum["PENDING"] = 0] = "PENDING";
    XingChenDepositStatusEnum[XingChenDepositStatusEnum["SUCCESS"] = 1] = "SUCCESS";
    XingChenDepositStatusEnum[XingChenDepositStatusEnum["FAILED"] = 2] = "FAILED";
})(XingChenDepositStatusEnum || (XingChenDepositStatusEnum = {}));
class XingChenDepositStatusResponseDto extends _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_4__["PaymentStatusResponseDto"] {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], XingChenDepositStatusResponseDto.prototype, "mch_id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], XingChenDepositStatusResponseDto.prototype, "order_id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsInt"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Transform"])((params) => Number(params.value)),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], XingChenDepositStatusResponseDto.prototype, "amount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], XingChenDepositStatusResponseDto.prototype, "bank_mark", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], XingChenDepositStatusResponseDto.prototype, "trade_no", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        enum: XingChenDepositStatusEnum,
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsEnum"])(XingChenDepositStatusEnum),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsInt"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], XingChenDepositStatusResponseDto.prototype, "pay_status", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], XingChenDepositStatusResponseDto.prototype, "pay_time", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], XingChenDepositStatusResponseDto.prototype, "time_stamp", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], XingChenDepositStatusResponseDto.prototype, "sign", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/xingchen/dto/xingchen.withdraw.request.params.ts":
/*!******************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/xingchen/dto/xingchen.withdraw.request.params.ts ***!
  \******************************************************************************************************************/
/*! exports provided: XingChenWithdrawRequestParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XingChenWithdrawRequestParams", function() { return XingChenWithdrawRequestParams; });
class XingChenWithdrawRequestParams {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/xingchen/dto/xingchen.withdraw.result.ts":
/*!**********************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/xingchen/dto/xingchen.withdraw.result.ts ***!
  \**********************************************************************************************************/
/*! exports provided: XingChenWithdrawResult, XingChenChannelWithdrawResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XingChenWithdrawResult", function() { return XingChenWithdrawResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XingChenChannelWithdrawResult", function() { return XingChenChannelWithdrawResult; });
/* harmony import */ var _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../payment.provider.withdraw.result */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.withdraw.result.ts");

class XingChenWithdrawResult extends _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderWithdrawResult"] {
}
class XingChenChannelWithdrawResult extends _payment_provider_withdraw_result__WEBPACK_IMPORTED_MODULE_0__["PaymentProviderChannelWithdrawResult"] {
    static responseFactory(response, providerName) {
        const result = new XingChenChannelWithdrawResult();
        result.result = false;
        result.providerName = providerName;
        const { code, msg } = response.data || {};
        if (code !== 0) {
            result.errorCode = code;
            result.errorMessage = msg;
            return result;
        }
        result.result = true;
        return result;
    }
    static errorFactory(error, providerName, defaultErrorCode) {
        const result = new XingChenChannelWithdrawResult();
        result.result = false;
        result.providerId = null;
        result.providerName = providerName;
        const { status, message } = error;
        result.errorMessage = message || 'Unknown Error';
        result.errorCode = defaultErrorCode;
        result.error = error;
        return result;
    }
    sanitizePaymentProviderWithdrawResult() {
        delete this.providerId;
        return this;
    }
}


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/xingchen/dto/xingchen.withdraw.status.response.dto.ts":
/*!***********************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/xingchen/dto/xingchen.withdraw.status.response.dto.ts ***!
  \***********************************************************************************************************************/
/*! exports provided: XingChenWithdrawStatusEnum, XingChenWithdrawStatusResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XingChenWithdrawStatusEnum", function() { return XingChenWithdrawStatusEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XingChenWithdrawStatusResponseDto", function() { return XingChenWithdrawStatusResponseDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../payment.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/payment.status.response.dto.ts");





var XingChenWithdrawStatusEnum;
(function (XingChenWithdrawStatusEnum) {
    XingChenWithdrawStatusEnum[XingChenWithdrawStatusEnum["PENDING"] = 0] = "PENDING";
    XingChenWithdrawStatusEnum[XingChenWithdrawStatusEnum["SUCCESS"] = 1] = "SUCCESS";
    XingChenWithdrawStatusEnum[XingChenWithdrawStatusEnum["FAILED"] = 2] = "FAILED";
})(XingChenWithdrawStatusEnum || (XingChenWithdrawStatusEnum = {}));
class XingChenWithdrawStatusResponseDto extends _payment_status_response_dto__WEBPACK_IMPORTED_MODULE_4__["PaymentStatusResponseDto"] {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], XingChenWithdrawStatusResponseDto.prototype, "mch_id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], XingChenWithdrawStatusResponseDto.prototype, "order_id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsInt"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Transform"])((params) => Number(params.value)),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], XingChenWithdrawStatusResponseDto.prototype, "amount", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], XingChenWithdrawStatusResponseDto.prototype, "bank", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], XingChenWithdrawStatusResponseDto.prototype, "bank_site", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], XingChenWithdrawStatusResponseDto.prototype, "bank_account", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], XingChenWithdrawStatusResponseDto.prototype, "bank_account_name", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], XingChenWithdrawStatusResponseDto.prototype, "pay_time", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        enum: XingChenWithdrawStatusEnum,
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsEnum"])(XingChenWithdrawStatusEnum),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsInt"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], XingChenWithdrawStatusResponseDto.prototype, "pay_status", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], XingChenWithdrawStatusResponseDto.prototype, "time_stamp", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], XingChenWithdrawStatusResponseDto.prototype, "sign", void 0);


/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/xingchen/xingchen.payment.provider.controller.ts":
/*!******************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/xingchen/xingchen.payment.provider.controller.ts ***!
  \******************************************************************************************************************/
/*! exports provided: XingChenPaymentProviderController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XingChenPaymentProviderController", function() { return XingChenPaymentProviderController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var nest_winston__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! nest-winston */ "nest-winston");
/* harmony import */ var nest_winston__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(nest_winston__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _dto_xingchen_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dto/xingchen.deposit.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/xingchen/dto/xingchen.deposit.status.response.dto.ts");
/* harmony import */ var _dto_xingchen_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dto/xingchen.withdraw.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/xingchen/dto/xingchen.withdraw.status.response.dto.ts");
/* harmony import */ var _xingchen_payment_provider_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./xingchen.payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/xingchen/xingchen.payment.provider.service.ts");
/* harmony import */ var _decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../decorators/request.ip.decorators */ "./apps/backend/src/app/decorators/request.ip.decorators.ts");
var _a, _b, _c, _d, _e, _f;









let XingChenPaymentProviderController = class XingChenPaymentProviderController {
    constructor(logger, xingChenPaymentProviderService) {
        this.logger = logger;
        this.xingChenPaymentProviderService = xingChenPaymentProviderService;
    }
    depositCallback(paymentStatusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.xingChenPaymentProviderService.depositCallback(paymentStatusResponse, ip);
        });
    }
    withdrawCallback(withdrawStatusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.xingChenPaymentProviderService.withdrawCallback(withdrawStatusResponse, ip);
        });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].xingchencallbackDeposit),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].depositXingChenCallback,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_8__["RequestIpAddress"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _dto_xingchen_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__["XingChenDepositStatusResponseDto"] !== "undefined" && _dto_xingchen_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_5__["XingChenDepositStatusResponseDto"]) === "function" ? _a : Object, String]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_b = typeof Promise !== "undefined" && Promise) === "function" ? _b : Object)
], XingChenPaymentProviderController.prototype, "depositCallback", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].xingchencallbackWithdraw),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiOperation"])({
        description: _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiEndpointDecriptionEnum"].withdrawXingChenCallback,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(1, Object(_decorators_request_ip_decorators__WEBPACK_IMPORTED_MODULE_8__["RequestIpAddress"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_c = typeof _dto_xingchen_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__["XingChenWithdrawStatusResponseDto"] !== "undefined" && _dto_xingchen_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_6__["XingChenWithdrawStatusResponseDto"]) === "function" ? _c : Object, String]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_d = typeof Promise !== "undefined" && Promise) === "function" ? _d : Object)
], XingChenPaymentProviderController.prototype, "withdrawCallback", null);
XingChenPaymentProviderController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].payment),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].paymentEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Inject"])(nest_winston__WEBPACK_IMPORTED_MODULE_4__["WINSTON_MODULE_PROVIDER"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_e = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Logger"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Logger"]) === "function" ? _e : Object, typeof (_f = typeof _xingchen_payment_provider_service__WEBPACK_IMPORTED_MODULE_7__["XingChenPaymentProviderService"] !== "undefined" && _xingchen_payment_provider_service__WEBPACK_IMPORTED_MODULE_7__["XingChenPaymentProviderService"]) === "function" ? _f : Object])
], XingChenPaymentProviderController);



/***/ }),

/***/ "./apps/backend/src/app/payment/providers/payment-provider/xingchen/xingchen.payment.provider.service.ts":
/*!***************************************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/providers/payment-provider/xingchen/xingchen.payment.provider.service.ts ***!
  \***************************************************************************************************************/
/*! exports provided: XingChenDepositCallbackResultEnum, XingChenWithdrawCallbackResultEnum, XingChenPaymentProviderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XingChenDepositCallbackResultEnum", function() { return XingChenDepositCallbackResultEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XingChenWithdrawCallbackResultEnum", function() { return XingChenWithdrawCallbackResultEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XingChenPaymentProviderService", function() { return XingChenPaymentProviderService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var mobile_detect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! mobile-detect */ "mobile-detect");
/* harmony import */ var mobile_detect__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(mobile_detect__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! moment */ "moment");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! md5 */ "md5");
/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(md5__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _channel_channel_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../channel/channel.service */ "./apps/backend/src/app/payment/channel/channel.service.ts");
/* harmony import */ var _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../order/deposit-order/deposit.order.service */ "./apps/backend/src/app/payment/order/deposit-order/deposit.order.service.ts");
/* harmony import */ var _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../order/deposit-pending-order/deposit.pending.order.service */ "./apps/backend/src/app/payment/order/deposit-pending-order/deposit.pending.order.service.ts");
/* harmony import */ var _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../order/withdraw-order/withdraw.order.service */ "./apps/backend/src/app/payment/order/withdraw-order/withdraw.order.service.ts");
/* harmony import */ var _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../order/withdraw-pending-order/withdraw.pending.order.service */ "./apps/backend/src/app/payment/order/withdraw-pending-order/withdraw.pending.order.service.ts");
/* harmony import */ var _payment_exception__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../payment.exception */ "./apps/backend/src/app/payment/payment.exception.ts");
/* harmony import */ var _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../payment-provider-bank/payment.provider.bank.service */ "./apps/backend/src/app/payment/providers/payment-provider-bank/payment.provider.bank.service.ts");
/* harmony import */ var _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../payment-provider-channel/payment.provider.channel.service */ "./apps/backend/src/app/payment/providers/payment-provider-channel/payment.provider.channel.service.ts");
/* harmony import */ var _payment_provider_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../payment.provider.service */ "./apps/backend/src/app/payment/providers/payment-provider/payment.provider.service.ts");
/* harmony import */ var _dto_xingchen_deposit_request_params__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./dto/xingchen.deposit.request.params */ "./apps/backend/src/app/payment/providers/payment-provider/xingchen/dto/xingchen.deposit.request.params.ts");
/* harmony import */ var _dto_xingchen_deposit_result__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./dto/xingchen.deposit.result */ "./apps/backend/src/app/payment/providers/payment-provider/xingchen/dto/xingchen.deposit.result.ts");
/* harmony import */ var _dto_xingchen_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./dto/xingchen.deposit.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/xingchen/dto/xingchen.deposit.status.response.dto.ts");
/* harmony import */ var _dto_xingchen_withdraw_request_params__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./dto/xingchen.withdraw.request.params */ "./apps/backend/src/app/payment/providers/payment-provider/xingchen/dto/xingchen.withdraw.request.params.ts");
/* harmony import */ var _dto_xingchen_withdraw_result__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./dto/xingchen.withdraw.result */ "./apps/backend/src/app/payment/providers/payment-provider/xingchen/dto/xingchen.withdraw.result.ts");
/* harmony import */ var _dto_xingchen_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./dto/xingchen.withdraw.status.response.dto */ "./apps/backend/src/app/payment/providers/payment-provider/xingchen/dto/xingchen.withdraw.status.response.dto.ts");
/* harmony import */ var _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../betContruct/betConstruct.service */ "./apps/backend/src/app/payment/betContruct/betConstruct.service.ts");
/* harmony import */ var _bank_bank_service__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../bank/bank.service */ "./apps/backend/src/app/payment/bank/bank.service.ts");
/* harmony import */ var _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../payment-provider-card/payment.provider.card.service */ "./apps/backend/src/app/payment/providers/payment-provider-card/payment.provider.card.service.ts");
/* harmony import */ var _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../payment-provider-entity/Payment.provider.entity.service */ "./apps/backend/src/app/payment/providers/payment-provider-entity/Payment.provider.entity.service.ts");
/* harmony import */ var _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../payment-provider-shared/payment.provider.shared.service */ "./apps/backend/src/app/payment/providers/payment-provider-shared/payment.provider.shared.service.ts");
/* harmony import */ var _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../payment-provider-usdt-protocol/payment.provider.usdt.proto.service */ "./apps/backend/src/app/payment/providers/payment-provider-usdt-protocol/payment.provider.usdt.proto.service.ts");
/* harmony import */ var _options_options_service__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../options/options.service */ "./apps/backend/src/app/options/options.service.ts");
/* harmony import */ var _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../../error/enums/errorCodeEnum */ "./apps/backend/src/app/error/enums/errorCodeEnum.ts");
var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;
































var XingChenDepositCallbackResultEnum;
(function (XingChenDepositCallbackResultEnum) {
    XingChenDepositCallbackResultEnum["SUCCESS"] = "SUCCESS";
    XingChenDepositCallbackResultEnum["FAILED"] = "FAILED";
})(XingChenDepositCallbackResultEnum || (XingChenDepositCallbackResultEnum = {}));
var XingChenWithdrawCallbackResultEnum;
(function (XingChenWithdrawCallbackResultEnum) {
    XingChenWithdrawCallbackResultEnum["SUCCESS"] = "SUCCESS";
    XingChenWithdrawCallbackResultEnum["FAILED"] = "FAILED";
})(XingChenWithdrawCallbackResultEnum || (XingChenWithdrawCallbackResultEnum = {}));
let XingChenPaymentProviderService = class XingChenPaymentProviderService extends _payment_provider_service__WEBPACK_IMPORTED_MODULE_17__["PaymentProviderService"] {
    constructor(configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, payProviderEntityService, paymentProviderSharedService, sequelize, betConstructService, optionsService, httpService) {
        super(configService, channelService, bankService, depositPendingOrderService, depositOrderService, withdrawPendingOrderService, withdrawOrderService, paymentProviderChannelService, paymentProviderBankService, paymentProviderUsdtProtoService, paymentProviderCardService, payProviderEntityService, paymentProviderSharedService, sequelize, betConstructService, optionsService);
        this.configService = configService;
        this.channelService = channelService;
        this.bankService = bankService;
        this.depositPendingOrderService = depositPendingOrderService;
        this.depositOrderService = depositOrderService;
        this.withdrawPendingOrderService = withdrawPendingOrderService;
        this.withdrawOrderService = withdrawOrderService;
        this.paymentProviderChannelService = paymentProviderChannelService;
        this.paymentProviderBankService = paymentProviderBankService;
        this.paymentProviderUsdtProtoService = paymentProviderUsdtProtoService;
        this.paymentProviderCardService = paymentProviderCardService;
        this.payProviderEntityService = payProviderEntityService;
        this.paymentProviderSharedService = paymentProviderSharedService;
        this.sequelize = sequelize;
        this.betConstructService = betConstructService;
        this.optionsService = optionsService;
        this.httpService = httpService;
    }
    getPaymentProviderEnum() {
        return _workspace_enums__WEBPACK_IMPORTED_MODULE_8__["PaymentProviderEnum"].XINGCHEN;
    }
    isAvailable() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return true;
            // const host = this.configService.get<string>('XINGCHEN_HOST');
            // const url_available = this.configService.get<string>(
            //   'XINGCHEN_DEPOSIT_URL'
            // );
            // try {
            //   const response = await this.httpService
            //     .post(`http://${host}/${url_available}`, {})
            //     .toPromise();
            //   return response.status === 200;
            // } catch (error) {
            //   return false;
            // }
        });
    }
    depositErrorFactory(error) {
        return _dto_xingchen_deposit_result__WEBPACK_IMPORTED_MODULE_19__["XingChenDepositResult"].errorFactory(error, this.getPaymentProviderName(), this.configService.get('xingchen.DEFAULT_ERROR_CODE'));
    }
    withdrawErrorFactory(error) {
        return _dto_xingchen_withdraw_result__WEBPACK_IMPORTED_MODULE_22__["XingChenWithdrawResult"].errorFactory(error, this.getPaymentProviderName(), this.configService.get('uzpay.DEFAULT_ERROR_CODE'));
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Implement Deposit Procedure
    ////////////////////////////////////////////////////////////////////////////////
    depositByPaymentProviderChannel(depositRequest, paymentProviderChannel, paymentProviderUsdtProto, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const channelDepositResultBundle = new _payment_provider_service__WEBPACK_IMPORTED_MODULE_17__["PaymentProviderChannelDepositResultBundle"]();
            let depositResult;
            let order;
            const channelDepositResultDefault = { providerName: this.getPaymentProviderName() };
            order = yield this.createOrderBeforeDeposit(depositRequest, paymentProviderChannel, transaction);
            if (!order) {
                return {
                    depositResult: Object.assign(Object.assign({}, channelDepositResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_31__["ErrorCodeEnum"].DEPOSIT_PROVIDER_ORDER_NOT_CREATED }),
                    order: null
                };
            }
            const params = new _dto_xingchen_deposit_request_params__WEBPACK_IMPORTED_MODULE_18__["XingChenDepositRequestParams"]();
            params.amount = order.amount * 100;
            params.channel_id = paymentProviderChannel.providerChannelName;
            params.client_ip = depositRequest.ip;
            params.mch_id = this.configService.get('XINGCHEN_MCH_ID');
            params.notify_url =
                this.getBaseUrl(depositRequest.headers['host']) +
                    this.configService.get('xingchen.DEPOSIT_SUCCESS_URL');
            params.order_id = order.orderId;
            const md = new mobile_detect__WEBPACK_IMPORTED_MODULE_3__(depositRequest.headers['user-agent']);
            params.platform = md.mobile() ? 'mobile' : 'pc';
            params.time_stamp = `${moment__WEBPACK_IMPORTED_MODULE_4__().unix()}`;
            params.sign = this.getDepositRequestSign(params, this.configService.get('XINGCHEN_KEY'));
            //console.log(params, 'XingChenRequestParams');
            const host = this.configService.get('XINGCHEN_HOST');
            const url = this.configService.get('XINGCHEN_DEPOSIT_URL');
            const response = yield this.httpService
                .post(`http://${host}/${url}`, params)
                .toPromise();
            //console.log(response.data, 'XingChenResponse');
            depositResult = _dto_xingchen_deposit_result__WEBPACK_IMPORTED_MODULE_19__["XingChenChannelDepositResult"].responseFactory(response, this.getPaymentProviderName());
            if (!depositResult) {
                return null;
            }
            depositResult.channelRequestTime = moment__WEBPACK_IMPORTED_MODULE_4__()
                .utcOffset('+08:00')
                .format('YYYY-MM-DD HH:mm:ss');
            depositResult.channelRequestJson = JSON.stringify(params);
            depositResult.channelResponseJson = JSON.stringify(response.data);
            channelDepositResultBundle.depositResult = depositResult;
            channelDepositResultBundle.order = order;
            return channelDepositResultBundle;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Deposit Callback
    ////////////////////////////////////////////////////////////////////////////////
    depositCallback(depositStatusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!(yield this.beforeDepositCallback(depositStatusResponse, ip))) {
                return XingChenDepositCallbackResultEnum.FAILED;
            }
            const mch_id = this.configService.get('XINGCHEN_MCH_ID');
            if (mch_id !== depositStatusResponse.mch_id) {
                return XingChenDepositCallbackResultEnum.FAILED;
            }
            const order = yield this.depositPendingOrderService.findByOrderId(depositStatusResponse.order_id);
            if (!order) {
                return XingChenDepositCallbackResultEnum.FAILED;
            }
            const sign = this.getDepositStatusResponseSign(depositStatusResponse, this.configService.get('XINGCHEN_KEY'));
            if (sign.toUpperCase() !== depositStatusResponse.sign.toUpperCase()) {
                return XingChenDepositCallbackResultEnum.FAILED;
            }
            if (order.amount * 100 !== depositStatusResponse.amount) {
                return XingChenDepositCallbackResultEnum.FAILED;
            }
            order.status = this.getOrderStatusByDepositStatus(depositStatusResponse.pay_status);
            order.providerOrderId = depositStatusResponse.trade_no;
            if (order.status === _workspace_enums__WEBPACK_IMPORTED_MODULE_8__["OrderStatusEnum"].SUCCESS) {
                const bcOrder = yield this.depositBCAfterDepositCallback(order);
            }
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    yield this.updateOrderAfterDepositCallback(order, transaction);
                }));
            }
            catch (error) {
                return XingChenWithdrawCallbackResultEnum.FAILED;
            }
            return XingChenDepositCallbackResultEnum.SUCCESS;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Implement Withdraw Procedure
    ////////////////////////////////////////////////////////////////////////////////
    withdrawByPaymentProviderChannel(withdrawRequest, paymentProviderChannel, transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const withdrawProcResult = new _payment_provider_service__WEBPACK_IMPORTED_MODULE_17__["PaymentProviderChannelWithdrawResultBundle"]();
            let withdrawResult;
            const channelWithdrawResultDefault = { providerName: this.getPaymentProviderName() };
            const order = yield this.createOrderBeforeWithdraw(withdrawRequest, transaction);
            if (!order) {
                return {
                    withdrawResult: Object.assign(Object.assign({}, channelWithdrawResultDefault), { result: false, code: _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_31__["ErrorCodeEnum"].WITHDRAW_PROVIDER_ORDER_NOT_CREATED }),
                    order: null
                };
            }
            const paymentProviderBank = yield this.getPaymentProviderBank(withdrawRequest.bankCode);
            if (!paymentProviderBank) {
                throw new _payment_exception__WEBPACK_IMPORTED_MODULE_14__["NotSupportedBank"]();
            }
            const params = new _dto_xingchen_withdraw_request_params__WEBPACK_IMPORTED_MODULE_21__["XingChenWithdrawRequestParams"]();
            params.mch_id = this.configService.get('XINGCHEN_MCH_ID');
            params.order_id = order.orderId;
            params.amount = order.amount * 100;
            params.notify_url =
                this.getBaseUrl(withdrawRequest.headers['host']) +
                    this.configService.get('xingchen.WITHDRAWAL_SUCCESS_URL');
            params.passwd = md5__WEBPACK_IMPORTED_MODULE_6__(this.configService.get('XINGCHEN_WITHDRAW_PASSWORD'));
            params.bank = paymentProviderBank.paymentProviderBankCode;
            params.bank_site =
                !withdrawRequest.branch || !withdrawRequest.branch.trim()
                    ? paymentProviderBank.paymentProviderBankName
                    : withdrawRequest.branch;
            params.bank_account = withdrawRequest.bankAccountNumber;
            params.bank_account_name = withdrawRequest.bankAccountName;
            params.time_stamp = `${moment__WEBPACK_IMPORTED_MODULE_4__().unix()}`;
            params.sign = this.getWithdrawRequestSign(params, this.configService.get('XINGCHEN_KEY'));
            const host = this.configService.get('XINGCHEN_HOST');
            const url = this.configService.get('XINGCHEN_WITHDRAW_URL');
            const response = yield this.httpService
                .post(`http://${host}/${url}`, params)
                .toPromise();
            withdrawResult = _dto_xingchen_withdraw_result__WEBPACK_IMPORTED_MODULE_22__["XingChenChannelWithdrawResult"].responseFactory(response, this.getPaymentProviderName());
            if (!withdrawResult.result) {
                withdrawResult.code = _error_enums_errorCodeEnum__WEBPACK_IMPORTED_MODULE_31__["ErrorCodeEnum"].WITHDRAW_PROVIDER_FAILED;
            }
            withdrawProcResult.withdrawResult = withdrawResult;
            withdrawProcResult.order = order;
            return withdrawProcResult;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Withdraw Callback
    ////////////////////////////////////////////////////////////////////////////////
    withdrawCallback(withdrawStatusResponse, ip) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!(yield this.beforeWithdrawCallback(withdrawStatusResponse, ip))) {
                return XingChenWithdrawCallbackResultEnum.FAILED;
            }
            const mch_id = this.configService.get('XINGCHEN_MCH_ID');
            if (mch_id !== withdrawStatusResponse.mch_id) {
                return XingChenWithdrawCallbackResultEnum.FAILED;
            }
            const order = yield this.withdrawPendingOrderService.findByOrderId(withdrawStatusResponse.order_id);
            if (!order) {
                return XingChenWithdrawCallbackResultEnum.FAILED;
            }
            const sign = this.getWithdrawStatusResponseSign(withdrawStatusResponse, this.configService.get('XINGCHEN_KEY'));
            if (sign.toUpperCase() !== withdrawStatusResponse.sign.toUpperCase()) {
                return XingChenWithdrawCallbackResultEnum.FAILED;
            }
            if (order.amount * 100 !== withdrawStatusResponse.amount) {
                return XingChenWithdrawCallbackResultEnum.FAILED;
            }
            order.status = this.getOrderStatusByWithdrawStatus(withdrawStatusResponse.pay_status);
            if (order.status ===
                _workspace_enums__WEBPACK_IMPORTED_MODULE_8__["OrderStatusEnum"].SUCCESS /* ||
            order.status === OrderStatusEnum.FAILED */) {
                yield this.withdrawBCAfterWithdrawCallback(order);
            }
            try {
                yield this.sequelize.transaction((transaction) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    yield this.updateOrderAfterWithdrawCallback(order, transaction);
                }));
            }
            catch (error) {
                return XingChenWithdrawCallbackResultEnum.FAILED;
            }
            return XingChenWithdrawCallbackResultEnum.SUCCESS;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Deposit Request Sign
    ////////////////////////////////////////////////////////////////////////////////
    getDepositRequestSign(params, key) {
        const txtSource = `amount=${params.amount}` +
            `&channel_id=${params.channel_id}` +
            `&client_ip=${params.client_ip}` +
            `&mch_id=${params.mch_id}` +
            `&notify_url=${params.notify_url}` +
            `&order_id=${params.order_id}` +
            `&platform=${params.platform}` +
            `&time_stamp=${params.time_stamp}` +
            `&key=${key}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_6__(txtSource);
        return txtDecryption;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Withdraw Request Sign
    ////////////////////////////////////////////////////////////////////////////////
    getWithdrawRequestSign(params, key) {
        const txtSource = `amount=${params.amount}` +
            `&bank=${params.bank}` +
            `&bank_account=${params.bank_account}` +
            `&bank_account_name=${params.bank_account_name}` +
            `&bank_site=${params.bank_site}` +
            `&mch_id=${params.mch_id}` +
            `&notify_url=${params.notify_url}` +
            `&order_id=${params.order_id}` +
            `&passwd=${params.passwd}` +
            `&time_stamp=${params.time_stamp}` +
            `&key=${key}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_6__(txtSource);
        return txtDecryption;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Deposit Status Sign
    ////////////////////////////////////////////////////////////////////////////////
    getDepositStatusResponseSign(paymentStatus, key) {
        const txtSource = `amount=${paymentStatus.amount}` +
            `&bank_mark=${paymentStatus.bank_mark}` +
            `&mch_id=${paymentStatus.mch_id}` +
            `&order_id=${paymentStatus.order_id}` +
            `&pay_status=${paymentStatus.pay_status}` +
            (paymentStatus.pay_time.length > 0
                ? `&pay_time=${paymentStatus.pay_time}`
                : '') +
            `&time_stamp=${paymentStatus.time_stamp}` +
            `&trade_no=${paymentStatus.trade_no}` +
            `&key=${key}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_6__(txtSource);
        return txtDecryption;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Withdraw Status Sign
    ////////////////////////////////////////////////////////////////////////////////
    getWithdrawStatusResponseSign(withdrawStatus, key) {
        const txtSource = `amount=${withdrawStatus.amount}` +
            `&bank=${withdrawStatus.bank}` +
            `&bank_account=${withdrawStatus.bank_account}` +
            `&bank_account_name=${withdrawStatus.bank_account_name}` +
            `&bank_site=${withdrawStatus.bank_site}` +
            `&mch_id=${withdrawStatus.mch_id}` +
            `&order_id=${withdrawStatus.order_id}` +
            `&pay_status=${withdrawStatus.pay_status}` +
            `&pay_time=${withdrawStatus.pay_time}` +
            `&time_stamp=${withdrawStatus.time_stamp}` +
            `&key=${key}`;
        const txtDecryption = md5__WEBPACK_IMPORTED_MODULE_6__(txtSource);
        return txtDecryption;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get OrderStatus By DepositStatus
    ////////////////////////////////////////////////////////////////////////////////
    getOrderStatusByDepositStatus(argDepositStatus) {
        let orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_8__["OrderStatusEnum"].NEW;
        const depositStatus = argDepositStatus;
        switch (depositStatus) {
            case _dto_xingchen_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_20__["XingChenDepositStatusEnum"].SUCCESS:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_8__["OrderStatusEnum"].SUCCESS;
                break;
            case _dto_xingchen_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_20__["XingChenDepositStatusEnum"].PENDING:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_8__["OrderStatusEnum"].PENDING;
                break;
            case _dto_xingchen_deposit_status_response_dto__WEBPACK_IMPORTED_MODULE_20__["XingChenDepositStatusEnum"].FAILED:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_8__["OrderStatusEnum"].FAILED;
                break;
        }
        return orderStatus;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get OrderStatus By WithdrawStatus
    ////////////////////////////////////////////////////////////////////////////////
    getOrderStatusByWithdrawStatus(argWithdrawStatus) {
        let orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_8__["OrderStatusEnum"].NEW;
        const withdrawStatus = argWithdrawStatus;
        switch (withdrawStatus) {
            case _dto_xingchen_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_23__["XingChenWithdrawStatusEnum"].SUCCESS:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_8__["OrderStatusEnum"].SUCCESS;
                break;
            case _dto_xingchen_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_23__["XingChenWithdrawStatusEnum"].PENDING:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_8__["OrderStatusEnum"].PENDING;
                break;
            case _dto_xingchen_withdraw_status_response_dto__WEBPACK_IMPORTED_MODULE_23__["XingChenWithdrawStatusEnum"].FAILED:
                orderStatus = _workspace_enums__WEBPACK_IMPORTED_MODULE_8__["OrderStatusEnum"].FAILED;
                break;
        }
        return orderStatus;
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Frozen Status By Channel DepositResult
    ////////////////////////////////////////////////////////////////////////////////
    getFrozenByChannelDepositResult(paymentProviderChannel, depositRequest, depositResult) {
        const errorCode = depositResult
            ? numeral__WEBPACK_IMPORTED_MODULE_5__(depositResult.errorCode).value()
            : null;
        if (errorCode === null) {
            return false;
        }
        const frozenCodes = this.configService.get('xingchen.DEPOSIT_FROZEN_CODE') || [];
        return (frozenCodes.filter((frozenCode) => frozenCode === errorCode).length > 0);
    }
    ////////////////////////////////////////////////////////////////////////////////
    /// Get Frozen Status By Channel WithdrawResult
    ////////////////////////////////////////////////////////////////////////////////
    getFrozenByChannelWithdrawResult(withdrawResult) {
        const errorCode = withdrawResult
            ? numeral__WEBPACK_IMPORTED_MODULE_5__(withdrawResult.errorCode).value()
            : null;
        if (errorCode === null) {
            return false;
        }
        const frozenCodes = this.configService.get('xingchen.WITHDRAW_FROZEN_CODE') || [];
        return (frozenCodes.filter((frozenCode) => frozenCode === errorCode).length > 0);
    }
};
XingChenPaymentProviderService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"]) === "function" ? _a : Object, typeof (_b = typeof _channel_channel_service__WEBPACK_IMPORTED_MODULE_9__["ChannelService"] !== "undefined" && _channel_channel_service__WEBPACK_IMPORTED_MODULE_9__["ChannelService"]) === "function" ? _b : Object, typeof (_c = typeof _bank_bank_service__WEBPACK_IMPORTED_MODULE_25__["BankService"] !== "undefined" && _bank_bank_service__WEBPACK_IMPORTED_MODULE_25__["BankService"]) === "function" ? _c : Object, typeof (_d = typeof _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_11__["DepositPendingOrderService"] !== "undefined" && _order_deposit_pending_order_deposit_pending_order_service__WEBPACK_IMPORTED_MODULE_11__["DepositPendingOrderService"]) === "function" ? _d : Object, typeof (_e = typeof _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_10__["DepositOrderService"] !== "undefined" && _order_deposit_order_deposit_order_service__WEBPACK_IMPORTED_MODULE_10__["DepositOrderService"]) === "function" ? _e : Object, typeof (_f = typeof _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_13__["WithdrawPendingOrderService"] !== "undefined" && _order_withdraw_pending_order_withdraw_pending_order_service__WEBPACK_IMPORTED_MODULE_13__["WithdrawPendingOrderService"]) === "function" ? _f : Object, typeof (_g = typeof _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_12__["WithdrawOrderService"] !== "undefined" && _order_withdraw_order_withdraw_order_service__WEBPACK_IMPORTED_MODULE_12__["WithdrawOrderService"]) === "function" ? _g : Object, typeof (_h = typeof _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_16__["PaymentProviderChannelService"] !== "undefined" && _payment_provider_channel_payment_provider_channel_service__WEBPACK_IMPORTED_MODULE_16__["PaymentProviderChannelService"]) === "function" ? _h : Object, typeof (_j = typeof _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_15__["PaymentProviderBankService"] !== "undefined" && _payment_provider_bank_payment_provider_bank_service__WEBPACK_IMPORTED_MODULE_15__["PaymentProviderBankService"]) === "function" ? _j : Object, typeof (_k = typeof _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_29__["PaymentProviderUsdtProtoService"] !== "undefined" && _payment_provider_usdt_protocol_payment_provider_usdt_proto_service__WEBPACK_IMPORTED_MODULE_29__["PaymentProviderUsdtProtoService"]) === "function" ? _k : Object, typeof (_l = typeof _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_26__["PaymentProviderCardService"] !== "undefined" && _payment_provider_card_payment_provider_card_service__WEBPACK_IMPORTED_MODULE_26__["PaymentProviderCardService"]) === "function" ? _l : Object, typeof (_m = typeof _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_27__["PaymentProviderEntityService"] !== "undefined" && _payment_provider_entity_Payment_provider_entity_service__WEBPACK_IMPORTED_MODULE_27__["PaymentProviderEntityService"]) === "function" ? _m : Object, typeof (_o = typeof _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_28__["PaymentProviderSharedService"] !== "undefined" && _payment_provider_shared_payment_provider_shared_service__WEBPACK_IMPORTED_MODULE_28__["PaymentProviderSharedService"]) === "function" ? _o : Object, typeof (_p = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_7__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_7__["Sequelize"]) === "function" ? _p : Object, typeof (_q = typeof _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_24__["BetConstructService"] !== "undefined" && _betContruct_betConstruct_service__WEBPACK_IMPORTED_MODULE_24__["BetConstructService"]) === "function" ? _q : Object, typeof (_r = typeof _options_options_service__WEBPACK_IMPORTED_MODULE_30__["OptionsService"] !== "undefined" && _options_options_service__WEBPACK_IMPORTED_MODULE_30__["OptionsService"]) === "function" ? _r : Object, typeof (_s = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpService"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpService"]) === "function" ? _s : Object])
], XingChenPaymentProviderService);



/***/ }),

/***/ "./apps/backend/src/app/payment/usdtProtocol/dto/usdt.proto.get.request.dto.ts":
/*!*************************************************************************************!*\
  !*** ./apps/backend/src/app/payment/usdtProtocol/dto/usdt.proto.get.request.dto.ts ***!
  \*************************************************************************************/
/*! exports provided: UsdtProtoGetRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UsdtProtoGetRequestDto", function() { return UsdtProtoGetRequestDto; });
class UsdtProtoGetRequestDto {
}


/***/ }),

/***/ "./apps/backend/src/app/payment/usdtProtocol/usdt.proto.controller.ts":
/*!****************************************************************************!*\
  !*** ./apps/backend/src/app/payment/usdtProtocol/usdt.proto.controller.ts ***!
  \****************************************************************************/
/*! exports provided: UsdtProtoController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UsdtProtoController", function() { return UsdtProtoController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _dto_usdt_proto_get_request_dto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dto/usdt.proto.get.request.dto */ "./apps/backend/src/app/payment/usdtProtocol/dto/usdt.proto.get.request.dto.ts");
/* harmony import */ var _usdt_proto_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./usdt.proto.service */ "./apps/backend/src/app/payment/usdtProtocol/usdt.proto.service.ts");
var _a, _b;






let UsdtProtoController = class UsdtProtoController {
    constructor(usdtProtoService) {
        this.usdtProtoService = usdtProtoService;
    }
    // @UseGuards(JwtAuthGuard)
    // @ApiBearerAuth()
    gets(query) {
        return this.usdtProtoService.findAllByQuery(query);
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Get"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].getUsdtProtos),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Query"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _dto_usdt_proto_get_request_dto__WEBPACK_IMPORTED_MODULE_4__["UsdtProtoGetRequestDto"] !== "undefined" && _dto_usdt_proto_get_request_dto__WEBPACK_IMPORTED_MODULE_4__["UsdtProtoGetRequestDto"]) === "function" ? _a : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", void 0)
], UsdtProtoController.prototype, "gets", null);
UsdtProtoController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].usdtProto),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].paymentEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_b = typeof _usdt_proto_service__WEBPACK_IMPORTED_MODULE_5__["UsdtProtoService"] !== "undefined" && _usdt_proto_service__WEBPACK_IMPORTED_MODULE_5__["UsdtProtoService"]) === "function" ? _b : Object])
], UsdtProtoController);



/***/ }),

/***/ "./apps/backend/src/app/payment/usdtProtocol/usdt.proto.module.ts":
/*!************************************************************************!*\
  !*** ./apps/backend/src/app/payment/usdtProtocol/usdt.proto.module.ts ***!
  \************************************************************************/
/*! exports provided: UsdtProtoModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UsdtProtoModule", function() { return UsdtProtoModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_usdtProtocol__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../models/usdtProtocol */ "./apps/backend/src/app/models/usdtProtocol.ts");
/* harmony import */ var _usdt_proto_controller__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./usdt.proto.controller */ "./apps/backend/src/app/payment/usdtProtocol/usdt.proto.controller.ts");
/* harmony import */ var _usdt_proto_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./usdt.proto.service */ "./apps/backend/src/app/payment/usdtProtocol/usdt.proto.service.ts");






let UsdtProtoModule = class UsdtProtoModule {
};
UsdtProtoModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["SequelizeModule"].forFeature([_models_usdtProtocol__WEBPACK_IMPORTED_MODULE_3__["UsdtProtocolModel"]])],
        providers: [_usdt_proto_service__WEBPACK_IMPORTED_MODULE_5__["UsdtProtoService"]],
        controllers: [_usdt_proto_controller__WEBPACK_IMPORTED_MODULE_4__["UsdtProtoController"]],
        exports: [_usdt_proto_service__WEBPACK_IMPORTED_MODULE_5__["UsdtProtoService"]],
    })
], UsdtProtoModule);



/***/ }),

/***/ "./apps/backend/src/app/payment/usdtProtocol/usdt.proto.service.ts":
/*!*************************************************************************!*\
  !*** ./apps/backend/src/app/payment/usdtProtocol/usdt.proto.service.ts ***!
  \*************************************************************************/
/*! exports provided: UsdtProtoService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UsdtProtoService", function() { return UsdtProtoService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sequelize */ "sequelize");
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(sequelize__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _models_usdtProtocol__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../models/usdtProtocol */ "./apps/backend/src/app/models/usdtProtocol.ts");
/* harmony import */ var _dto_depositable_usdtproto__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../dto/depositable.usdtproto */ "./apps/backend/src/app/payment/dto/depositable.usdtproto.ts");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! moment-timezone */ "moment-timezone");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! numeral */ "numeral");
/* harmony import */ var numeral__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(numeral__WEBPACK_IMPORTED_MODULE_9__);
var _a, _b;










let UsdtProtoService = class UsdtProtoService {
    constructor(configService, sequelize, usdtProtoRepository) {
        this.configService = configService;
        this.sequelize = sequelize;
        this.usdtProtoRepository = usdtProtoRepository;
    }
    findOne(options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.usdtProtoRepository.findOne(options);
        });
    }
    findAll(options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.usdtProtoRepository.findAll(options);
        });
    }
    findById(usdtId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.usdtProtoRepository.findByPk(usdtId);
        });
    }
    findAllByQuery(query) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const findOptions = {
                include: [],
                order: [['id', 'asc']],
            }, where = {};
            findOptions.where = where;
            return this.usdtProtoRepository.findAll(findOptions);
        });
    }
    getDepositables(frozenRestrict) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const depositableUsdtProtos = [];
            let sqlFrozenFlexible = ``;
            if (!frozenRestrict) {
                const frozenPeriod = this.configService.get('FROZEN_PERIOD');
                const frozenPeriodBegin = moment_timezone__WEBPACK_IMPORTED_MODULE_8__()
                    .subtract(frozenPeriod, 'minutes')
                    .format();
                const frozenPeriodEnd = moment_timezone__WEBPACK_IMPORTED_MODULE_8__().add(frozenPeriod, 'minutes').format();
                sqlFrozenFlexible = `and ( not "ppc"."isFrozen" or "ppc"."frozenCheckedDate" not between '${frozenPeriodBegin}' and '${frozenPeriodEnd}' )`;
            }
            else {
                sqlFrozenFlexible = `and not "ppc"."isFrozen"`;
            }
            const sqlIsAvailable = `"pp"."isDepositSupport" and "ppc"."isActive" and "ppc"."isAvailable" ${sqlFrozenFlexible}`;
            const sql = `
      select 
          up.id, up."usdtProtoName" ,
          bool_or(${sqlIsAvailable}) "isAvailable",
          min(case when (${sqlIsAvailable}) then "ppc"."providerMinAmount" end) "minAmount",
          max(case when (${sqlIsAvailable}) then "ppc"."providerMaxAmount" end) "maxAmount"
        from "usdtProtocol" up 
        left join "paymentProviderUsdtProtocol" ppup on up.id  = ppup."usdtProtoId" and ppup."depositOrWithdrawable"=1
        left join "paymentProviders" pp on ppup."paymentProviderId" = pp.id 
        left join channel c on c."fromPaymentSystemId" = 5 and c."depositOrWithdrawable" = 1
        left join "paymentProviderChannel" ppc on ppup."paymentProviderId" = ppc."paymentProviderId" and c.id = ppc."channelId" 
        group by up."id"
	  `;
            const items = yield this.sequelize.query(sql, {
                type: sequelize__WEBPACK_IMPORTED_MODULE_4__["QueryTypes"].SELECT,
            });
            for (let i = 0; i < items.length; i++) {
                const item = items[i];
                const depositableUsdtProto = new _dto_depositable_usdtproto__WEBPACK_IMPORTED_MODULE_7__["DepositableUsdtProto"]();
                depositableUsdtProto.id = item.id;
                depositableUsdtProto.usdtProtoName = item.usdtProtoName;
                depositableUsdtProto.isAvailable = item.isAvailable;
                depositableUsdtProto.minAmount = numeral__WEBPACK_IMPORTED_MODULE_9__(item.minAmount).value();
                depositableUsdtProto.maxAmount = numeral__WEBPACK_IMPORTED_MODULE_9__(item.maxAmount).value();
                depositableUsdtProtos.push(depositableUsdtProto);
            }
            return depositableUsdtProtos;
        });
    }
};
UsdtProtoService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(2, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_3__["InjectModel"])(_models_usdtProtocol__WEBPACK_IMPORTED_MODULE_6__["UsdtProtocolModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"]) === "function" ? _a : Object, typeof (_b = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_5__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_5__["Sequelize"]) === "function" ? _b : Object, Object])
], UsdtProtoService);



/***/ }),

/***/ "./apps/backend/src/app/runner/cms-queue/cms-queue.module.ts":
/*!*******************************************************************!*\
  !*** ./apps/backend/src/app/runner/cms-queue/cms-queue.module.ts ***!
  \*******************************************************************/
/*! exports provided: CmsQueueModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CmsQueueModule", function() { return CmsQueueModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);


let CmsQueueModule = class CmsQueueModule {
};
CmsQueueModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
    // imports: [
    //   ConfigModule.forRoot({
    //     load: [configuration],
    //   }),
    //   BullModule.registerQueue({
    //     name: 'streaming-matching',
    //   }),
    //   KSportModule,
    //   BetConstructModule,
    // ],
    // providers: [
    //   StreamingMatchProducerService,
    //   StreamingMatchConsumerService,
    //   StreamingMatchBcRequests,
    // ],
    })
], CmsQueueModule);



/***/ }),

/***/ "./apps/backend/src/app/runner/runner.module.ts":
/*!******************************************************!*\
  !*** ./apps/backend/src/app/runner/runner.module.ts ***!
  \******************************************************/
/*! exports provided: RunnerModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RunnerModule", function() { return RunnerModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _cms_queue_cms_queue_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cms-queue/cms-queue.module */ "./apps/backend/src/app/runner/cms-queue/cms-queue.module.ts");



let RunnerModule = class RunnerModule {
};
RunnerModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [_cms_queue_cms_queue_module__WEBPACK_IMPORTED_MODULE_2__["CmsQueueModule"]],
    })
], RunnerModule);



/***/ }),

/***/ "./apps/backend/src/app/shared/dto/Search.dto.ts":
/*!*******************************************************!*\
  !*** ./apps/backend/src/app/shared/dto/Search.dto.ts ***!
  \*******************************************************/
/*! exports provided: SortItem, FilterItem, SearchDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SortItem", function() { return SortItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FilterItem", function() { return FilterItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SearchDto", function() { return SearchDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _enums_SortDirectionEnum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../enums/SortDirectionEnum */ "./apps/backend/src/app/shared/enums/SortDirectionEnum.ts");





class SortItem {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], SortItem.prototype, "property", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        enum: _enums_SortDirectionEnum__WEBPACK_IMPORTED_MODULE_4__["SortDirectionEnum"],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsEnum"])(_enums_SortDirectionEnum__WEBPACK_IMPORTED_MODULE_4__["SortDirectionEnum"]),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], SortItem.prototype, "direction", void 0);
class FilterItem {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], FilterItem.prototype, "key", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Object)
], FilterItem.prototype, "value", void 0);
class SearchDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({}),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsInt"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], SearchDto.prototype, "page", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({}),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsInt"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], SearchDto.prototype, "pageSize", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        type: [FilterItem],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["ValidateNested"])({ each: true }),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Type"])(() => FilterItem),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Array)
], SearchDto.prototype, "filters", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        type: [SortItem],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["ValidateNested"])({ each: true }),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Type"])(() => SortItem),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Array)
], SearchDto.prototype, "sorts", void 0);


/***/ }),

/***/ "./apps/backend/src/app/shared/enums/SortDirectionEnum.ts":
/*!****************************************************************!*\
  !*** ./apps/backend/src/app/shared/enums/SortDirectionEnum.ts ***!
  \****************************************************************/
/*! exports provided: SortDirectionEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SortDirectionEnum", function() { return SortDirectionEnum; });
var SortDirectionEnum;
(function (SortDirectionEnum) {
    SortDirectionEnum["ASC"] = "asc";
    SortDirectionEnum["DESC"] = "desc";
})(SortDirectionEnum || (SortDirectionEnum = {}));


/***/ }),

/***/ "./apps/backend/src/app/stream/configuration.ts":
/*!******************************************************!*\
  !*** ./apps/backend/src/app/stream/configuration.ts ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (() => ({
    ksport: {
        DIFFHOURSMAX: 8,
        stream: {
            validDurationBeforePlaying: 20,
            durationForRemoveLast: 2,
        },
    },
}));


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/create-bctoksport.dto.ts":
/*!*************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/create-bctoksport.dto.ts ***!
  \*************************************************************************/
/*! exports provided: CreateBCToKSportDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreateBCToKSportDto", function() { return CreateBCToKSportDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! moment-timezone */ "moment-timezone");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_4__);
var _a, _b, _c;





class CreateBCToKSportDto {
    static createRequestFactory(request) {
        const item = new CreateBCToKSportDto();
        item.id = `${request.bcEventId}-${request.kSportEventId}`;
        item.sportType = request.sport;
        item.bcEventId = request.bcEventId;
        item.kSportEventId = request.kSportEventId;
        item.matchScore = request.matchScore;
        item.correct = request.correct;
        item.streamState = request.streamState;
        item.bcEventTime = moment_timezone__WEBPACK_IMPORTED_MODULE_4__["tz"](request.bcEventTime, 'YYYY-MM-DD HH:mm', 'Asia/Shanghai')
            .toDate();
        item.kSportEventTime = moment_timezone__WEBPACK_IMPORTED_MODULE_4__["tz"](request.kSportEventTime, 'YYYY-MM-DD HH:mm', 'Asia/Shanghai')
            .toDate();
        item.bcTeamId1 = request.bcTeamId1;
        item.bcTeamId2 = request.bcTeamId2;
        item.kSportTeamId1 = request.kSportTeamId1;
        item.kSportTeamId2 = request.kSportTeamId2;
        item.bcTeamName1 = request.bcTeamName1;
        item.bcTeamName2 = request.bcTeamName2;
        item.kSportTeamName1 = request.bcTeamName1;
        item.kSportTeamName2 = request.bcTeamName2;
        item.kSportStreamId = request.kSportStreamId;
        const streamIdTokens = request.kSportStreamId.match(/^stream(cn)?(hd)?([0-9]+)$/i);
        item.isStreamCn =
            streamIdTokens &&
                streamIdTokens[1] &&
                streamIdTokens[1].toUpperCase() === 'CN'
                ? true
                : false;
        item.isStreamHd =
            streamIdTokens &&
                streamIdTokens[2] &&
                streamIdTokens[2].toUpperCase() === 'HD'
                ? true
                : false;
        item.isManual = false;
        return item;
    }
    static factory(sportType, bcItem, ksportItem, matchScore, correct) {
        const item = new CreateBCToKSportDto();
        item.id = `${bcItem.bcEventId}-${ksportItem.vid}`;
        item.sportType = sportType;
        item.bcEventId = bcItem.bcEventId;
        item.bcEventTime = moment_timezone__WEBPACK_IMPORTED_MODULE_4__["tz"](bcItem.bcEventTime, 'YYYY-MM-DD HH:mm', 'Asia/Shanghai')
            .toDate();
        item.bcTeamId1 = bcItem.bcTeamId1;
        item.bcTeamId2 = bcItem.bcTeamId2;
        item.bcTeamName1 = bcItem.bcTeamName1;
        item.bcTeamName2 = bcItem.bcTeamName2;
        item.kSportEventId = ksportItem.vid;
        item.kSportEventTime = moment_timezone__WEBPACK_IMPORTED_MODULE_4__["unix"](ksportItem.Matchtime)
            .utcOffset('+08:00')
            .toDate();
        item.kSportTeamId1 = ksportItem.Opp1ID;
        item.kSportTeamId2 = ksportItem.Opp2ID;
        item.kSportTeamName1 = ksportItem.Opp1;
        item.kSportTeamName2 = ksportItem.Opp2 === 'NULL' ? null : ksportItem.Opp2;
        item.kSportStreamId = ksportItem.StreamName;
        const streamIdTokens = item.kSportStreamId.match(/^stream(cn)?(hd)?([0-9]+)$/i);
        item.isStreamCn =
            streamIdTokens &&
                streamIdTokens[1] &&
                streamIdTokens[1].toUpperCase() === 'CN'
                ? true
                : false;
        item.isStreamHd =
            streamIdTokens &&
                streamIdTokens[2] &&
                streamIdTokens[2].toUpperCase() === 'HD'
                ? true
                : false;
        item.matchScore = matchScore;
        item.correct = correct;
        item.streamState = ksportItem.StreamInfo.state;
        item.isManual = false;
        return item;
    }
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBCToKSportDto.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"] !== "undefined" && _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"]) === "function" ? _a : Object)
], CreateBCToKSportDto.prototype, "sportType", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBCToKSportDto.prototype, "bcEventId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBCToKSportDto.prototype, "kSportEventId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], CreateBCToKSportDto.prototype, "matchScore", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], CreateBCToKSportDto.prototype, "correct", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], CreateBCToKSportDto.prototype, "isManual", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], CreateBCToKSportDto.prototype, "isKilled", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], CreateBCToKSportDto.prototype, "isStreamCn", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], CreateBCToKSportDto.prototype, "isStreamHd", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], CreateBCToKSportDto.prototype, "streamState", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_b = typeof Date !== "undefined" && Date) === "function" ? _b : Object)
], CreateBCToKSportDto.prototype, "bcEventTime", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBCToKSportDto.prototype, "bcTeamId1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBCToKSportDto.prototype, "bcTeamId2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBCToKSportDto.prototype, "bcTeamName1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBCToKSportDto.prototype, "bcTeamName2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_c = typeof Date !== "undefined" && Date) === "function" ? _c : Object)
], CreateBCToKSportDto.prototype, "kSportEventTime", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBCToKSportDto.prototype, "kSportTeamId1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBCToKSportDto.prototype, "kSportTeamId2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBCToKSportDto.prototype, "kSportTeamName1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBCToKSportDto.prototype, "kSportTeamName2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBCToKSportDto.prototype, "kSportStreamId", void 0);


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/create-bctoksportteam.dto.ts":
/*!*****************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/create-bctoksportteam.dto.ts ***!
  \*****************************************************************************/
/*! exports provided: CreateBCToKSportTeamDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreateBCToKSportTeamDto", function() { return CreateBCToKSportTeamDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);



class CreateBCToKSportTeamDto {
    static matchRequestFactory(matchRequest) {
        const item = new CreateBCToKSportTeamDto();
        item.betTeamId = matchRequest.betTeamId;
        item.betTeamName = matchRequest.betTeamName;
        item.KSportTeamId = matchRequest.KSportTeamId;
        item.KSportTeamName = matchRequest.KSportTeamName;
        return item;
    }
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBCToKSportTeamDto.prototype, "betTeamId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBCToKSportTeamDto.prototype, "betTeamName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBCToKSportTeamDto.prototype, "KSportTeamId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], CreateBCToKSportTeamDto.prototype, "KSportTeamName", void 0);


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.build.candidateevent.request.dto.ts":
/*!*******************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.build.candidateevent.request.dto.ts ***!
  \*******************************************************************************************/
/*! exports provided: BCItemDto, KSportBuildCandidateEventRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCItemDto", function() { return BCItemDto; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportBuildCandidateEventRequestDto", function() { return KSportBuildCandidateEventRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_4__);





class BCItemDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCItemDto.prototype, "bcEventId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCItemDto.prototype, "bcTeamId1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCItemDto.prototype, "bcTeamName1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCItemDto.prototype, "bcTeamId2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCItemDto.prototype, "bcTeamName2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["Matches"])(/^[0-9]{4}-[0-2][0-9]-[0-3][0-9] [0-2][0-9]:[0-5][0-9]$/i),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCItemDto.prototype, "bcEventTime", void 0);
class KSportBuildCandidateEventRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        enum: _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], KSportBuildCandidateEventRequestDto.prototype, "sport", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        type: [BCItemDto],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["ValidateNested"])({ each: true }),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Type"])(() => BCItemDto),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Array)
], KSportBuildCandidateEventRequestDto.prototype, "bcItems", void 0);


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.build.candidateevent.response.dto.ts":
/*!********************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.build.candidateevent.response.dto.ts ***!
  \********************************************************************************************/
/*! exports provided: KSportItemResponse, BcItemResponse, KSportBuildCandidateEventResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportItemResponse", function() { return KSportItemResponse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BcItemResponse", function() { return BcItemResponse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportBuildCandidateEventResponseDto", function() { return KSportBuildCandidateEventResponseDto; });
class KSportItemResponse {
}
class BcItemResponse {
}
class KSportBuildCandidateEventResponseDto {
}


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.build.streamstate.request.dto.ts":
/*!****************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.build.streamstate.request.dto.ts ***!
  \****************************************************************************************/
/*! exports provided: KSportBuildStreamStateRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportBuildStreamStateRequestDto", function() { return KSportBuildStreamStateRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);
var _a;




class KSportBuildStreamStateRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        enum: _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"] !== "undefined" && _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"]) === "function" ? _a : Object)
], KSportBuildStreamStateRequestDto.prototype, "sport", void 0);


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.build.streamstate.response.dto.ts":
/*!*****************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.build.streamstate.response.dto.ts ***!
  \*****************************************************************************************/
/*! exports provided: KSportBuildStreamStateResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportBuildStreamStateResponseDto", function() { return KSportBuildStreamStateResponseDto; });
class KSportBuildStreamStateResponseDto {
}


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.build.streamstate.some.request.dto.ts":
/*!*********************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.build.streamstate.some.request.dto.ts ***!
  \*********************************************************************************************/
/*! exports provided: KSportBuildStreamStateSomeRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportBuildStreamStateSomeRequestDto", function() { return KSportBuildStreamStateSomeRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);


class KSportBuildStreamStateSomeRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Array)
], KSportBuildStreamStateSomeRequestDto.prototype, "bcEventIDs", void 0);


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.build.streamstate.some.response.dto.ts":
/*!**********************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.build.streamstate.some.response.dto.ts ***!
  \**********************************************************************************************/
/*! exports provided: KSportBuildStreamStateSomeResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportBuildStreamStateSomeResponseDto", function() { return KSportBuildStreamStateSomeResponseDto; });
class KSportBuildStreamStateSomeResponseDto {
}


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.create.candidateevent.request.dto.ts":
/*!********************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.create.candidateevent.request.dto.ts ***!
  \********************************************************************************************/
/*! exports provided: BCToKSportCreateItem, KSportCreateCandidateEventRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCToKSportCreateItem", function() { return BCToKSportCreateItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportCreateCandidateEventRequestDto", function() { return KSportCreateCandidateEventRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_4__);
var _a;





class BCToKSportCreateItem {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        enum: _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"] !== "undefined" && _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"]) === "function" ? _a : Object)
], BCToKSportCreateItem.prototype, "sport", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportCreateItem.prototype, "bcEventId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportCreateItem.prototype, "kSportEventId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        default: false,
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], BCToKSportCreateItem.prototype, "correct", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])({
        default: false,
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], BCToKSportCreateItem.prototype, "isKilled", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])({
        default: false,
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], BCToKSportCreateItem.prototype, "streamState", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        default: 0,
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], BCToKSportCreateItem.prototype, "matchScore", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportCreateItem.prototype, "bcTeamId1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportCreateItem.prototype, "bcTeamName1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportCreateItem.prototype, "bcTeamId2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportCreateItem.prototype, "bcTeamName2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["Matches"])(/^[0-9]{4}-[0-2][0-9]-[0-3][0-9] [0-2][0-9]:[0-5][0-9]$/i),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportCreateItem.prototype, "bcEventTime", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportCreateItem.prototype, "kSportTeamId1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportCreateItem.prototype, "kSportTeamName1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportCreateItem.prototype, "kSportTeamId2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportCreateItem.prototype, "kSportTeamName2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["Matches"])(/^[0-9]{4}-[0-2][0-9]-[0-3][0-9] [0-2][0-9]:[0-5][0-9]$/i),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportCreateItem.prototype, "kSportEventTime", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportCreateItem.prototype, "kSportStreamId", void 0);
class KSportCreateCandidateEventRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        type: [BCToKSportCreateItem],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["ValidateNested"])({ each: true }),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Type"])(() => BCToKSportCreateItem),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Array)
], KSportCreateCandidateEventRequestDto.prototype, "candidateEvents", void 0);


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.create.candidateevent.response.dto.ts":
/*!*********************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.create.candidateevent.response.dto.ts ***!
  \*********************************************************************************************/
/*! exports provided: KSportCreateCandidateEventResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportCreateCandidateEventResponseDto", function() { return KSportCreateCandidateEventResponseDto; });
class KSportCreateCandidateEventResponseDto {
}


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.delete.candidateevent.bytime.request.dto.ts":
/*!***************************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.delete.candidateevent.bytime.request.dto.ts ***!
  \***************************************************************************************************/
/*! exports provided: KSportDeleteCandidateEventByTimeRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportDeleteCandidateEventByTimeRequestDto", function() { return KSportDeleteCandidateEventByTimeRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);



class KSportDeleteCandidateEventByTimeRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["Matches"])(/^[0-9]{4}-[0-2][0-9]-[0-3][0-9] [0-2][0-9]:[0-5][0-9]:[0-5][0-9]$/i),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], KSportDeleteCandidateEventByTimeRequestDto.prototype, "untilTime", void 0);


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.delete.candidateevent.bytime.response.dto.ts":
/*!****************************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.delete.candidateevent.bytime.response.dto.ts ***!
  \****************************************************************************************************/
/*! exports provided: KSportDeleteCandidateEventByTimeResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportDeleteCandidateEventByTimeResponseDto", function() { return KSportDeleteCandidateEventByTimeResponseDto; });
class KSportDeleteCandidateEventByTimeResponseDto {
}


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.delete.candidateevent.request.dto.ts":
/*!********************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.delete.candidateevent.request.dto.ts ***!
  \********************************************************************************************/
/*! exports provided: BCToKSportDeleteItemDto, KSportDeleteCandidateEventRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCToKSportDeleteItemDto", function() { return BCToKSportDeleteItemDto; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportDeleteCandidateEventRequestDto", function() { return KSportDeleteCandidateEventRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);




class BCToKSportDeleteItemDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportDeleteItemDto.prototype, "bcEventId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportDeleteItemDto.prototype, "kSportEventId", void 0);
class KSportDeleteCandidateEventRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        type: [BCToKSportDeleteItemDto],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["ValidateNested"])({ each: true }),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Type"])(() => BCToKSportDeleteItemDto),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Array)
], KSportDeleteCandidateEventRequestDto.prototype, "candidateEvents", void 0);


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.delete.candidateevent.response.dto.ts":
/*!*********************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.delete.candidateevent.response.dto.ts ***!
  \*********************************************************************************************/
/*! exports provided: KSportDeleteCandidateEventResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportDeleteCandidateEventResponseDto", function() { return KSportDeleteCandidateEventResponseDto; });
class KSportDeleteCandidateEventResponseDto {
}


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.fetchupdate.request.dto.ts":
/*!**********************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.fetchupdate.request.dto.ts ***!
  \**********************************************************************************/
/*! exports provided: KSportFetchUpdateRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportFetchUpdateRequestDto", function() { return KSportFetchUpdateRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);



class KSportFetchUpdateRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        default: true,
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], KSportFetchUpdateRequestDto.prototype, "force", void 0);


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.find.candidateteam.request.dto.ts":
/*!*****************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.find.candidateteam.request.dto.ts ***!
  \*****************************************************************************************/
/*! exports provided: KSportFindCandidateTeamRequest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportFindCandidateTeamRequest", function() { return KSportFindCandidateTeamRequest; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
var _a;




class KSportFindCandidateTeamRequest {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["SportsEnum"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["SportsEnum"] !== "undefined" && _workspace_enums__WEBPACK_IMPORTED_MODULE_3__["SportsEnum"]) === "function" ? _a : Object)
], KSportFindCandidateTeamRequest.prototype, "sport", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], KSportFindCandidateTeamRequest.prototype, "team", void 0);


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.find.candidateteam.response.dto.ts":
/*!******************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.find.candidateteam.response.dto.ts ***!
  \******************************************************************************************/
/*! exports provided: KSportCandidate, KSportFindCandidateTeamResponse */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportCandidate", function() { return KSportCandidate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportFindCandidateTeamResponse", function() { return KSportFindCandidateTeamResponse; });
class KSportCandidate {
}
class KSportFindCandidateTeamResponse {
}


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.findall.candidateevent.request.dto.ts":
/*!*********************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.findall.candidateevent.request.dto.ts ***!
  \*********************************************************************************************/
/*! exports provided: KSportFindAllCandidateEventRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportFindAllCandidateEventRequestDto", function() { return KSportFindAllCandidateEventRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_4__);
var _a;





class KSportFindAllCandidateEventRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])({
        type: 'number',
        default: 10,
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsInt"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Transform"])((params) => Number(params.value)),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], KSportFindAllCandidateEventRequestDto.prototype, "pageSize", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])({
        type: 'number',
        default: 1,
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsInt"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Transform"])((params) => Number(params.value)),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], KSportFindAllCandidateEventRequestDto.prototype, "page", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])({
        enum: _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"] !== "undefined" && _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"]) === "function" ? _a : Object)
], KSportFindAllCandidateEventRequestDto.prototype, "sport", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])({
        type: 'string',
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], KSportFindAllCandidateEventRequestDto.prototype, "bcEventId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])({
        type: 'string',
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], KSportFindAllCandidateEventRequestDto.prototype, "kSportEventId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])({
        type: 'string',
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], KSportFindAllCandidateEventRequestDto.prototype, "bcTeamNameLike", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])({
        type: 'boolean',
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsBoolean"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Transform"])((params) => /true/i.test(params.value)),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], KSportFindAllCandidateEventRequestDto.prototype, "correct", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])({
        type: 'number',
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNumber"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Transform"])((params) => Number(params.value)),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], KSportFindAllCandidateEventRequestDto.prototype, "lessThanMatchScore", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])({
        type: 'number',
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNumber"])(),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Transform"])((value) => Number(value)),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], KSportFindAllCandidateEventRequestDto.prototype, "greaterThanMatchScore", void 0);


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.findall.candidateevent.response.dto.ts":
/*!**********************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.findall.candidateevent.response.dto.ts ***!
  \**********************************************************************************************/
/*! exports provided: KSportFindAllCandidateEventResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportFindAllCandidateEventResponseDto", function() { return KSportFindAllCandidateEventResponseDto; });
class KSportFindAllCandidateEventResponseDto {
}


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.get.streamstate.some.request.dto.ts":
/*!*******************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.get.streamstate.some.request.dto.ts ***!
  \*******************************************************************************************/
/*! exports provided: KSportGetStreamStateSomeRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportGetStreamStateSomeRequestDto", function() { return KSportGetStreamStateSomeRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);


class KSportGetStreamStateSomeRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Array)
], KSportGetStreamStateSomeRequestDto.prototype, "bcEventIDs", void 0);


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.get.streamstate.some.response.dto.ts":
/*!********************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.get.streamstate.some.response.dto.ts ***!
  \********************************************************************************************/
/*! exports provided: KSportGetStreamStateSomeResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportGetStreamStateSomeResponseDto", function() { return KSportGetStreamStateSomeResponseDto; });
class KSportGetStreamStateSomeResponseDto {
}


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.match.request.dto.ts":
/*!****************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.match.request.dto.ts ***!
  \****************************************************************************/
/*! exports provided: KSportMatchRequest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportMatchRequest", function() { return KSportMatchRequest; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);



class KSportMatchRequest {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], KSportMatchRequest.prototype, "betTeamName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], KSportMatchRequest.prototype, "betTeamId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], KSportMatchRequest.prototype, "KSportTeamName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], KSportMatchRequest.prototype, "KSportTeamId", void 0);


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.match.response.dto.ts":
/*!*****************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.match.response.dto.ts ***!
  \*****************************************************************************/
/*! exports provided: KSportMatchResponse */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportMatchResponse", function() { return KSportMatchResponse; });
class KSportMatchResponse {
}


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.request.dto.ts":
/*!**********************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.request.dto.ts ***!
  \**********************************************************************/
/*! exports provided: KSportRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportRequestDto", function() { return KSportRequestDto; });
class KSportRequestDto {
    static sportFactory() {
        const ksportRequest = new KSportRequestDto();
        //ksportRequest.id = SportsEnum[sport];
        ksportRequest.lng = 'en';
        ksportRequest.type = 'json';
        return ksportRequest;
    }
    static streamFindActiveRequestFactory(streamFindActiveRequest, key) {
        const ksportRequest = new KSportRequestDto();
        ksportRequest.id = `${streamFindActiveRequest.sport}`;
        ksportRequest.key = key;
        ksportRequest.lng = 'en';
        ksportRequest.type = 'json';
        return ksportRequest;
    }
    static ksportCandidateRequestFactory(candidateRequest, key) {
        const ksportRequest = new KSportRequestDto();
        ksportRequest.id = `${candidateRequest.sport}`;
        ksportRequest.key = key;
        ksportRequest.lng = 'en';
        ksportRequest.type = 'json';
        return ksportRequest;
    }
}


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.set.candidateevent.correct.request.dto.ts":
/*!*************************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.set.candidateevent.correct.request.dto.ts ***!
  \*************************************************************************************************/
/*! exports provided: BCToKSportSetCorrectItem, KSportSetCandidateEventCorrectRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCToKSportSetCorrectItem", function() { return BCToKSportSetCorrectItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportSetCandidateEventCorrectRequestDto", function() { return KSportSetCandidateEventCorrectRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);




class BCToKSportSetCorrectItem {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportSetCorrectItem.prototype, "bcEventId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportSetCorrectItem.prototype, "kSportEventId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], BCToKSportSetCorrectItem.prototype, "correct", void 0);
class KSportSetCandidateEventCorrectRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        type: [BCToKSportSetCorrectItem],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["ValidateNested"])({ each: true }),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_2__["Type"])(() => BCToKSportSetCorrectItem),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Array)
], KSportSetCandidateEventCorrectRequestDto.prototype, "candidateEvents", void 0);


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.set.candidateevent.correct.response.dto.ts":
/*!**************************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.set.candidateevent.correct.response.dto.ts ***!
  \**************************************************************************************************/
/*! exports provided: KSportSetCandidateEventCorrectResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportSetCandidateEventCorrectResponseDto", function() { return KSportSetCandidateEventCorrectResponseDto; });
class KSportSetCandidateEventCorrectResponseDto {
}


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.update.candidateevent.request.dto.ts":
/*!********************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.update.candidateevent.request.dto.ts ***!
  \********************************************************************************************/
/*! exports provided: BCToKSportUpdateItem, KSportUpdateCandidateEventRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCToKSportUpdateItem", function() { return BCToKSportUpdateItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportUpdateCandidateEventRequestDto", function() { return KSportUpdateCandidateEventRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-transformer */ "class-transformer");
/* harmony import */ var class_transformer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_transformer__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_4__);
var _a;





class BCToKSportUpdateItem {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])({
        enum: _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"] !== "undefined" && _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"]) === "function" ? _a : Object)
], BCToKSportUpdateItem.prototype, "sport", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportUpdateItem.prototype, "bcEventId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportUpdateItem.prototype, "kSportEventId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], BCToKSportUpdateItem.prototype, "correct", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], BCToKSportUpdateItem.prototype, "isKilled", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsBoolean"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], BCToKSportUpdateItem.prototype, "streamState", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsNumber"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], BCToKSportUpdateItem.prototype, "matchScore", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportUpdateItem.prototype, "bcTeamId1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportUpdateItem.prototype, "bcTeamName1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportUpdateItem.prototype, "bcTeamId2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportUpdateItem.prototype, "bcTeamName2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["Matches"])(/^[0-9]{4}-[0-2][0-9]-[0-3][0-9] [0-2][0-9]:[0-5][0-9]$/i),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportUpdateItem.prototype, "bcEventTime", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportUpdateItem.prototype, "kSportTeamId1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportUpdateItem.prototype, "kSportTeamName1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportUpdateItem.prototype, "kSportTeamId2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportUpdateItem.prototype, "kSportTeamName2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["Matches"])(/^[0-9]{4}-[0-2][0-9]-[0-3][0-9] [0-2][0-9]:[0-5][0-9]$/i),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportUpdateItem.prototype, "kSportEventTime", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportUpdateItem.prototype, "kSportStreamId", void 0);
class KSportUpdateCandidateEventRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        type: [BCToKSportUpdateItem],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_4__["ValidateNested"])({ each: true }),
    Object(class_transformer__WEBPACK_IMPORTED_MODULE_3__["Type"])(() => BCToKSportUpdateItem),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Array)
], KSportUpdateCandidateEventRequestDto.prototype, "candidateEvents", void 0);


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/ksport.update.candidateevent.response.dto.ts":
/*!*********************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/ksport.update.candidateevent.response.dto.ts ***!
  \*********************************************************************************************/
/*! exports provided: KSportUpdateCandidateEventResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportUpdateCandidateEventResponseDto", function() { return KSportUpdateCandidateEventResponseDto; });
class KSportUpdateCandidateEventResponseDto {
}


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/update-bctokposrtteam.dto.ts":
/*!*****************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/update-bctokposrtteam.dto.ts ***!
  \*****************************************************************************/
/*! exports provided: UpdateBCToKSportTeamDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateBCToKSportTeamDto", function() { return UpdateBCToKSportTeamDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);



class UpdateBCToKSportTeamDto {
    static matchRequestFactory(item, matchRequest) {
        item.kSportTeamId = matchRequest.betTeamId;
        item.bcTeamName = matchRequest.betTeamName;
        item.kSportTeamId = matchRequest.KSportTeamId;
        item.kSportTeamName = matchRequest.KSportTeamName;
        return item;
    }
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdateBCToKSportTeamDto.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdateBCToKSportTeamDto.prototype, "betTeamId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdateBCToKSportTeamDto.prototype, "betTeamName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdateBCToKSportTeamDto.prototype, "KSportTeamId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdateBCToKSportTeamDto.prototype, "KSportTeamName", void 0);


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/dto/update-bctoksport.dto.ts":
/*!*************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/dto/update-bctoksport.dto.ts ***!
  \*************************************************************************/
/*! exports provided: UpdateBCToKSportDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateBCToKSportDto", function() { return UpdateBCToKSportDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! moment-timezone */ "moment-timezone");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_4__);
var _a;





class UpdateBCToKSportDto {
    static createRequestFactory(item, request) {
        if (request.sport !== undefined) {
            item.sportType = request.sport;
        }
        if (request.matchScore !== undefined) {
            item.matchScore = request.matchScore;
        }
        if (request.correct !== undefined) {
            item.correct = request.correct;
        }
        if (request.isKilled !== undefined) {
            item.isKilled = request.isKilled;
        }
        if (request.streamState !== undefined) {
            item.streamState = request.streamState;
        }
        if (request.bcEventTime !== undefined) {
            item.bcEventTime = moment_timezone__WEBPACK_IMPORTED_MODULE_4__["tz"](request.bcEventTime, 'YYYY-MM-DD HH:mm', 'Asia/Shanghai')
                .toDate();
        }
        if (request.bcTeamId1 !== undefined) {
            item.bcTeamId1 = request.bcTeamId1;
        }
        if (request.bcTeamName1 !== undefined) {
            item.bcTeamName1 = request.bcTeamName1;
        }
        if (request.bcTeamId2 !== undefined) {
            item.bcTeamId2 = request.bcTeamId2;
        }
        if (request.bcTeamName2 !== undefined) {
            item.bcTeamName2 = request.bcTeamName2;
        }
        if (request.kSportEventTime !== undefined) {
            item.kSportEventTime = moment_timezone__WEBPACK_IMPORTED_MODULE_4__["tz"](request.kSportEventTime, 'YYYY-MM-DD HH:mm', 'Asia/Shanghai')
                .toDate();
        }
        if (request.kSportTeamId1 !== undefined) {
            item.kSportTeamId1 = request.kSportTeamId1;
        }
        if (request.kSportTeamName1 !== undefined) {
            item.kSportTeamName1 = request.kSportTeamName1;
        }
        if (request.kSportTeamId2 !== undefined) {
            item.kSportTeamId2 = request.kSportTeamId2;
        }
        if (request.kSportTeamName2 !== undefined) {
            item.kSportTeamName2 = request.kSportTeamName2;
        }
        if (request.kSportStreamId !== undefined) {
            item.kSportStreamId = request.kSportStreamId;
            const streamIdTokens = request.kSportStreamId.match(/^stream(cn)?(hd)?([0-9]+)$/i);
            item.isStreamCn =
                streamIdTokens &&
                    streamIdTokens[1] &&
                    streamIdTokens[1].toUpperCase() === 'CN'
                    ? true
                    : false;
            item.isStreamHd =
                streamIdTokens &&
                    streamIdTokens[2] &&
                    streamIdTokens[2].toUpperCase() === 'HD'
                    ? true
                    : false;
        }
        return item;
    }
    static updateRequestFactory(item, request) {
        if (request.sport !== undefined) {
            item.sportType = request.sport;
        }
        if (request.matchScore !== undefined) {
            item.matchScore = request.matchScore;
        }
        if (request.correct !== undefined) {
            item.correct = request.correct;
        }
        if (request.isKilled !== undefined) {
            item.isKilled = request.isKilled;
        }
        if (request.streamState !== undefined) {
            item.streamState = request.streamState;
        }
        if (request.bcEventTime !== undefined) {
            item.bcEventTime = moment_timezone__WEBPACK_IMPORTED_MODULE_4__["tz"](request.bcEventTime, 'YYYY-MM-DD HH:mm', 'Asia/Shanghai')
                .toDate();
        }
        if (request.bcTeamId1 !== undefined) {
            item.bcTeamId1 = request.bcTeamId1;
        }
        if (request.bcTeamName1 !== undefined) {
            item.bcTeamName1 = request.bcTeamName1;
        }
        if (request.bcTeamId2 !== undefined) {
            item.bcTeamId2 = request.bcTeamId2;
        }
        if (request.bcTeamName2 !== undefined) {
            item.bcTeamName2 = request.bcTeamName2;
        }
        if (request.kSportEventTime !== undefined) {
            item.kSportEventTime = moment_timezone__WEBPACK_IMPORTED_MODULE_4__["tz"](request.kSportEventTime, 'YYYY-MM-DD HH:mm', 'Asia/Shanghai')
                .toDate();
        }
        if (request.kSportTeamId1 !== undefined) {
            item.kSportTeamId1 = request.kSportTeamId1;
        }
        if (request.kSportTeamName1 !== undefined) {
            item.kSportTeamName1 = request.kSportTeamName1;
        }
        if (request.kSportTeamId2 !== undefined) {
            item.kSportTeamId2 = request.kSportTeamId2;
        }
        if (request.kSportTeamName2 !== undefined) {
            item.kSportTeamName2 = request.kSportTeamName2;
        }
        if (request.kSportStreamId !== undefined) {
            item.kSportStreamId = request.kSportStreamId;
            const streamIdTokens = request.kSportStreamId.match(/^stream(cn)?(hd)?([0-9]+)$/i);
            item.isStreamCn =
                streamIdTokens &&
                    streamIdTokens[1] &&
                    streamIdTokens[1].toUpperCase() === 'CN'
                    ? true
                    : false;
            item.isStreamHd =
                streamIdTokens &&
                    streamIdTokens[2] &&
                    streamIdTokens[2].toUpperCase() === 'HD'
                    ? true
                    : false;
        }
        return item;
    }
    static factory(item, sportType, bcItem, ksportItem, matchScore, correct) {
        item.sportType = sportType;
        item.bcEventTime = moment_timezone__WEBPACK_IMPORTED_MODULE_4__["tz"](bcItem.bcEventTime, 'YYYY-MM-DD HH:mm', 'Asia/Shanghai')
            .toDate();
        item.bcTeamId1 = bcItem.bcTeamId1;
        item.bcTeamId2 = bcItem.bcTeamId2;
        item.bcTeamName1 = bcItem.bcTeamName1;
        item.bcTeamName2 = bcItem.bcTeamName2;
        item.kSportEventTime = moment_timezone__WEBPACK_IMPORTED_MODULE_4__["unix"](ksportItem.Matchtime)
            .utcOffset('+08:00')
            .toDate();
        item.kSportTeamId1 = ksportItem.Opp1ID;
        item.kSportTeamId2 = ksportItem.Opp2ID;
        item.kSportTeamName1 = ksportItem.Opp1;
        item.kSportTeamName2 = ksportItem.Opp2;
        item.kSportStreamId = ksportItem.StreamName;
        const streamIdTokens = ksportItem.StreamName.match(/^stream(cn)?(hd)?([0-9]+)$/i);
        item.isStreamCn =
            streamIdTokens &&
                streamIdTokens[1] &&
                streamIdTokens[1].toUpperCase() === 'CN'
                ? true
                : false;
        item.isStreamHd =
            streamIdTokens &&
                streamIdTokens[2] &&
                streamIdTokens[2].toUpperCase() === 'HD'
                ? true
                : false;
        item.matchScore = matchScore;
        if (correct !== undefined)
            item.correct = correct;
        item.streamState = ksportItem.StreamInfo.state;
        return item;
    }
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"] !== "undefined" && _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"]) === "function" ? _a : Object)
], UpdateBCToKSportDto.prototype, "sportType", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdateBCToKSportDto.prototype, "bcEventId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdateBCToKSportDto.prototype, "kSportEventId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], UpdateBCToKSportDto.prototype, "correct", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], UpdateBCToKSportDto.prototype, "matchScore", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdateBCToKSportDto.prototype, "bcEventTime", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdateBCToKSportDto.prototype, "bcTeamId1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdateBCToKSportDto.prototype, "bcTeamId2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdateBCToKSportDto.prototype, "bcTeamName1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdateBCToKSportDto.prototype, "bcTeamName2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdateBCToKSportDto.prototype, "kSportEventTime", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdateBCToKSportDto.prototype, "kSportTeamId1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdateBCToKSportDto.prototype, "kSportTeamId2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdateBCToKSportDto.prototype, "kSportTeamName1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdateBCToKSportDto.prototype, "kSportTeamName2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UpdateBCToKSportDto.prototype, "kSportStreamId", void 0);


/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/entities/bc.ksport.entity.ts":
/*!*************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/entities/bc.ksport.entity.ts ***!
  \*************************************************************************/
/*! exports provided: BCToKSportModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCToKSportModel", function() { return BCToKSportModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__);
var _a, _b, _c;



let BCToKSportModel = class BCToKSportModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Model"] {
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].CHAR,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["SportsEnum"] !== "undefined" && _workspace_enums__WEBPACK_IMPORTED_MODULE_1__["SportsEnum"]) === "function" ? _a : Object)
], BCToKSportModel.prototype, "sportType", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: false,
        unique: 'uniqueEventMatch',
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportModel.prototype, "bcEventId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: false,
        unique: 'uniqueEventMatch',
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportModel.prototype, "kSportEventId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].NUMBER,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], BCToKSportModel.prototype, "matchScore", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].BOOLEAN,
        allowNull: false,
        defaultValue: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], BCToKSportModel.prototype, "correct", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].BOOLEAN,
        allowNull: false,
        defaultValue: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], BCToKSportModel.prototype, "isManual", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].BOOLEAN,
        allowNull: false,
        defaultValue: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], BCToKSportModel.prototype, "isKilled", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].BOOLEAN,
        allowNull: false,
        defaultValue: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], BCToKSportModel.prototype, "streamState", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["IsDate"],
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].DATE,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_b = typeof Date !== "undefined" && Date) === "function" ? _b : Object)
], BCToKSportModel.prototype, "bcEventTime", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportModel.prototype, "bcTeamId1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportModel.prototype, "bcTeamId2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportModel.prototype, "bcTeamName1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportModel.prototype, "bcTeamName2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["IsDate"],
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].DATE,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_c = typeof Date !== "undefined" && Date) === "function" ? _c : Object)
], BCToKSportModel.prototype, "kSportEventTime", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportModel.prototype, "kSportTeamId1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportModel.prototype, "kSportTeamId2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportModel.prototype, "kSportTeamName1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportModel.prototype, "kSportTeamName2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].STRING,
        allowNull: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportModel.prototype, "kSportStreamId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].BOOLEAN,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], BCToKSportModel.prototype, "isStreamCn", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["DataType"].BOOLEAN,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Boolean)
], BCToKSportModel.prototype, "isStreamHd", void 0);
BCToKSportModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_2__["Table"])({ tableName: 'bcToKSport', timestamps: false })
], BCToKSportModel);



/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/entities/bc.ksport.team.entity.ts":
/*!******************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/entities/bc.ksport.team.entity.ts ***!
  \******************************************************************************/
/*! exports provided: BCToKSportTeamModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BCToKSportTeamModel", function() { return BCToKSportTeamModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__);


let BCToKSportTeamModel = class BCToKSportTeamModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Model"] {
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].INTEGER,
        allowNull: false,
        autoIncrement: true,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], BCToKSportTeamModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        unique: 'uniqueTeamId',
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportTeamModel.prototype, "bcTeamId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportTeamModel.prototype, "bcTeamName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        unique: 'uniqueTeamId',
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportTeamModel.prototype, "kSportTeamId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], BCToKSportTeamModel.prototype, "kSportTeamName", void 0);
BCToKSportTeamModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Table"])({ tableName: 'bcToKSportTeam' })
], BCToKSportTeamModel);



/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/ksport.controller.ts":
/*!*****************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/ksport.controller.ts ***!
  \*****************************************************************/
/*! exports provided: KSportController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportController", function() { return KSportController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ksport_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ksport.service */ "./apps/backend/src/app/stream/ksport/ksport.service.ts");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _dto_ksport_findall_candidateevent_request_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dto/ksport.findall.candidateevent.request.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.findall.candidateevent.request.dto.ts");
/* harmony import */ var _dto_ksport_build_candidateevent_request_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dto/ksport.build.candidateevent.request.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.build.candidateevent.request.dto.ts");
/* harmony import */ var _dto_ksport_create_candidateevent_request_dto__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./dto/ksport.create.candidateevent.request.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.create.candidateevent.request.dto.ts");
/* harmony import */ var _dto_ksport_delete_candidateevent_request_dto__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./dto/ksport.delete.candidateevent.request.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.delete.candidateevent.request.dto.ts");
/* harmony import */ var _dto_ksport_find_candidateteam_request_dto__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./dto/ksport.find.candidateteam.request.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.find.candidateteam.request.dto.ts");
/* harmony import */ var _dto_ksport_match_request_dto__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./dto/ksport.match.request.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.match.request.dto.ts");
/* harmony import */ var _dto_ksport_set_candidateevent_correct_request_dto__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./dto/ksport.set.candidateevent.correct.request.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.set.candidateevent.correct.request.dto.ts");
/* harmony import */ var _dto_ksport_update_candidateevent_request_dto__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./dto/ksport.update.candidateevent.request.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.update.candidateevent.request.dto.ts");
/* harmony import */ var _dto_ksport_build_streamstate_request_dto__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./dto/ksport.build.streamstate.request.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.build.streamstate.request.dto.ts");
/* harmony import */ var _dto_ksport_build_streamstate_some_request_dto__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./dto/ksport.build.streamstate.some.request.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.build.streamstate.some.request.dto.ts");
/* harmony import */ var _dto_ksport_get_streamstate_some_request_dto__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./dto/ksport.get.streamstate.some.request.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.get.streamstate.some.request.dto.ts");
/* harmony import */ var _dto_ksport_delete_candidateevent_bytime_request_dto__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./dto/ksport.delete.candidateevent.bytime.request.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.delete.candidateevent.bytime.request.dto.ts");
/* harmony import */ var _dto_ksport_fetchupdate_request_dto__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./dto/ksport.fetchupdate.request.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.fetchupdate.request.dto.ts");
/* harmony import */ var _auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../auth/jwt-auth.guard */ "./apps/backend/src/app/auth/jwt-auth.guard.ts");
var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2;



















let KSportController = class KSportController {
    constructor(ksportService) {
        this.ksportService = ksportService;
    }
    getStreamStateSome(query) {
        return this.ksportService.getStreamStateSome(query);
    }
    fetchUpdate(query) {
        return this.ksportService.fetchUpdatedKSportResult(true, true, true, true);
    }
    buildStremState(query) {
        return this.ksportService.buildStreamState(query);
    }
    buildStremStateSome(query) {
        return this.ksportService.buildStreamStateSome(query);
    }
    findallCandidateEvent(query) {
        return this.ksportService.findAllCandidateEvent(query);
    }
    buildCandidateEvent(candidateEventRequest) {
        return this.ksportService.buildCandidateEventByBC(candidateEventRequest);
    }
    createCandidateEvent(createCandidateEventRequest) {
        return this.ksportService.createCandidateEvent(createCandidateEventRequest);
    }
    updateCandidateEvent(updateCandidateEventRequest) {
        return this.ksportService.updateCandidateEvent(updateCandidateEventRequest);
    }
    deleteCandidateEvent(deleteCandidateEventRequest) {
        return this.ksportService.deleteCandidateEvent(deleteCandidateEventRequest);
    }
    deleteCandidateEventByTime(deleteCandidateEventByTimeRequest) {
        return this.ksportService.deleteCandidateEventByTime(deleteCandidateEventByTimeRequest);
    }
    setCandidateEventCorrect(query) {
        return this.ksportService.setCandidateEventCorrect(query);
    }
    findCandidateTeam(query) {
        return this.ksportService.findCandidateTeamByBC(query);
    }
    setMatchTeam(matchRequest) {
        return this.ksportService.setMatchTeamByBC(matchRequest);
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["apiPathsEnum"].getStreamStateSome),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _dto_ksport_get_streamstate_some_request_dto__WEBPACK_IMPORTED_MODULE_15__["KSportGetStreamStateSomeRequestDto"] !== "undefined" && _dto_ksport_get_streamstate_some_request_dto__WEBPACK_IMPORTED_MODULE_15__["KSportGetStreamStateSomeRequestDto"]) === "function" ? _a : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_b = typeof Promise !== "undefined" && Promise) === "function" ? _b : Object)
], KSportController.prototype, "getStreamStateSome", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["apiPathsEnum"].fetchUpdate),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_18__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_c = typeof _dto_ksport_fetchupdate_request_dto__WEBPACK_IMPORTED_MODULE_17__["KSportFetchUpdateRequestDto"] !== "undefined" && _dto_ksport_fetchupdate_request_dto__WEBPACK_IMPORTED_MODULE_17__["KSportFetchUpdateRequestDto"]) === "function" ? _c : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_d = typeof Promise !== "undefined" && Promise) === "function" ? _d : Object)
], KSportController.prototype, "fetchUpdate", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["apiPathsEnum"].buildStreamState),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_18__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_e = typeof _dto_ksport_build_streamstate_request_dto__WEBPACK_IMPORTED_MODULE_13__["KSportBuildStreamStateRequestDto"] !== "undefined" && _dto_ksport_build_streamstate_request_dto__WEBPACK_IMPORTED_MODULE_13__["KSportBuildStreamStateRequestDto"]) === "function" ? _e : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_f = typeof Promise !== "undefined" && Promise) === "function" ? _f : Object)
], KSportController.prototype, "buildStremState", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["apiPathsEnum"].buildStreamStateSome),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_18__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_g = typeof _dto_ksport_build_streamstate_some_request_dto__WEBPACK_IMPORTED_MODULE_14__["KSportBuildStreamStateSomeRequestDto"] !== "undefined" && _dto_ksport_build_streamstate_some_request_dto__WEBPACK_IMPORTED_MODULE_14__["KSportBuildStreamStateSomeRequestDto"]) === "function" ? _g : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_h = typeof Promise !== "undefined" && Promise) === "function" ? _h : Object)
], KSportController.prototype, "buildStremStateSome", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Get"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["apiPathsEnum"].findallKSportCandidateEvent),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_18__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Query"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_j = typeof _dto_ksport_findall_candidateevent_request_dto__WEBPACK_IMPORTED_MODULE_5__["KSportFindAllCandidateEventRequestDto"] !== "undefined" && _dto_ksport_findall_candidateevent_request_dto__WEBPACK_IMPORTED_MODULE_5__["KSportFindAllCandidateEventRequestDto"]) === "function" ? _j : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_k = typeof Promise !== "undefined" && Promise) === "function" ? _k : Object)
], KSportController.prototype, "findallCandidateEvent", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["apiPathsEnum"].buildKSportCandidateEventByBet),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_18__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_l = typeof _dto_ksport_build_candidateevent_request_dto__WEBPACK_IMPORTED_MODULE_6__["KSportBuildCandidateEventRequestDto"] !== "undefined" && _dto_ksport_build_candidateevent_request_dto__WEBPACK_IMPORTED_MODULE_6__["KSportBuildCandidateEventRequestDto"]) === "function" ? _l : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_m = typeof Promise !== "undefined" && Promise) === "function" ? _m : Object)
], KSportController.prototype, "buildCandidateEvent", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["apiPathsEnum"].createKSportCandidateEvent),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_18__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_o = typeof _dto_ksport_create_candidateevent_request_dto__WEBPACK_IMPORTED_MODULE_7__["KSportCreateCandidateEventRequestDto"] !== "undefined" && _dto_ksport_create_candidateevent_request_dto__WEBPACK_IMPORTED_MODULE_7__["KSportCreateCandidateEventRequestDto"]) === "function" ? _o : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_p = typeof Promise !== "undefined" && Promise) === "function" ? _p : Object)
], KSportController.prototype, "createCandidateEvent", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["apiPathsEnum"].updateKSportCandidateEvent),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_18__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_q = typeof _dto_ksport_update_candidateevent_request_dto__WEBPACK_IMPORTED_MODULE_12__["KSportUpdateCandidateEventRequestDto"] !== "undefined" && _dto_ksport_update_candidateevent_request_dto__WEBPACK_IMPORTED_MODULE_12__["KSportUpdateCandidateEventRequestDto"]) === "function" ? _q : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_r = typeof Promise !== "undefined" && Promise) === "function" ? _r : Object)
], KSportController.prototype, "updateCandidateEvent", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["apiPathsEnum"].deleteKSportCandidateEvent),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_18__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_s = typeof _dto_ksport_delete_candidateevent_request_dto__WEBPACK_IMPORTED_MODULE_8__["KSportDeleteCandidateEventRequestDto"] !== "undefined" && _dto_ksport_delete_candidateevent_request_dto__WEBPACK_IMPORTED_MODULE_8__["KSportDeleteCandidateEventRequestDto"]) === "function" ? _s : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_t = typeof Promise !== "undefined" && Promise) === "function" ? _t : Object)
], KSportController.prototype, "deleteCandidateEvent", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["apiPathsEnum"].deleteKSportCandidateEventByTime),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_18__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_u = typeof _dto_ksport_delete_candidateevent_bytime_request_dto__WEBPACK_IMPORTED_MODULE_16__["KSportDeleteCandidateEventByTimeRequestDto"] !== "undefined" && _dto_ksport_delete_candidateevent_bytime_request_dto__WEBPACK_IMPORTED_MODULE_16__["KSportDeleteCandidateEventByTimeRequestDto"]) === "function" ? _u : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_v = typeof Promise !== "undefined" && Promise) === "function" ? _v : Object)
], KSportController.prototype, "deleteCandidateEventByTime", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["apiPathsEnum"].setKSportCandidateEventCorrect),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_18__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Body"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_w = typeof _dto_ksport_set_candidateevent_correct_request_dto__WEBPACK_IMPORTED_MODULE_11__["KSportSetCandidateEventCorrectRequestDto"] !== "undefined" && _dto_ksport_set_candidateevent_correct_request_dto__WEBPACK_IMPORTED_MODULE_11__["KSportSetCandidateEventCorrectRequestDto"]) === "function" ? _w : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_x = typeof Promise !== "undefined" && Promise) === "function" ? _x : Object)
], KSportController.prototype, "setCandidateEventCorrect", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Get"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["apiPathsEnum"].findKSportCandidateTeam),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_18__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Query"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_y = typeof _dto_ksport_find_candidateteam_request_dto__WEBPACK_IMPORTED_MODULE_9__["KSportFindCandidateTeamRequest"] !== "undefined" && _dto_ksport_find_candidateteam_request_dto__WEBPACK_IMPORTED_MODULE_9__["KSportFindCandidateTeamRequest"]) === "function" ? _y : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_z = typeof Promise !== "undefined" && Promise) === "function" ? _z : Object)
], KSportController.prototype, "findCandidateTeam", null);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Post"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["apiPathsEnum"].setKSportMatchTeam),
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["UseGuards"])(_auth_jwt_auth_guard__WEBPACK_IMPORTED_MODULE_18__["JwtAuthGuard"]),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiBearerAuth"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Query"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_0 = typeof _dto_ksport_match_request_dto__WEBPACK_IMPORTED_MODULE_10__["KSportMatchRequest"] !== "undefined" && _dto_ksport_match_request_dto__WEBPACK_IMPORTED_MODULE_10__["KSportMatchRequest"]) === "function" ? _0 : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_1 = typeof Promise !== "undefined" && Promise) === "function" ? _1 : Object)
], KSportController.prototype, "setMatchTeam", null);
KSportController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])('ksport'),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_3__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["apiTagsEnum"].streamEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_2 = typeof _ksport_service__WEBPACK_IMPORTED_MODULE_2__["KSportService"] !== "undefined" && _ksport_service__WEBPACK_IMPORTED_MODULE_2__["KSportService"]) === "function" ? _2 : Object])
], KSportController);



/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/ksport.fetch.service.ts":
/*!********************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/ksport.fetch.service.ts ***!
  \********************************************************************/
/*! exports provided: KSportFetchOpenInfo, KSportFetchService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportFetchOpenInfo", function() { return KSportFetchOpenInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportFetchService", function() { return KSportFetchService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_bull__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/bull */ "@nestjs/bull");
/* harmony import */ var _nestjs_bull__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_bull__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var bull__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! bull */ "bull");
/* harmony import */ var bull__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(bull__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _dto_ksport_request_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dto/ksport.request.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.request.dto.ts");
var _a, _b, _c, _d;







class KSportFetchOpenInfo {
}
class KSportFetchNode {
}
let KSportFetchService = class KSportFetchService {
    constructor(httpService, configService, fetchKSportQueue) {
        this.httpService = httpService;
        this.configService = configService;
        this.fetchKSportQueue = fetchKSportQueue;
        this.nodeMap = {};
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Open KSport Data
    ///////////////////////////////////////////////////////////////////////////////
    openData(sport) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const openInfo = new KSportFetchOpenInfo();
            let node = null;
            if (!this.currentHandle) {
                node = yield this.getNodeWithFetch();
            }
            else {
                node = this.nodeMap[this.currentHandle];
            }
            if (!node) {
                console.log('FETCH ERROR');
                return null;
            }
            node.refCount++;
            openInfo.fetchHandle = this.currentHandle;
            openInfo.fetchData = node.data.sports[sport];
            return openInfo;
        });
    }
    getKSportIds() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let node = null;
            if (!this.currentHandle) {
                node = yield this.getNodeWithFetch();
            }
            else {
                node = this.nodeMap[this.currentHandle];
            }
            if (!node) {
                console.log('FETCH ERROR');
                return null;
            }
            return node.data.kSportIds;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Close KSport Data
    ///////////////////////////////////////////////////////////////////////////////
    closeData(handle) {
        const node = this.nodeMap[handle];
        if (!node) {
            return false;
        }
        node.refCount--;
        if (node.refCount > 0) {
            return true;
        }
        if (this.currentHandle === handle) {
            return true;
        }
        delete this.nodeMap[handle];
        return true;
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Update KSport Data
    ///////////////////////////////////////////////////////////////////////////////
    fetchUpdated(force) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.fetchJob && !force) {
                return false;
            }
            let nodeData = null;
            try {
                if (this.fetchJob) {
                    yield this.fetchJob.finished();
                }
                this.fetchJob = yield this.fetchKSportQueue.add('fetch-ksport-job', {}, { timeout: 45000 });
                nodeData = yield this.fetchJob.finished();
                this.fetchJob = null;
                if (!nodeData) {
                    return false;
                }
            }
            catch (error) {
                this.fetchJob = null;
                return false;
            }
            if (this.currentHandle) {
                const nodeCurrent = this.nodeMap[this.currentHandle];
                if (nodeCurrent /* && nodeCurrent.refCount < 1 */) {
                    delete this.nodeMap[this.currentHandle];
                }
            }
            const node = new KSportFetchNode();
            node.data = nodeData;
            node.refCount = 0;
            const fetchHandle = this.generateNewFetchHandle();
            this.nodeMap[fetchHandle] = node;
            this.currentHandle = fetchHandle;
            return true;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Open Data With Fetch
    ///////////////////////////////////////////////////////////////////////////////
    getNodeWithFetch() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let node = null;
            let nodeData = null;
            if (!this.fetchJob) {
                this.fetchJob = yield this.fetchKSportQueue.add('fetch-ksport-job', {}, { timeout: 45000, attempts: 1 });
            }
            try {
                nodeData = yield this.fetchJob.finished();
            }
            catch (error) { }
            this.fetchJob = null;
            if (!nodeData) {
                return null;
            }
            // Configure fetchHandle
            if (!this.currentHandle) {
                const fetchHandle = this.generateNewFetchHandle();
                this.currentHandle = fetchHandle;
                // Configure fetchNode
                node = new KSportFetchNode();
                node.data = nodeData;
                node.refCount = 0;
                // Set fetchNode
                this.nodeMap[fetchHandle] = node;
            }
            else {
                node = this.nodeMap[this.currentHandle];
            }
            node.refCount++;
            // Configure fetchOpenInfo
            // openInfo.fetchData = node.data.sports[sport];
            // openInfo.fetchHandle = this.currentHandle;
            return node;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Fetch KSport Job Consumer Processing
    ///////////////////////////////////////////////////////////////////////////////
    fetchKsportProcess(job) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let nodeData = null;
            const ksportRequest = _dto_ksport_request_dto__WEBPACK_IMPORTED_MODULE_6__["KSportRequestDto"].sportFactory();
            const host = this.configService.get('KSPORT_HOST');
            const api = this.configService.get('KSPORT_API');
            console.log('fetch-ksport-job consummer is starting...');
            try {
                const response = yield this.httpService
                    .get(`http://${host}${api}`, {
                    params: ksportRequest,
                })
                    .toPromise();
                const data = response.data;
                if (!data) {
                    return null;
                }
                nodeData = this.buildNodeData(data);
            }
            catch (error) {
                return null;
            }
            console.log('fetch-ksport-job consumming end with success.....');
            return nodeData;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Generate New Fetch Handle
    ///////////////////////////////////////////////////////////////////////////////
    generateNewFetchHandle() {
        let fetchHandle = null;
        while (!fetchHandle || this.nodeMap[fetchHandle]) {
            fetchHandle = Math.random().toString(36).substring(2, 12);
        }
        return fetchHandle;
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Build Node Data
    ///////////////////////////////////////////////////////////////////////////////
    buildNodeData(data) {
        const nodeData = {
            sports: {},
            kSportIds: [],
        };
        const sportsIds = Object.values(_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["SportsEnum"]).filter((_sport_id) => typeof _sport_id === 'number');
        sportsIds.forEach((sportId) => {
            nodeData.sports[sportId] = [];
        });
        const kSportIds = [];
        data.forEach((kSportResultItem) => {
            const sportId = kSportResultItem.SportId;
            if (sportsIds.includes(sportId)) {
                nodeData.sports[sportId].push(kSportResultItem);
            }
            else {
                nodeData.sports[_workspace_enums__WEBPACK_IMPORTED_MODULE_4__["SportsEnum"].other].push(kSportResultItem);
            }
            // strIDs += `${strIDs.length > 0 ? ',' : ''}${kSportResultItem.vid}`;
            kSportIds.push(kSportResultItem.vid);
        });
        nodeData.kSportIds = kSportIds;
        return nodeData;
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_bull__WEBPACK_IMPORTED_MODULE_1__["Process"])('fetch-ksport-job'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof bull__WEBPACK_IMPORTED_MODULE_5__["Job"] !== "undefined" && bull__WEBPACK_IMPORTED_MODULE_5__["Job"]) === "function" ? _a : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], KSportFetchService.prototype, "fetchKsportProcess", null);
KSportFetchService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    Object(_nestjs_bull__WEBPACK_IMPORTED_MODULE_1__["Processor"])('fetch-ksport'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(2, Object(_nestjs_bull__WEBPACK_IMPORTED_MODULE_1__["InjectQueue"])('fetch-ksport')),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_b = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_2__["HttpService"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_2__["HttpService"]) === "function" ? _b : Object, typeof (_c = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_3__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_3__["ConfigService"]) === "function" ? _c : Object, typeof (_d = typeof bull__WEBPACK_IMPORTED_MODULE_5__["Queue"] !== "undefined" && bull__WEBPACK_IMPORTED_MODULE_5__["Queue"]) === "function" ? _d : Object])
], KSportFetchService);



/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/ksport.module.ts":
/*!*************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/ksport.module.ts ***!
  \*************************************************************/
/*! exports provided: KSportModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportModule", function() { return KSportModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ksport_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ksport.service */ "./apps/backend/src/app/stream/ksport/ksport.service.ts");
/* harmony import */ var _ksport_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ksport.controller */ "./apps/backend/src/app/stream/ksport/ksport.controller.ts");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _entities_bc_ksport_team_entity__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./entities/bc.ksport.team.entity */ "./apps/backend/src/app/stream/ksport/entities/bc.ksport.team.entity.ts");
/* harmony import */ var _entities_bc_ksport_entity__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./entities/bc.ksport.entity */ "./apps/backend/src/app/stream/ksport/entities/bc.ksport.entity.ts");
/* harmony import */ var _ksport_fetch_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ksport.fetch.service */ "./apps/backend/src/app/stream/ksport/ksport.fetch.service.ts");
/* harmony import */ var _nestjs_bull__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @nestjs/bull */ "@nestjs/bull");
/* harmony import */ var _nestjs_bull__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_nestjs_bull__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _models_test_entity__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../models/test.entity */ "./apps/backend/src/app/models/test.entity.ts");










let KSportModule = class KSportModule {
};
KSportModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        controllers: [_ksport_controller__WEBPACK_IMPORTED_MODULE_3__["KSportController"]],
        providers: [_ksport_service__WEBPACK_IMPORTED_MODULE_2__["KSportService"], _ksport_fetch_service__WEBPACK_IMPORTED_MODULE_7__["KSportFetchService"]],
        imports: [
            _nestjs_bull__WEBPACK_IMPORTED_MODULE_8__["BullModule"].registerQueue({
                name: 'fetch-ksport',
            }),
            _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpModule"].register({
                timeout: 45000,
                maxRedirects: 5,
            }),
            _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_4__["SequelizeModule"].forFeature([
                _entities_bc_ksport_entity__WEBPACK_IMPORTED_MODULE_6__["BCToKSportModel"],
                _entities_bc_ksport_team_entity__WEBPACK_IMPORTED_MODULE_5__["BCToKSportTeamModel"],
                _models_test_entity__WEBPACK_IMPORTED_MODULE_9__["TestModel"],
            ]),
        ],
        exports: [_ksport_service__WEBPACK_IMPORTED_MODULE_2__["KSportService"]],
    })
], KSportModule);



/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/ksport.service.ts":
/*!**************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/ksport.service.ts ***!
  \**************************************************************/
/*! exports provided: KSportService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KSportService", function() { return KSportService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _locale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../locale */ "./apps/backend/src/app/locale.ts");
/* harmony import */ var fuse_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! fuse.js */ "fuse.js");
/* harmony import */ var fuse_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(fuse_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment-timezone */ "moment-timezone");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _entities_bc_ksport_team_entity__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./entities/bc.ksport.team.entity */ "./apps/backend/src/app/stream/ksport/entities/bc.ksport.team.entity.ts");
/* harmony import */ var _dto_create_bctoksportteam_dto__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./dto/create-bctoksportteam.dto */ "./apps/backend/src/app/stream/ksport/dto/create-bctoksportteam.dto.ts");
/* harmony import */ var _dto_update_bctokposrtteam_dto__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./dto/update-bctokposrtteam.dto */ "./apps/backend/src/app/stream/ksport/dto/update-bctokposrtteam.dto.ts");
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _options_find_match_ksport_event_options__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./options/find.match.ksport.event.options */ "./apps/backend/src/app/stream/ksport/options/find.match.ksport.event.options.ts");
/* harmony import */ var _dto_create_bctoksport_dto__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./dto/create-bctoksport.dto */ "./apps/backend/src/app/stream/ksport/dto/create-bctoksport.dto.ts");
/* harmony import */ var _entities_bc_ksport_entity__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./entities/bc.ksport.entity */ "./apps/backend/src/app/stream/ksport/entities/bc.ksport.entity.ts");
/* harmony import */ var _dto_update_bctoksport_dto__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./dto/update-bctoksport.dto */ "./apps/backend/src/app/stream/ksport/dto/update-bctoksport.dto.ts");
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! sequelize */ "sequelize");
/* harmony import */ var sequelize__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(sequelize__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _dto_ksport_findall_candidateevent_response_dto__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./dto/ksport.findall.candidateevent.response.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.findall.candidateevent.response.dto.ts");
/* harmony import */ var _dto_ksport_build_candidateevent_response_dto__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./dto/ksport.build.candidateevent.response.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.build.candidateevent.response.dto.ts");
/* harmony import */ var _dto_ksport_create_candidateevent_response_dto__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./dto/ksport.create.candidateevent.response.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.create.candidateevent.response.dto.ts");
/* harmony import */ var _dto_ksport_delete_candidateevent_response_dto__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./dto/ksport.delete.candidateevent.response.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.delete.candidateevent.response.dto.ts");
/* harmony import */ var _dto_ksport_find_candidateteam_response_dto__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./dto/ksport.find.candidateteam.response.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.find.candidateteam.response.dto.ts");
/* harmony import */ var _dto_ksport_match_response_dto__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./dto/ksport.match.response.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.match.response.dto.ts");
/* harmony import */ var _dto_ksport_set_candidateevent_correct_response_dto__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./dto/ksport.set.candidateevent.correct.response.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.set.candidateevent.correct.response.dto.ts");
/* harmony import */ var _dto_ksport_update_candidateevent_response_dto__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./dto/ksport.update.candidateevent.response.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.update.candidateevent.response.dto.ts");
/* harmony import */ var _dto_ksport_build_streamstate_request_dto__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./dto/ksport.build.streamstate.request.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.build.streamstate.request.dto.ts");
/* harmony import */ var _dto_ksport_build_streamstate_response_dto__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./dto/ksport.build.streamstate.response.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.build.streamstate.response.dto.ts");
/* harmony import */ var _dto_ksport_build_streamstate_some_response_dto__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./dto/ksport.build.streamstate.some.response.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.build.streamstate.some.response.dto.ts");
/* harmony import */ var _ksport_fetch_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./ksport.fetch.service */ "./apps/backend/src/app/stream/ksport/ksport.fetch.service.ts");
/* harmony import */ var _dto_ksport_get_streamstate_some_response_dto__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./dto/ksport.get.streamstate.some.response.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.get.streamstate.some.response.dto.ts");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_29__);
/* harmony import */ var _dto_ksport_delete_candidateevent_bytime_request_dto__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./dto/ksport.delete.candidateevent.bytime.request.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.delete.candidateevent.bytime.request.dto.ts");
/* harmony import */ var _dto_ksport_delete_candidateevent_bytime_response_dto__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./dto/ksport.delete.candidateevent.bytime.response.dto */ "./apps/backend/src/app/stream/ksport/dto/ksport.delete.candidateevent.bytime.response.dto.ts");
/* harmony import */ var _models_test_entity__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../models/test.entity */ "./apps/backend/src/app/models/test.entity.ts");
var _a, _b, _c, _d;

































let KSportService = class KSportService {
    constructor(httpService, configService, kSportFetchService, bcToKSportRepository, bcToKSportTeamRepository, testRepository, sequelize) {
        this.httpService = httpService;
        this.configService = configService;
        this.kSportFetchService = kSportFetchService;
        this.bcToKSportRepository = bcToKSportRepository;
        this.bcToKSportTeamRepository = bcToKSportTeamRepository;
        this.testRepository = testRepository;
        this.sequelize = sequelize;
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Find By BetConstruct
    ///////////////////////////////////////////////////////////////////////////////
    findByBC(streamFindActiveRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const openInfo = yield this.kSportFetchService.openData(streamFindActiveRequest.sport);
            if (!openInfo) {
                return null;
            }
            const { fetchData } = openInfo;
            const matchedItem = this.findMatchKSportItemByBC(streamFindActiveRequest, fetchData);
            return matchedItem;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Get Stream State By BC Items
    ///////////////////////////////////////////////////////////////////////////////
    getStreamStateSome(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = new _dto_ksport_get_streamstate_some_response_dto__WEBPACK_IMPORTED_MODULE_28__["KSportGetStreamStateSomeResponseDto"]();
            response.result = false;
            response.data = {};
            const bcEventIDs = request.bcEventIDs;
            if (bcEventIDs.length < 1) {
                return response;
            }
            //const localeId: number = LocaleEnum[request.locale];
            const bcToKSportItems = yield this.bcToKSportRepository.findAll({
                attributes: [
                    [
                        sequelize_typescript__WEBPACK_IMPORTED_MODULE_29__["Sequelize"].literal('distinct on("bcEventId") "bcEventId"'),
                        'bcEventId',
                    ],
                    'streamState',
                    'isManual',
                    'correct',
                    'matchScore',
                ],
                where: {
                    bcEventId: {
                        [sequelize__WEBPACK_IMPORTED_MODULE_15__["Op"].in]: bcEventIDs,
                    },
                },
                order: [
                    ['bcEventId', 'ASC'],
                    ['isManual', 'DESC'],
                    ['correct', 'DESC'],
                    ['matchScore', 'ASC'],
                    ['isKilled', 'ASC'],
                    ['streamState', 'DESC'],
                ],
            });
            if (!bcToKSportItems) {
                return response;
            }
            bcToKSportItems.forEach((bcToKSportItem) => {
                const data = response.data;
                const bcEventId = bcToKSportItem.bcEventId;
                if (data[bcEventId]) {
                    return;
                }
                data[bcEventId] = {
                    streamState: bcToKSportItem.streamState,
                    isManual: bcToKSportItem.isManual,
                    correct: bcToKSportItem.correct,
                    matchScore: bcToKSportItem.matchScore,
                };
            });
            response.result = true;
            return response;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Build Stream State
    ///////////////////////////////////////////////////////////////////////////////
    buildStreamState(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = new _dto_ksport_build_streamstate_response_dto__WEBPACK_IMPORTED_MODULE_25__["KSportBuildStreamStateResponseDto"]();
            response.result = false;
            response.numKSportResults = 0;
            response.numKSportResultsApplied = 0;
            const openInfo = yield this.kSportFetchService.openData(request.sport);
            if (!openInfo) {
                response.result = true;
                return response;
            }
            const { fetchData } = openInfo;
            response.numKSportResults = fetchData.length;
            let numKSportsResultsApplied = 0;
            for (let i = 0; i < fetchData.length; i++) {
                const kSportResultItem = fetchData[i];
                const bcToKSports = yield this.bcToKSportRepository.findAll({
                    where: {
                        kSportEventId: kSportResultItem.vid,
                    },
                });
                if (!bcToKSports || bcToKSports.length < 1) {
                    continue;
                }
                yield this.buildStreamStateEntities(kSportResultItem, bcToKSports, true);
                numKSportsResultsApplied++;
            }
            //this.kSportFetchService.closeData(fetchHandle);
            response.numKSportResultsApplied = numKSportsResultsApplied;
            response.result = true;
            return response;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Build Stream State Some
    ///////////////////////////////////////////////////////////////////////////////
    buildStreamStateSome(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = new _dto_ksport_build_streamstate_some_response_dto__WEBPACK_IMPORTED_MODULE_26__["KSportBuildStreamStateSomeResponseDto"]();
            response.result = false;
            const bcEventIDs = request.bcEventIDs;
            if (bcEventIDs.length < 1) {
                return response;
            }
            const bcToKSprotItems = yield this.bcToKSportRepository.findAll({
                where: {
                    bcEventId: {
                        [sequelize__WEBPACK_IMPORTED_MODULE_15__["Op"].in]: bcEventIDs,
                    },
                },
            });
            for (let i = 0; i < bcToKSprotItems.length; i++) {
                const bcToKSportItem = bcToKSprotItems[i];
                const kSportEventId = bcToKSportItem.kSportEventId;
                const kSportResultItem = yield this.fetchKSportResultById(kSportEventId);
                if (!kSportResultItem) {
                    continue;
                }
                yield this.buildStreamStateEntities(kSportResultItem, [bcToKSportItem], true);
            }
            response.result = true;
            return response;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Find All Candidate Events
    ///////////////////////////////////////////////////////////////////////////////
    findAllCandidateEvent(query) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const findOptions = {}, where = {};
            if (query.sport) {
                where['sportType'] = query.sport;
            }
            if (query.bcTeamNameLike) {
                where[sequelize__WEBPACK_IMPORTED_MODULE_15__["Op"].or] = [
                    { bcTeamName1: { [sequelize__WEBPACK_IMPORTED_MODULE_15__["Op"].like]: `%${query.bcTeamNameLike}%` } },
                    { bcTeamName2: { [sequelize__WEBPACK_IMPORTED_MODULE_15__["Op"].like]: `%${query.bcTeamNameLike}%` } },
                ];
            }
            if (query.bcEventId) {
                where['bcEventId'] = query.bcEventId;
            }
            if (query.kSportEventId) {
                where['kSportEventId'] = query.kSportEventId;
            }
            if (query.correct !== undefined) {
                where['correct'] = query.correct;
            }
            if (query.lessThanMatchScore !== undefined ||
                query.greaterThanMatchScore !== undefined) {
                where['matchScore'] = {};
                if (query.lessThanMatchScore !== undefined) {
                    where['matchScore'][sequelize__WEBPACK_IMPORTED_MODULE_15__["Op"].lt] = query.lessThanMatchScore;
                }
                if (query.greaterThanMatchScore !== undefined) {
                    where['matchScore'][sequelize__WEBPACK_IMPORTED_MODULE_15__["Op"].gt] = query.greaterThanMatchScore;
                }
            }
            findOptions.where = where;
            if (query.page === undefined)
                query.page = 0;
            if (query.pageSize === undefined)
                query.pageSize = 10;
            if (query.pageSize > 0) {
                findOptions.offset = query.pageSize * Math.max(query.page - 1, 0);
                findOptions.limit = query.pageSize;
            }
            findOptions.order = [
                ['sportType', 'ASC'],
                ['bcEventTime', 'ASC'],
                //['kSportEventTime', 'ASC'],
                ['bcEventId', 'ASC'],
                //['kSportEventId', 'ASC'],
                ['matchScore', 'ASC'],
            ];
            const { count, rows } = yield this.bcToKSportRepository.findAndCountAll(findOptions);
            const response = new _dto_ksport_findall_candidateevent_response_dto__WEBPACK_IMPORTED_MODULE_16__["KSportFindAllCandidateEventResponseDto"]();
            response.total = count;
            response.items = rows;
            return response;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Build Candidate Event By BetConstruct
    ///////////////////////////////////////////////////////////////////////////////
    buildCandidateEventByBC(candidateEventRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const canddiateEventResponse = new _dto_ksport_build_candidateevent_response_dto__WEBPACK_IMPORTED_MODULE_17__["KSportBuildCandidateEventResponseDto"]();
            canddiateEventResponse.result = false;
            canddiateEventResponse.bcItems = [];
            const openInfo = yield this.kSportFetchService.openData(_workspace_enums__WEBPACK_IMPORTED_MODULE_10__["SportsEnum"][candidateEventRequest.sport]);
            if (!openInfo) {
                canddiateEventResponse.result = true;
                return canddiateEventResponse;
            }
            const { fetchData } = openInfo;
            for (let i = 0; i < candidateEventRequest.bcItems.length; i++) {
                const bcItem = candidateEventRequest.bcItems[i];
                const bcItemResponse = new _dto_ksport_build_candidateevent_response_dto__WEBPACK_IMPORTED_MODULE_17__["BcItemResponse"]();
                bcItemResponse.bcEventId = bcItem.bcEventId;
                bcItemResponse.kSportItems = [];
                const findOptions = new _options_find_match_ksport_event_options__WEBPACK_IMPORTED_MODULE_11__["FindMatchKSportEventOptions"]();
                findOptions.bcTeam1 = bcItem.bcTeamName1;
                findOptions.bcTeam2 = bcItem.bcTeamName2;
                findOptions.bcEventTime = bcItem.bcEventTime;
                const matchsKSItems = this.findMatchKSportItemsByBC(fetchData, findOptions);
                if (!matchsKSItems || matchsKSItems.length < 1) {
                    //console.log(bcItem);
                }
                const candidateEntities = yield this.buildCandidateEventEntity(_workspace_enums__WEBPACK_IMPORTED_MODULE_10__["SportsEnum"][candidateEventRequest.sport], bcItem, matchsKSItems, true);
                candidateEntities.forEach((item) => {
                    const kSportItemResponse = new _dto_ksport_build_candidateevent_response_dto__WEBPACK_IMPORTED_MODULE_17__["KSportItemResponse"]();
                    kSportItemResponse.kSportEventId = item.kSportEventId;
                    bcItemResponse.kSportItems.push(kSportItemResponse);
                });
                canddiateEventResponse.bcItems.push(bcItemResponse);
            }
            canddiateEventResponse.result = true;
            return canddiateEventResponse;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Create Candidate Event
    ///////////////////////////////////////////////////////////////////////////////
    createCandidateEvent(createCandidateEventRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = new _dto_ksport_create_candidateevent_response_dto__WEBPACK_IMPORTED_MODULE_18__["KSportCreateCandidateEventResponseDto"]();
            response.result = false;
            for (let i = 0; i < createCandidateEventRequest.candidateEvents.length; i++) {
                const requestItem = createCandidateEventRequest.candidateEvents[i];
                const itemAlready = yield this.bcToKSportRepository.findOne({
                    where: {
                        bcEventId: requestItem.bcEventId,
                        kSportEventId: requestItem.kSportEventId,
                    },
                });
                const itemLikeBC = yield this.bcToKSportRepository.findOne({
                    where: {
                        bcEventId: requestItem.bcEventId,
                    },
                });
                let itemResult = null;
                if (itemAlready) {
                    //response.message = Locale.MSG_KSPORT_EXIST_CANDIDATE;
                    itemResult = _dto_update_bctoksport_dto__WEBPACK_IMPORTED_MODULE_14__["UpdateBCToKSportDto"].createRequestFactory(itemAlready, requestItem);
                    if (itemLikeBC) {
                        this.syncItemBcEvent(itemResult, itemLikeBC);
                    }
                    yield itemResult.save();
                }
                else {
                    const createBCToKSport = _dto_create_bctoksport_dto__WEBPACK_IMPORTED_MODULE_12__["CreateBCToKSportDto"].createRequestFactory(requestItem);
                    createBCToKSport.isManual = true;
                    if (itemLikeBC) {
                        this.syncCreateBcToKSportByBcEvent(createBCToKSport, itemLikeBC);
                    }
                    itemResult = yield this.bcToKSportRepository.create(createBCToKSport);
                }
                /* if (!item) {
                          response.message =
                              Locale.MSG_KSPORT_CREATE_CANDIDATE_EVENT_ERROR;
                      } */
            }
            response.result = true;
            return response;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Update Candidate Event
    ///////////////////////////////////////////////////////////////////////////////
    updateCandidateEvent(updateCandidateEventRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = new _dto_ksport_update_candidateevent_response_dto__WEBPACK_IMPORTED_MODULE_23__["KSportUpdateCandidateEventResponseDto"]();
            response.result = false;
            for (let i = 0; i < updateCandidateEventRequest.candidateEvents.length; i++) {
                const requestItem = updateCandidateEventRequest.candidateEvents[i];
                const item = yield this.bcToKSportRepository.findOne({
                    where: {
                        bcEventId: requestItem.bcEventId,
                        kSportEventId: requestItem.kSportEventId,
                    },
                });
                if (!item) {
                    continue;
                }
                const itemUpdated = _dto_update_bctoksport_dto__WEBPACK_IMPORTED_MODULE_14__["UpdateBCToKSportDto"].updateRequestFactory(item, requestItem);
                this.syncOtherBcEvent(itemUpdated);
                yield itemUpdated.save();
            }
            response.result = true;
            return response;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Delete Candidate Event
    ///////////////////////////////////////////////////////////////////////////////
    deleteCandidateEvent(deleteCandidateEventRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = new _dto_ksport_delete_candidateevent_response_dto__WEBPACK_IMPORTED_MODULE_19__["KSportDeleteCandidateEventResponseDto"]();
            response.result = false;
            const bcToKSportItems = deleteCandidateEventRequest.candidateEvents;
            for (let i = 0; i < bcToKSportItems.length; i++) {
                const bcToKSportItem = bcToKSportItems[i];
                const bcToKSport = yield this.bcToKSportRepository.findOne({
                    where: {
                        bcEventId: bcToKSportItem.bcEventId,
                        kSportEventId: bcToKSportItem.kSportEventId,
                    },
                });
                if (!bcToKSport) {
                    continue;
                }
                yield bcToKSport.destroy();
            }
            response.result = true;
            return response;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Delete Candidate Event By Time
    ///////////////////////////////////////////////////////////////////////////////
    deleteCandidateEventByTime(deleteCandidateEventByTimeRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = new _dto_ksport_delete_candidateevent_bytime_response_dto__WEBPACK_IMPORTED_MODULE_31__["KSportDeleteCandidateEventByTimeResponseDto"]();
            response.result = false;
            const untilTime = moment_timezone__WEBPACK_IMPORTED_MODULE_5__["tz"](deleteCandidateEventByTimeRequest.untilTime, 'YYYY-MM-DD HH:mm:ss', 'Asia/Shanghai');
            yield this.bcToKSportRepository.destroy({
                where: {
                    [sequelize__WEBPACK_IMPORTED_MODULE_15__["Op"].or]: [
                        { bcEventTime: { [sequelize__WEBPACK_IMPORTED_MODULE_15__["Op"].lt]: untilTime } },
                        { kSportEventTime: { [sequelize__WEBPACK_IMPORTED_MODULE_15__["Op"].lt]: untilTime } },
                    ],
                },
            });
            response.result = true;
            return response;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Set Candidate Event Correct
    ///////////////////////////////////////////////////////////////////////////////
    setCandidateEventCorrect(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = new _dto_ksport_set_candidateevent_correct_response_dto__WEBPACK_IMPORTED_MODULE_22__["KSportSetCandidateEventCorrectResponseDto"]();
            response.result = false;
            for (let i = 0; i < request.candidateEvents.length; i++) {
                const requestItem = request.candidateEvents[i];
                const candidateEntity = yield this.bcToKSportRepository.findOne({
                    where: {
                        bcEventId: requestItem.bcEventId,
                        kSportEventId: requestItem.kSportEventId,
                    },
                });
                if (!candidateEntity) {
                    response.message = _locale__WEBPACK_IMPORTED_MODULE_3__["MSG_KSPORT_NO_MATCHED_EVENT_ERROR"];
                    return response;
                }
                candidateEntity.correct = requestItem.correct;
                yield candidateEntity.save();
            }
            response.result = true;
            return response;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Find KSport Candidate By BetConstruct Team Name
    ///////////////////////////////////////////////////////////////////////////////
    findCandidateTeamByBC(candidateRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const result = new _dto_ksport_find_candidateteam_response_dto__WEBPACK_IMPORTED_MODULE_20__["KSportFindCandidateTeamResponse"]();
            result.result = false;
            const openInfo = yield this.kSportFetchService.openData(candidateRequest.sport);
            if (!openInfo) {
                result.message = _locale__WEBPACK_IMPORTED_MODULE_3__["MSG_KSPORT_FETCH_ERROR"];
                return null;
            }
            const { fetchData } = openInfo;
            const ksportFuseItems = this.findMatchCandidateTeamByBC(candidateRequest, fetchData);
            const candidateItems = [];
            const tmpTeamIds = [];
            for (let i = 0; i < ksportFuseItems.length; i++) {
                const ksportFuseItem = ksportFuseItems[i];
                const candidateItem = this.factoryKSportCandidateFromFuseKSportResultItem(ksportFuseItem);
                if (!candidateItem) {
                    continue;
                }
                if (tmpTeamIds.find((teamId) => teamId === candidateItem.teamId)) {
                    continue;
                }
                tmpTeamIds.push(candidateItem.teamId);
                candidateItems.push(candidateItem);
            }
            result.items = candidateItems;
            result.result = true;
            return result;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Find KSport Team By BetConstruct Team
    ///////////////////////////////////////////////////////////////////////////////
    setMatchTeamByBC(matchRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const result = new _dto_ksport_match_response_dto__WEBPACK_IMPORTED_MODULE_21__["KSportMatchResponse"]();
            result.result = false;
            const itemAlready = yield this.bcToKSportTeamRepository.findOne({
                where: {
                    betTeamId: matchRequest.betTeamId,
                    KSportTeamId: matchRequest.KSportTeamId,
                },
            });
            if (itemAlready) {
                const item = _dto_update_bctokposrtteam_dto__WEBPACK_IMPORTED_MODULE_9__["UpdateBCToKSportTeamDto"].matchRequestFactory(itemAlready, matchRequest);
                yield item.save();
                result.data = item;
                result.result = true;
                return result;
            }
            const createBetToKSportTeam = _dto_create_bctoksportteam_dto__WEBPACK_IMPORTED_MODULE_8__["CreateBCToKSportTeamDto"].matchRequestFactory(matchRequest);
            const ksportItem = yield this.bcToKSportTeamRepository.create(createBetToKSportTeam);
            result.data = ksportItem;
            result.result = true;
            return result;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Fetch Updated KSportResult
    ///////////////////////////////////////////////////////////////////////////////
    fetchUpdatedKSportResult(force, syncStreamState, removeLast, removeExceptKSport) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            /* await this.testRepository.create({
              a: JSON.stringify('fetchUpdatedKSportResult:' + moment().format()),
            }); */
            const result = yield this.kSportFetchService.fetchUpdated(force);
            if (result && syncStreamState) {
                yield this.syncStreamStateByKSportResult();
            }
            if (result && removeLast) {
                const deleteRequest = new _dto_ksport_delete_candidateevent_bytime_request_dto__WEBPACK_IMPORTED_MODULE_30__["KSportDeleteCandidateEventByTimeRequestDto"]();
                deleteRequest.untilTime = moment_timezone__WEBPACK_IMPORTED_MODULE_5__()
                    .subtract(this.configService.get('ksport.stream.durationForRemoveLast'), 'hours')
                    .utcOffset('+08:00')
                    .format('YYYY-MM-DD HH:mm:ss');
                yield this.deleteCandidateEventByTime(deleteRequest);
            }
            if (result && removeExceptKSport) {
                yield this.removeExceptKSport();
            }
            return result;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Fetch Sync StreamState By KSportResult
    ///////////////////////////////////////////////////////////////////////////////
    syncStreamStateByKSportResult() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const sportsIds = Object.values(_workspace_enums__WEBPACK_IMPORTED_MODULE_10__["SportsEnum"]).filter((_sport_id) => typeof _sport_id === 'number');
            for (let i = 0; i < sportsIds.length; i++) {
                const sportId = sportsIds[i];
                const buildStreamStateRequest = new _dto_ksport_build_streamstate_request_dto__WEBPACK_IMPORTED_MODULE_24__["KSportBuildStreamStateRequestDto"]();
                buildStreamStateRequest.sport = sportId;
                yield this.buildStreamState(buildStreamStateRequest);
            }
            return true;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Remove Except KSport
    ///////////////////////////////////////////////////////////////////////////////
    removeExceptKSport() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const kSportIds = yield this.kSportFetchService.getKSportIds();
            if (!kSportIds) {
                return false;
            }
            yield this.bcToKSportRepository.destroy({
                where: {
                    kSportEventId: {
                        [sequelize__WEBPACK_IMPORTED_MODULE_15__["Op"].notIn]: kSportIds,
                    },
                },
            });
            return true;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Fetch KSport Result By ID
    ///////////////////////////////////////////////////////////////////////////////
    fetchKSportResultById(kSportEventId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const host = this.configService.get('KSPORT_HOST');
            const api = this.configService.get('KSPORT_API');
            try {
                const response = yield this.httpService
                    .get(`http://${host}${api}`, {
                    params: { vid: kSportEventId },
                })
                    .toPromise();
                const data = response.data;
                if (!data) {
                    return null;
                }
                return data;
            }
            catch (error) { }
            return null;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Find Match By BestConstruct AND KSportResut
    ///////////////////////////////////////////////////////////////////////////////
    findMatchKSportItemByBC(streamFindActiveRequest, kSportResults) {
        const findOptions = new _options_find_match_ksport_event_options__WEBPACK_IMPORTED_MODULE_11__["FindMatchKSportEventOptions"]();
        findOptions.bcTeam1 = streamFindActiveRequest.team1;
        findOptions.bcTeam2 = streamFindActiveRequest.team2;
        findOptions.bcEventTime = `${streamFindActiveRequest.time}`;
        const result = this.findMatchKSportItemsByBC(kSportResults, findOptions);
        if (!result || result.length < 1) {
            return null;
        }
        return result[0].item;
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Find Fuzzy Match KSportItems By BC
    ///////////////////////////////////////////////////////////////////////////////
    findMatchKSportItemsByBC(kSportResults, findOptions) {
        const fuse = new fuse_js__WEBPACK_IMPORTED_MODULE_4___default.a(kSportResults, {
            includeScore: true,
            includeMatches: true,
            useExtendedSearch: true,
            threshold: 0.6,
            minMatchCharLength: 2,
            findAllMatches: true,
            keys: [
                { name: 'Opp1', weight: 10 },
                { name: 'Opp2', weight: 10 },
            ],
        });
        const result = fuse.search({
            $or: [
                {
                    $and: [
                        { Opp1: `"${findOptions.bcTeam1}"` },
                        {
                            Opp2: findOptions.bcTeam2
                                ? `"${findOptions.bcTeam2}"`
                                : `="NULL"`,
                        },
                    ],
                },
                {
                    $and: [
                        {
                            Opp1: findOptions.bcTeam2
                                ? `"${findOptions.bcTeam2}"`
                                : `="NULL"`,
                        },
                        { Opp2: `"${findOptions.bcTeam1}"` },
                    ],
                },
            ],
        });
        const bcEventTime = moment_timezone__WEBPACK_IMPORTED_MODULE_5__["tz"](findOptions.bcEventTime, 'YYYY-MM-DD HH:mm', 'Asia/Shanghai');
        const diffHoursMax = this.configService.get('ksport.DIFFHOURSMAX') || 1;
        return result.filter((fuseResultItem) => {
            const kSportItem = fuseResultItem.item;
            const kSportEventTime = moment_timezone__WEBPACK_IMPORTED_MODULE_5__["unix"](kSportItem.Matchtime);
            const diffHours = bcEventTime.diff(kSportEventTime, 'hours');
            return Math.abs(diffHours) <= Math.abs(diffHoursMax);
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Find Match By BestConstruct AND KSportResut
    ///////////////////////////////////////////////////////////////////////////////
    findMatchCandidateTeamByBC(candidateRequest, kSportResults) {
        const fuse = new fuse_js__WEBPACK_IMPORTED_MODULE_4___default.a(kSportResults, {
            includeScore: true,
            includeMatches: true,
            useExtendedSearch: true,
            threshold: 0.6,
            minMatchCharLength: 2,
            keys: ['Opp1', 'Opp2'],
        });
        const result = fuse.search({
            $or: [
                { Opp1: `"${candidateRequest.team}"` },
                { Opp2: `"${candidateRequest.team}"` },
            ],
        });
        if (!result || result.length < 1) {
            return [];
        }
        return result;
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Factory KSportCandidate from FuseResult<KSportResultItemDto>
    ///////////////////////////////////////////////////////////////////////////////
    factoryKSportCandidateFromFuseKSportResultItem(fuseKSportResultItem) {
        const candidateItem = new _dto_ksport_find_candidateteam_response_dto__WEBPACK_IMPORTED_MODULE_20__["KSportCandidate"]();
        if (fuseKSportResultItem.matches.length < 1) {
            return null;
        }
        const match = fuseKSportResultItem.matches[0];
        candidateItem.teamId = fuseKSportResultItem.item[`${match.key}ID`];
        candidateItem.team = match.value;
        return candidateItem;
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Build Candidate Event Entity
    ///////////////////////////////////////////////////////////////////////////////
    buildCandidateEventEntity(sportType, bcItem, ksFuseItems, checkStreamStatusByDurationBeforePlaying = false) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const items = [];
            for (let i = 0; i < ksFuseItems.length; i++) {
                const ksFuseItem = ksFuseItems[i];
                const ksItem = ksFuseItem.item;
                if (checkStreamStatusByDurationBeforePlaying) {
                    ksItem.StreamInfo.state = this.checkStatemStatusByDurationBeforePlaying(ksItem);
                }
                const itemAlready = yield this.bcToKSportRepository.findOne({
                    where: {
                        bcEventId: bcItem.bcEventId,
                        kSportEventId: ksItem.vid,
                    },
                });
                const itemLikeBC = yield this.bcToKSportRepository.findOne({
                    where: {
                        bcEventId: bcItem.bcEventId,
                    },
                });
                if (itemAlready) {
                    const bcToKSportItem = _dto_update_bctoksport_dto__WEBPACK_IMPORTED_MODULE_14__["UpdateBCToKSportDto"].factory(itemAlready, sportType, bcItem, ksItem, ksFuseItem.score);
                    if (itemLikeBC) {
                        this.syncItemBcEvent(bcToKSportItem, itemLikeBC);
                    }
                    yield bcToKSportItem.save();
                    items.push(bcToKSportItem);
                    continue;
                }
                const createBCToKSport = _dto_create_bctoksport_dto__WEBPACK_IMPORTED_MODULE_12__["CreateBCToKSportDto"].factory(sportType, bcItem, ksItem, ksFuseItem.score, false);
                if (itemLikeBC) {
                    this.syncCreateBcToKSportByBcEvent(createBCToKSport, itemLikeBC);
                }
                const item = yield this.bcToKSportRepository.create(createBCToKSport);
                if (!item) {
                    continue;
                }
                items.push(item);
            }
            return items;
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Build Strem State Entity With KSport Result && BCToKSportModel[]
    ///////////////////////////////////////////////////////////////////////////////
    buildStreamStateEntities(kSportResultItem, bcToKSports, checkStreamStatusByDurationBeforePlaying = false) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (checkStreamStatusByDurationBeforePlaying) {
                kSportResultItem.StreamInfo.state = this.checkStatemStatusByDurationBeforePlaying(kSportResultItem);
            }
            for (let i = 0; i < bcToKSports.length; i++) {
                const bcToKSport = bcToKSports[i];
                if (kSportResultItem.StreamName === bcToKSport.kSportStreamId &&
                    bcToKSport.streamState === kSportResultItem.StreamInfo.state) {
                    continue;
                }
                bcToKSport.kSportStreamId = kSportResultItem.StreamName;
                bcToKSport.streamState = kSportResultItem.StreamInfo.state;
                yield bcToKSport.save();
            }
        });
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Check StatemSatus By Duration Before Playing
    ///////////////////////////////////////////////////////////////////////////////
    checkStatemStatusByDurationBeforePlaying(kSportResultItem) {
        if (!kSportResultItem.StreamInfo.state) {
            return false;
        }
        const durationLimit = this.configService.get('ksport.stream.validDurationBeforePlaying');
        const kSportEventTime = moment_timezone__WEBPACK_IMPORTED_MODULE_5__["unix"](kSportResultItem.Matchtime);
        const duration = kSportEventTime.diff(moment_timezone__WEBPACK_IMPORTED_MODULE_5__(), 'minutes');
        if (duration > durationLimit) {
            console.log(durationLimit, ', ', duration);
        }
        return duration <= durationLimit;
    }
    ////////////////////////////////////////////////////////////////////////////////
    // Sync BcEvent State
    ///////////////////////////////////////////////////////////////////////////////
    syncOtherBcEvent(item) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const bcEventId = item.bcEventId;
            const isKilled = item.isKilled;
            const otherItems = yield this.bcToKSportRepository.findAll({
                where: {
                    bcEventId,
                    isKilled: !isKilled,
                },
            });
            for (let i = 0; i < otherItems.length; i++) {
                const otherItem = otherItems[i];
                otherItem.isKilled = isKilled;
                yield otherItem.save();
            }
        });
    }
    syncItemBcEvent(dstItem, srcItem) {
        dstItem.isKilled = srcItem.isKilled;
    }
    syncCreateBcToKSportByBcEvent(dstItem, srcItem) {
        dstItem.isKilled = srcItem.isKilled;
    }
};
KSportService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(3, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_6__["InjectModel"])(_entities_bc_ksport_entity__WEBPACK_IMPORTED_MODULE_13__["BCToKSportModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(4, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_6__["InjectModel"])(_entities_bc_ksport_team_entity__WEBPACK_IMPORTED_MODULE_7__["BCToKSportTeamModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(5, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_6__["InjectModel"])(_models_test_entity__WEBPACK_IMPORTED_MODULE_32__["TestModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpService"] !== "undefined" && _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpService"]) === "function" ? _a : Object, typeof (_b = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"]) === "function" ? _b : Object, typeof (_c = typeof _ksport_fetch_service__WEBPACK_IMPORTED_MODULE_27__["KSportFetchService"] !== "undefined" && _ksport_fetch_service__WEBPACK_IMPORTED_MODULE_27__["KSportFetchService"]) === "function" ? _c : Object, Object, Object, Object, typeof (_d = typeof sequelize_typescript__WEBPACK_IMPORTED_MODULE_29__["Sequelize"] !== "undefined" && sequelize_typescript__WEBPACK_IMPORTED_MODULE_29__["Sequelize"]) === "function" ? _d : Object])
], KSportService);



/***/ }),

/***/ "./apps/backend/src/app/stream/ksport/options/find.match.ksport.event.options.ts":
/*!***************************************************************************************!*\
  !*** ./apps/backend/src/app/stream/ksport/options/find.match.ksport.event.options.ts ***!
  \***************************************************************************************/
/*! exports provided: FindMatchKSportEventOptions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FindMatchKSportEventOptions", function() { return FindMatchKSportEventOptions; });
class FindMatchKSportEventOptions {
}


/***/ }),

/***/ "./apps/backend/src/app/stream/stream.controller.ts":
/*!**********************************************************!*\
  !*** ./apps/backend/src/app/stream/stream.controller.ts ***!
  \**********************************************************/
/*! exports provided: StreamController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StreamController", function() { return StreamController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _stream_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./stream.service */ "./apps/backend/src/app/stream/stream.service.ts");
/* harmony import */ var _workspace_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @workspace/dto */ "./libs/dto/src/index.ts");
var _a, _b, _c;






let StreamController = class StreamController {
    constructor(streamService) {
        this.streamService = streamService;
    }
    // @Get(apiPathsEnum.getStream)
    // findActive(
    //   @Query() query: StreamFindActiveRequestDto
    // ): Promise<StreamFindActiveResponseDto> {
    //   // FileManager.writeFileAsync( 'streamtmp/test.txt', '');    
    //   // FileManager.readFileASync( 'streamtmp/test.txt');    
    //   return null;
    //   return this.streamService.findActiveStream(query);
    // }
    findActiveByBC(query) {
        return this.streamService.findActiveStreamByBC(query);
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Get"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].getStreamByBC),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Query"])()),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _workspace_dto__WEBPACK_IMPORTED_MODULE_5__["StreamFindActiveByBCRequestDto"] !== "undefined" && _workspace_dto__WEBPACK_IMPORTED_MODULE_5__["StreamFindActiveByBCRequestDto"]) === "function" ? _a : Object]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", typeof (_b = typeof Promise !== "undefined" && Promise) === "function" ? _b : Object)
], StreamController.prototype, "findActiveByBC", null);
StreamController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiPathsEnum"].stream),
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_2__["ApiTags"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_3__["apiTagsEnum"].streamEndpoints),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_c = typeof _stream_service__WEBPACK_IMPORTED_MODULE_4__["StreamService"] !== "undefined" && _stream_service__WEBPACK_IMPORTED_MODULE_4__["StreamService"]) === "function" ? _c : Object])
], StreamController);



/***/ }),

/***/ "./apps/backend/src/app/stream/stream.exeception.ts":
/*!**********************************************************!*\
  !*** ./apps/backend/src/app/stream/stream.exeception.ts ***!
  \**********************************************************/
/*! exports provided: NoKSportExeception, StreamUnavailableExeception, TencemtGetStreamStateExeception */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NoKSportExeception", function() { return NoKSportExeception; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StreamUnavailableExeception", function() { return StreamUnavailableExeception; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TencemtGetStreamStateExeception", function() { return TencemtGetStreamStateExeception; });
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_0__);

class NoKSportExeception extends _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpException"] {
    constructor() {
        super('Not Found KSport Item', _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpStatus"].SERVICE_UNAVAILABLE);
    }
}
class StreamUnavailableExeception extends _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpException"] {
    constructor() {
        super('Stream unavailable', _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpStatus"].SERVICE_UNAVAILABLE);
    }
}
class TencemtGetStreamStateExeception extends _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpException"] {
    constructor() {
        super('Tencent get stream state error', _nestjs_common__WEBPACK_IMPORTED_MODULE_0__["HttpStatus"].INTERNAL_SERVER_ERROR);
    }
}


/***/ }),

/***/ "./apps/backend/src/app/stream/stream.module.ts":
/*!******************************************************!*\
  !*** ./apps/backend/src/app/stream/stream.module.ts ***!
  \******************************************************/
/*! exports provided: StreamModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StreamModule", function() { return StreamModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _stream_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stream.service */ "./apps/backend/src/app/stream/stream.service.ts");
/* harmony import */ var _stream_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./stream.controller */ "./apps/backend/src/app/stream/stream.controller.ts");
/* harmony import */ var _ksport_ksport_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ksport/ksport.module */ "./apps/backend/src/app/stream/ksport/ksport.module.ts");
/* harmony import */ var _tencent_tencent_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./tencent/tencent.module */ "./apps/backend/src/app/stream/tencent/tencent.module.ts");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _ksport_entities_bc_ksport_entity__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ksport/entities/bc.ksport.entity */ "./apps/backend/src/app/stream/ksport/entities/bc.ksport.entity.ts");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./configuration */ "./apps/backend/src/app/stream/configuration.ts");










let StreamModule = class StreamModule {
};
StreamModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        controllers: [_stream_controller__WEBPACK_IMPORTED_MODULE_3__["StreamController"]],
        providers: [_stream_service__WEBPACK_IMPORTED_MODULE_2__["StreamService"]],
        imports: [
            _nestjs_config__WEBPACK_IMPORTED_MODULE_8__["ConfigModule"].forRoot({
                load: [_configuration__WEBPACK_IMPORTED_MODULE_9__["default"]],
            }),
            _ksport_ksport_module__WEBPACK_IMPORTED_MODULE_4__["KSportModule"],
            _tencent_tencent_module__WEBPACK_IMPORTED_MODULE_5__["TecentModule"],
            _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_6__["SequelizeModule"].forFeature([_ksport_entities_bc_ksport_entity__WEBPACK_IMPORTED_MODULE_7__["BCToKSportModel"]]),
        ],
    })
], StreamModule);



/***/ }),

/***/ "./apps/backend/src/app/stream/stream.service.ts":
/*!*******************************************************!*\
  !*** ./apps/backend/src/app/stream/stream.service.ts ***!
  \*******************************************************/
/*! exports provided: StreamService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StreamService", function() { return StreamService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _workspace_dto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @workspace/dto */ "./libs/dto/src/index.ts");
/* harmony import */ var _locale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../locale */ "./apps/backend/src/app/locale.ts");
/* harmony import */ var _ksport_ksport_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ksport/ksport.service */ "./apps/backend/src/app/stream/ksport/ksport.service.ts");
/* harmony import */ var _tencent_tencent_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./tencent/tencent.service */ "./apps/backend/src/app/stream/tencent/tencent.service.ts");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _ksport_entities_bc_ksport_entity__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ksport/entities/bc.ksport.entity */ "./apps/backend/src/app/stream/ksport/entities/bc.ksport.entity.ts");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
var _a, _b;










let StreamService = class StreamService {
    constructor(ksportService, tecentSercice, bcToKSportRepository) {
        this.ksportService = ksportService;
        this.tecentSercice = tecentSercice;
        this.bcToKSportRepository = bcToKSportRepository;
    }
    findActiveStreamByBC(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const streamResult = new _workspace_dto__WEBPACK_IMPORTED_MODULE_2__["StreamFindActiveByBCResponseDto"]();
            streamResult.result = false;
            const bcEventId = request.bcEventId;
            const localeId = _workspace_enums__WEBPACK_IMPORTED_MODULE_9__["LocaleEnum"][request.locale];
            const bcToKSport = yield this.bcToKSportRepository.findOne({
                attributes: [
                    [
                        sequelize_typescript__WEBPACK_IMPORTED_MODULE_8__["Sequelize"].literal('distinct on("bcEventId") "bcEventId"'),
                        'bcEventId',
                    ],
                    'streamState',
                    'isManual',
                    'correct',
                    'matchScore',
                    'kSportStreamId',
                    'kSportEventId',
                ],
                where: {
                    bcEventId,
                },
                order: [
                    ['bcEventId', 'ASC'],
                    ['isManual', 'DESC'],
                    ['correct', 'DESC'],
                    ['matchScore', 'ASC'],
                    ['streamState', 'DESC'],
                    ['isStreamCn', localeId === _workspace_enums__WEBPACK_IMPORTED_MODULE_9__["LocaleEnum"].cn ? 'DESC' : 'ASC'],
                    ['isStreamHd', 'DESC'],
                ],
            });
            if (!bcToKSport) {
                streamResult.message = _locale__WEBPACK_IMPORTED_MODULE_3__["MSG_STREAM_NO_KSPORT_MATCH"];
                return streamResult;
            }
            if (!bcToKSport.streamState) {
                streamResult.message = _locale__WEBPACK_IMPORTED_MODULE_3__["MSG_STREAM_UNAVAILABLE"];
                return streamResult;
            }
            const streamUrl = yield this.tecentSercice.findActiveStream(bcToKSport.kSportStreamId);
            if (!streamUrl) {
                streamResult.message = _locale__WEBPACK_IMPORTED_MODULE_3__["MSG_STREAM_UNAVAILABLE"];
                return streamResult;
            }
            streamResult.result = true;
            streamResult.streamUrl = streamUrl;
            return streamResult;
        });
    }
    findActiveStream(streamFindActiveRequest) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const streamResult = new _workspace_dto__WEBPACK_IMPORTED_MODULE_2__["StreamFindActiveResponseDto"]();
            streamResult.result = false;
            const findItem = yield this.ksportService.findByBC(streamFindActiveRequest);
            if (!findItem) {
                streamResult.message = _locale__WEBPACK_IMPORTED_MODULE_3__["MSG_STREAM_NO_KSPORT_MATCH"];
                return streamResult;
            }
            if (!findItem.StreamInfo ||
                (findItem.StreamInfo && !findItem.StreamInfo.state)) {
                streamResult.message = _locale__WEBPACK_IMPORTED_MODULE_3__["MSG_STREAM_UNAVAILABLE"];
                return streamResult;
            }
            const streamUrl = yield this.tecentSercice.findActiveStream(findItem.StreamName);
            if (!streamUrl) {
                streamResult.message = _locale__WEBPACK_IMPORTED_MODULE_3__["MSG_STREAM_UNAVAILABLE"];
                return streamResult;
            }
            streamResult.result = true;
            streamResult.streamUrl = streamUrl;
            return streamResult;
        });
    }
};
StreamService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(2, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_6__["InjectModel"])(_ksport_entities_bc_ksport_entity__WEBPACK_IMPORTED_MODULE_7__["BCToKSportModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _ksport_ksport_service__WEBPACK_IMPORTED_MODULE_4__["KSportService"] !== "undefined" && _ksport_ksport_service__WEBPACK_IMPORTED_MODULE_4__["KSportService"]) === "function" ? _a : Object, typeof (_b = typeof _tencent_tencent_service__WEBPACK_IMPORTED_MODULE_5__["TencentService"] !== "undefined" && _tencent_tencent_service__WEBPACK_IMPORTED_MODULE_5__["TencentService"]) === "function" ? _b : Object, Object])
], StreamService);



/***/ }),

/***/ "./apps/backend/src/app/stream/tencent/dto/tencent.request.dto.ts":
/*!************************************************************************!*\
  !*** ./apps/backend/src/app/stream/tencent/dto/tencent.request.dto.ts ***!
  \************************************************************************/
/*! exports provided: TencentRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TencentRequestDto", function() { return TencentRequestDto; });
class TencentRequestDto {
}


/***/ }),

/***/ "./apps/backend/src/app/stream/tencent/dto/tencent.result.dto.ts":
/*!***********************************************************************!*\
  !*** ./apps/backend/src/app/stream/tencent/dto/tencent.result.dto.ts ***!
  \***********************************************************************/
/*! exports provided: TencentResultDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TencentResultDto", function() { return TencentResultDto; });
/* harmony import */ var _enums_tencent_stream_state_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums/tencent.stream.state.enum */ "./apps/backend/src/app/stream/tencent/enums/tencent.stream.state.enum.ts");

class TencentResultDto {
    static responseFactory(data) {
        const tencentResult = new TencentResultDto();
        const { RequestId, StreamState } = data;
        tencentResult.RequestId = RequestId || null;
        tencentResult.StreamState = Object(_enums_tencent_stream_state_enum__WEBPACK_IMPORTED_MODULE_0__["getTencentStreamState"])(StreamState) || null;
        return tencentResult;
    }
}


/***/ }),

/***/ "./apps/backend/src/app/stream/tencent/enums/tencent.stream.state.enum.ts":
/*!********************************************************************************!*\
  !*** ./apps/backend/src/app/stream/tencent/enums/tencent.stream.state.enum.ts ***!
  \********************************************************************************/
/*! exports provided: TencentStreamStateEnum, getTencentStreamState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TencentStreamStateEnum", function() { return TencentStreamStateEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTencentStreamState", function() { return getTencentStreamState; });
var TencentStreamStateEnum;
(function (TencentStreamStateEnum) {
    TencentStreamStateEnum["ACTIVE"] = "active";
    TencentStreamStateEnum["INACTIVE"] = "inactive";
    TencentStreamStateEnum["FORBIDDEN"] = "forbid";
})(TencentStreamStateEnum || (TencentStreamStateEnum = {}));
function getTencentStreamState(state) {
    let tencentStreamState = null;
    switch (state) {
        case 'active':
            tencentStreamState = TencentStreamStateEnum.ACTIVE;
            break;
        case 'inactive':
            tencentStreamState = TencentStreamStateEnum.INACTIVE;
            break;
        case 'forbid':
            tencentStreamState = TencentStreamStateEnum.FORBIDDEN;
            break;
    }
    return tencentStreamState;
}


/***/ }),

/***/ "./apps/backend/src/app/stream/tencent/tencent.controller.ts":
/*!*******************************************************************!*\
  !*** ./apps/backend/src/app/stream/tencent/tencent.controller.ts ***!
  \*******************************************************************/
/*! exports provided: TencentController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TencentController", function() { return TencentController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _tencent_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tencent.service */ "./apps/backend/src/app/stream/tencent/tencent.service.ts");
var _a;



let TencentController = class TencentController {
    constructor(tecentService) {
        this.tecentService = tecentService;
    }
};
TencentController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])('tencent'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _tencent_service__WEBPACK_IMPORTED_MODULE_2__["TencentService"] !== "undefined" && _tencent_service__WEBPACK_IMPORTED_MODULE_2__["TencentService"]) === "function" ? _a : Object])
], TencentController);



/***/ }),

/***/ "./apps/backend/src/app/stream/tencent/tencent.module.ts":
/*!***************************************************************!*\
  !*** ./apps/backend/src/app/stream/tencent/tencent.module.ts ***!
  \***************************************************************/
/*! exports provided: TecentModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TecentModule", function() { return TecentModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _tencent_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tencent.service */ "./apps/backend/src/app/stream/tencent/tencent.service.ts");
/* harmony import */ var _tencent_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tencent.controller */ "./apps/backend/src/app/stream/tencent/tencent.controller.ts");




let TecentModule = class TecentModule {
};
TecentModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        controllers: [_tencent_controller__WEBPACK_IMPORTED_MODULE_3__["TencentController"]],
        providers: [_tencent_service__WEBPACK_IMPORTED_MODULE_2__["TencentService"]],
        imports: [
            _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpModule"].register({
                timeout: 15000,
                maxRedirects: 5,
            }),
        ],
        exports: [_tencent_service__WEBPACK_IMPORTED_MODULE_2__["TencentService"]],
    })
], TecentModule);



/***/ }),

/***/ "./apps/backend/src/app/stream/tencent/tencent.service.ts":
/*!****************************************************************!*\
  !*** ./apps/backend/src/app/stream/tencent/tencent.service.ts ***!
  \****************************************************************/
/*! exports provided: TencentService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TencentService", function() { return TencentService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _dto_tencent_request_dto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dto/tencent.request.dto */ "./apps/backend/src/app/stream/tencent/dto/tencent.request.dto.ts");
/* harmony import */ var tencentcloud_sdk_nodejs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tencentcloud-sdk-nodejs */ "tencentcloud-sdk-nodejs");
/* harmony import */ var tencentcloud_sdk_nodejs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(tencentcloud_sdk_nodejs__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _dto_tencent_result_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dto/tencent.result.dto */ "./apps/backend/src/app/stream/tencent/dto/tencent.result.dto.ts");
/* harmony import */ var _enums_tencent_stream_state_enum__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./enums/tencent.stream.state.enum */ "./apps/backend/src/app/stream/tencent/enums/tencent.stream.state.enum.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! moment */ "moment");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! md5 */ "md5");
/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(md5__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _stream_exeception__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../stream.exeception */ "./apps/backend/src/app/stream/stream.exeception.ts");
var _a;










let TencentService = class TencentService {
    constructor(configService) {
        this.configService = configService;
    }
    findActiveStream(kSportStreamId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const streamState = yield this.getStreamState(kSportStreamId);
            if (streamState !== _enums_tencent_stream_state_enum__WEBPACK_IMPORTED_MODULE_6__["TencentStreamStateEnum"].ACTIVE) {
                //throw new StreamUnavailableExeception();
                return null;
            }
            const streamUrl = this.getStreamUrl(kSportStreamId);
            return streamUrl;
        });
    }
    getStreamState(ksportStreamId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let streamState = _enums_tencent_stream_state_enum__WEBPACK_IMPORTED_MODULE_6__["TencentStreamStateEnum"].INACTIVE;
            const LiveClient = tencentcloud_sdk_nodejs__WEBPACK_IMPORTED_MODULE_4__["live"].v20180801.Client;
            const host = this.configService.get('TENCENT_HOST');
            const clientConfig = {
                credential: {
                    secretId: this.configService.get('TENCENT_SECRET_ID'),
                    secretKey: this.configService.get('TENCENT_SECRET_KEY'),
                },
                region: '',
                profile: {
                    httpProfile: {
                        endpoint: host,
                    },
                },
            };
            const client = new LiveClient(clientConfig);
            const params = new _dto_tencent_request_dto__WEBPACK_IMPORTED_MODULE_3__["TencentRequestDto"]();
            params.AppName = this.configService.get('TENCENT_PUSH_APPNAME');
            params.DomainName = this.configService.get('TENCENT_PUSH_DOMAIN');
            params.StreamName = ksportStreamId;
            try {
                const data = yield client.DescribeLiveStreamState(params);
                const result = _dto_tencent_result_dto__WEBPACK_IMPORTED_MODULE_5__["TencentResultDto"].responseFactory(data);
                streamState = result.StreamState;
            }
            catch (error) {
                throw new _stream_exeception__WEBPACK_IMPORTED_MODULE_9__["TencemtGetStreamStateExeception"]();
            }
            return streamState;
        });
    }
    getStreamUrl(kSportStreamId) {
        const pullDomain = this.configService.get('TENCENT_PULL_DOMAIN');
        const pullAppName = this.configService.get('TENCENT_PULL_APPNAME');
        const deltaExpiration = this.configService.get('TENCENT_DELTA_EXPIRATION_MINUTES');
        const expirationTime = moment__WEBPACK_IMPORTED_MODULE_7__().add(deltaExpiration, 'minutes');
        const txTime = expirationTime.unix().toString(16);
        const key = this.configService.get('TENCENT_PULL_COPYRIGHTKEY');
        const txSecret = md5__WEBPACK_IMPORTED_MODULE_8__(`${key}${kSportStreamId}${txTime}`);
        const streamUrl = `https://${pullDomain}/${pullAppName}/` +
            `${kSportStreamId}.m3u8?` +
            `txSecret=${txSecret}` +
            `&txTime=${txTime}`;
        return streamUrl;
    }
};
TencentService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] !== "undefined" && _nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"]) === "function" ? _a : Object])
], TencentService);



/***/ }),

/***/ "./apps/backend/src/app/user/user.controller.ts":
/*!******************************************************!*\
  !*** ./apps/backend/src/app/user/user.controller.ts ***!
  \******************************************************/
/*! exports provided: UserController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserController", function() { return UserController; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./user.service */ "./apps/backend/src/app/user/user.service.ts");
var _a;




let UserController = class UserController {
    constructor(userService) {
        this.userService = userService;
    }
};
UserController = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Controller"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_2__["apiPathsEnum"].user),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [typeof (_a = typeof _user_service__WEBPACK_IMPORTED_MODULE_3__["UserService"] !== "undefined" && _user_service__WEBPACK_IMPORTED_MODULE_3__["UserService"]) === "function" ? _a : Object])
], UserController);



/***/ }),

/***/ "./apps/backend/src/app/user/user.model.ts":
/*!*************************************************!*\
  !*** ./apps/backend/src/app/user/user.model.ts ***!
  \*************************************************/
/*! exports provided: UserModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserModel", function() { return UserModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sequelize-typescript */ "sequelize-typescript");
/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__);


const uuid = __webpack_require__(/*! uuid */ "uuid").v4;
const bcrypt = __webpack_require__(/*! bcrypt */ "bcrypt");
let UserModel = class UserModel extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Model"] {
    // @BeforeValidate
    // static mockId(user: UserModel) {
    //   if (user.id === undefined && user.password) {
    //
    //    }
    //  }
    static prepareCreate(user) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            user.id = uuid();
            user.password = yield bcrypt.hash(user.password, 10);
        });
    }
};
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].UUIDV4,
        defaultValue: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].UUIDV4,
        allowNull: false,
        primaryKey: true,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UserModel.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        unique: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UserModel.prototype, "firstName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        unique: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UserModel.prototype, "lastName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
        unique: true,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UserModel.prototype, "email", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UserModel.prototype, "password", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Column"])({
        type: sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["DataType"].STRING,
        allowNull: false,
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UserModel.prototype, "twoFactorAuthenticationSecret", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["BeforeCreate"],
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Function),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [UserModel]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:returntype", Promise)
], UserModel, "prepareCreate", null);
UserModel = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(sequelize_typescript__WEBPACK_IMPORTED_MODULE_1__["Table"])({ tableName: 'user' })
], UserModel);



/***/ }),

/***/ "./apps/backend/src/app/user/user.module.ts":
/*!**************************************************!*\
  !*** ./apps/backend/src/app/user/user.module.ts ***!
  \**************************************************/
/*! exports provided: UserModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserModule", function() { return UserModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _user_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./user.controller */ "./apps/backend/src/app/user/user.controller.ts");
/* harmony import */ var _user_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./user.model */ "./apps/backend/src/app/user/user.model.ts");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./user.service */ "./apps/backend/src/app/user/user.service.ts");






let UserModule = class UserModule {
};
UserModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Module"])({
        imports: [_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["SequelizeModule"].forFeature([_user_model__WEBPACK_IMPORTED_MODULE_4__["UserModel"]])],
        controllers: [_user_controller__WEBPACK_IMPORTED_MODULE_3__["UserController"]],
        providers: [_user_service__WEBPACK_IMPORTED_MODULE_5__["UserService"], _user_model__WEBPACK_IMPORTED_MODULE_4__["UserModel"]],
        exports: [_user_service__WEBPACK_IMPORTED_MODULE_5__["UserService"]]
    })
], UserModule);



/***/ }),

/***/ "./apps/backend/src/app/user/user.service.ts":
/*!***************************************************!*\
  !*** ./apps/backend/src/app/user/user.service.ts ***!
  \***************************************************/
/*! exports provided: UserService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserService", function() { return UserService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/sequelize */ "@nestjs/sequelize");
/* harmony import */ var _nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bcrypt */ "bcrypt");
/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _user_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./user.model */ "./apps/backend/src/app/user/user.model.ts");





let UserService = class UserService {
    constructor(userRepository) {
        this.userRepository = userRepository;
    }
    create(userDto) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const user = yield this.userRepository.findOne({
                where: {
                    email: userDto.email,
                },
            });
            if (user) {
                throw new _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpException"]('User already exists', _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].BAD_REQUEST);
            }
            const createdUser = new this.userRepository(userDto);
            yield createdUser.save();
            return this.sanitizeUser(createdUser);
        });
    }
    find(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.userRepository.findAll({
                where: {
                    email: request.email,
                },
            });
        });
    }
    findByLogin(userDto) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const user = yield this.userRepository.findOne({
                where: {
                    email: userDto.email,
                },
            });
            if (!user) {
                throw new _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpException"]('Invalid credentials', _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].UNAUTHORIZED);
            }
            if (yield bcrypt__WEBPACK_IMPORTED_MODULE_3__["compare"](userDto.password, user.password)) {
                return this.sanitizeUser(user);
            }
            else {
                throw new _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpException"]('Invalid credentials', _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["HttpStatus"].UNAUTHORIZED);
            }
        });
    }
    findByPayload(payload) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.userRepository.findOne({
                where: {
                    email: payload.email,
                },
            });
        });
    }
    findById(userId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.userRepository.findByPk(userId);
        });
    }
    sanitizeUser(user) {
        const sanitized = user;
        delete sanitized['password'];
        return sanitized;
    }
    sanitizeToken(user, twoFactorSecret) {
        const sanitized = user;
        delete sanitized['token'];
        return Object.assign(Object.assign({}, sanitized), { twoFactorAuthenticationSecret: twoFactorSecret });
    }
};
UserService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__param"])(0, Object(_nestjs_sequelize__WEBPACK_IMPORTED_MODULE_2__["InjectModel"])(_user_model__WEBPACK_IMPORTED_MODULE_4__["UserModel"])),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [Object])
], UserService);



/***/ }),

/***/ "./apps/backend/src/environments/environment.ts":
/*!******************************************************!*\
  !*** ./apps/backend/src/environments/environment.ts ***!
  \******************************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
const environment = {
    production: false,
    settings: {
        baseUrl: 'https://lr.100100188.com',
    },
};


/***/ }),

/***/ "./apps/backend/src/main.ts":
/*!**********************************!*\
  !*** ./apps/backend/src/main.ts ***!
  \**********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
/* harmony import */ var _nestjs_common__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_common__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @nestjs/config */ "@nestjs/config");
/* harmony import */ var _nestjs_config__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_nestjs_config__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _nestjs_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @nestjs/core */ "@nestjs/core");
/* harmony import */ var _nestjs_core__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_nestjs_core__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var nest_winston__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! nest-winston */ "nest-winston");
/* harmony import */ var nest_winston__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(nest_winston__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./app/app.module */ "./apps/backend/src/app/app.module.ts");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var request_ip__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! request-ip */ "request-ip");
/* harmony import */ var request_ip__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(request_ip__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _app_middleware_filter_request_middleware__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./app/middleware/filter.request.middleware */ "./apps/backend/src/app/middleware/filter.request.middleware.ts");









function bootstrap() {
    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
        const app = yield _nestjs_core__WEBPACK_IMPORTED_MODULE_3__["NestFactory"].create(_app_app_module__WEBPACK_IMPORTED_MODULE_5__["AppModule"]);
        app.use(_app_middleware_filter_request_middleware__WEBPACK_IMPORTED_MODULE_8__["filterRequest"]);
        const configService = app.get(_nestjs_config__WEBPACK_IMPORTED_MODULE_2__["ConfigService"]);
        const globalPrefix = configService.get('BACKEND_PREFIX');
        app.setGlobalPrefix(globalPrefix);
        if (configService.get('ENVIRONMENT') === 'development' || 'stage') {
            const swaggerOptions = new _nestjs_swagger__WEBPACK_IMPORTED_MODULE_6__["DocumentBuilder"]()
                .setTitle('100Bet API documentation')
                .setDescription('Below You can test out the backend api and read the description of all endpoints and it`s examples')
                .setVersion('0.0.1')
                .addBearerAuth({
                type: 'http',
                scheme: 'bearer',
                bearerFormat: 'jwt',
            })
                .build();
            const swaggerDocument = _nestjs_swagger__WEBPACK_IMPORTED_MODULE_6__["SwaggerModule"].createDocument(app, swaggerOptions);
            _nestjs_swagger__WEBPACK_IMPORTED_MODULE_6__["SwaggerModule"].setup(globalPrefix, app, swaggerDocument, {
                swaggerUrl: `${configService.get('BACKEND_HOST')}/api/docs-json/`,
                explorer: true,
                swaggerOptions: {
                    docExpansion: 'list',
                    filter: true,
                    displayRequestDuration: true,
                },
                customCss: '.opblock-summary-path {font-size: 18px !important; font-weight: normal !important;}' +
                    '.opblock-summary-description {font-size: 18px !important; text-align: right !important;' +
                    'font-weight: bold !important;}',
            });
        }
        app.useLogger(app.get(nest_winston__WEBPACK_IMPORTED_MODULE_4__["WINSTON_MODULE_NEST_PROVIDER"]));
        app.useGlobalPipes(new _nestjs_common__WEBPACK_IMPORTED_MODULE_1__["ValidationPipe"]({
            whitelist: false,
            transform: true,
        }));
        app.use(request_ip__WEBPACK_IMPORTED_MODULE_7__["mw"]());
        app.enableCors({
            origin: true,
        });
        const port = configService.get('BACKEND_PORT');
        yield app.listen(port);
    });
}
bootstrap();


/***/ }),

/***/ "./libs/dto/src/index.ts":
/*!*******************************!*\
  !*** ./libs/dto/src/index.ts ***!
  \*******************************/
/*! exports provided: UserIdDto, UserEmailDto, LoginDto, ResetPassDto, UserRequestDto, UserTokenDto, UserUpdateDto, LoginResponseDto, StreamFindActiveRequestDto, StreamFindActiveResponseDto, StreamFindActiveByBCRequestDto, StreamFindActiveByBCResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _lib_user_request_dto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/user.request.dto */ "./libs/dto/src/lib/user.request.dto.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UserIdDto", function() { return _lib_user_request_dto__WEBPACK_IMPORTED_MODULE_0__["UserIdDto"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UserEmailDto", function() { return _lib_user_request_dto__WEBPACK_IMPORTED_MODULE_0__["UserEmailDto"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LoginDto", function() { return _lib_user_request_dto__WEBPACK_IMPORTED_MODULE_0__["LoginDto"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResetPassDto", function() { return _lib_user_request_dto__WEBPACK_IMPORTED_MODULE_0__["ResetPassDto"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UserRequestDto", function() { return _lib_user_request_dto__WEBPACK_IMPORTED_MODULE_0__["UserRequestDto"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UserTokenDto", function() { return _lib_user_request_dto__WEBPACK_IMPORTED_MODULE_0__["UserTokenDto"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UserUpdateDto", function() { return _lib_user_request_dto__WEBPACK_IMPORTED_MODULE_0__["UserUpdateDto"]; });

/* harmony import */ var _lib_user_response_dto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/user.response.dto */ "./libs/dto/src/lib/user.response.dto.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LoginResponseDto", function() { return _lib_user_response_dto__WEBPACK_IMPORTED_MODULE_1__["LoginResponseDto"]; });

/* harmony import */ var _lib_stream_find_active_request_dto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/stream.find.active.request.dto */ "./libs/dto/src/lib/stream.find.active.request.dto.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "StreamFindActiveRequestDto", function() { return _lib_stream_find_active_request_dto__WEBPACK_IMPORTED_MODULE_2__["StreamFindActiveRequestDto"]; });

/* harmony import */ var _lib_stream_find_active_response_dto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/stream.find.active.response.dto */ "./libs/dto/src/lib/stream.find.active.response.dto.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "StreamFindActiveResponseDto", function() { return _lib_stream_find_active_response_dto__WEBPACK_IMPORTED_MODULE_3__["StreamFindActiveResponseDto"]; });

/* harmony import */ var _lib_stream_find_active_bybc_request_dto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/stream.find.active.bybc.request.dto */ "./libs/dto/src/lib/stream.find.active.bybc.request.dto.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "StreamFindActiveByBCRequestDto", function() { return _lib_stream_find_active_bybc_request_dto__WEBPACK_IMPORTED_MODULE_4__["StreamFindActiveByBCRequestDto"]; });

/* harmony import */ var _lib_stream_find_active_bybc_response_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./lib/stream.find.active.bybc.response.dto */ "./libs/dto/src/lib/stream.find.active.bybc.response.dto.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "StreamFindActiveByBCResponseDto", function() { return _lib_stream_find_active_bybc_response_dto__WEBPACK_IMPORTED_MODULE_5__["StreamFindActiveByBCResponseDto"]; });









/***/ }),

/***/ "./libs/dto/src/lib/stream.find.active.bybc.request.dto.ts":
/*!*****************************************************************!*\
  !*** ./libs/dto/src/lib/stream.find.active.bybc.request.dto.ts ***!
  \*****************************************************************/
/*! exports provided: StreamFindActiveByBCRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StreamFindActiveByBCRequestDto", function() { return StreamFindActiveByBCRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);




class StreamFindActiveByBCRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        enum: _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["LocaleEnum"],
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_2__["LocaleEnum"]),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], StreamFindActiveByBCRequestDto.prototype, "locale", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], StreamFindActiveByBCRequestDto.prototype, "bcEventId", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], StreamFindActiveByBCRequestDto.prototype, "session_id", void 0);


/***/ }),

/***/ "./libs/dto/src/lib/stream.find.active.bybc.response.dto.ts":
/*!******************************************************************!*\
  !*** ./libs/dto/src/lib/stream.find.active.bybc.response.dto.ts ***!
  \******************************************************************/
/*! exports provided: StreamFindActiveByBCResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StreamFindActiveByBCResponseDto", function() { return StreamFindActiveByBCResponseDto; });
class StreamFindActiveByBCResponseDto {
}


/***/ }),

/***/ "./libs/dto/src/lib/stream.find.active.request.dto.ts":
/*!************************************************************!*\
  !*** ./libs/dto/src/lib/stream.find.active.request.dto.ts ***!
  \************************************************************/
/*! exports provided: StreamFindActiveRequestDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StreamFindActiveRequestDto", function() { return StreamFindActiveRequestDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _workspace_enums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @workspace/enums */ "./libs/enums/src/index.ts");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_3__);
var _a;




class StreamFindActiveRequestDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])({
        enum: _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"]
    }),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsEnum"])(_workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"]),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", typeof (_a = typeof _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"] !== "undefined" && _workspace_enums__WEBPACK_IMPORTED_MODULE_2__["SportsEnum"]) === "function" ? _a : Object)
], StreamFindActiveRequestDto.prototype, "sport", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], StreamFindActiveRequestDto.prototype, "team1", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], StreamFindActiveRequestDto.prototype, "team2", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])()
    //@Matches(/^[01][0-9]-[0-3][0-9] [0-2][0-9]:[0-5][0-9]$/i)
    ,
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["Matches"])(/^[0-9]{4}-[0-2][0-9]-[0-3][0-9] [0-2][0-9]:[0-5][0-9]$/i),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], StreamFindActiveRequestDto.prototype, "time", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_3__["IsString"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], StreamFindActiveRequestDto.prototype, "session_id", void 0);


/***/ }),

/***/ "./libs/dto/src/lib/stream.find.active.response.dto.ts":
/*!*************************************************************!*\
  !*** ./libs/dto/src/lib/stream.find.active.response.dto.ts ***!
  \*************************************************************/
/*! exports provided: StreamFindActiveResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StreamFindActiveResponseDto", function() { return StreamFindActiveResponseDto; });
class StreamFindActiveResponseDto {
}


/***/ }),

/***/ "./libs/dto/src/lib/user.request.dto.ts":
/*!**********************************************!*\
  !*** ./libs/dto/src/lib/user.request.dto.ts ***!
  \**********************************************/
/*! exports provided: UserIdDto, UserEmailDto, LoginDto, ResetPassDto, UserRequestDto, UserTokenDto, UserUpdateDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserIdDto", function() { return UserIdDto; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserEmailDto", function() { return UserEmailDto; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginDto", function() { return LoginDto; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResetPassDto", function() { return ResetPassDto; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserRequestDto", function() { return UserRequestDto; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserTokenDto", function() { return UserTokenDto; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserUpdateDto", function() { return UserUpdateDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);



class UserIdDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsUUID"])('4'),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], UserIdDto.prototype, "id", void 0);
class UserEmailDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEmail"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UserEmailDto.prototype, "email", void 0);
class LoginDto extends UserEmailDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], LoginDto.prototype, "password", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], LoginDto.prototype, "twoFactorAuthenticationCode", void 0);
class ResetPassDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], ResetPassDto.prototype, "password", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], ResetPassDto.prototype, "confirmPassword", void 0);
class UserRequestDto extends UserEmailDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UserRequestDto.prototype, "password", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UserRequestDto.prototype, "twoFactorAuthenticationSecret", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UserRequestDto.prototype, "firstName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UserRequestDto.prototype, "lastName", void 0);
class UserTokenDto extends UserEmailDto {
    static checkToken(token) {
        return token === process.env.SECRET_TOKEN;
    }
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UserTokenDto.prototype, "password", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UserTokenDto.prototype, "firstName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UserTokenDto.prototype, "lastName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UserTokenDto.prototype, "token", void 0);
class UserUpdateDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNumber"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", Number)
], UserUpdateDto.prototype, "id", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UserUpdateDto.prototype, "firstName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UserUpdateDto.prototype, "lastName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEmail"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UserUpdateDto.prototype, "email", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiPropertyOptional"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsOptional"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], UserUpdateDto.prototype, "password", void 0);


/***/ }),

/***/ "./libs/dto/src/lib/user.response.dto.ts":
/*!***********************************************!*\
  !*** ./libs/dto/src/lib/user.response.dto.ts ***!
  \***********************************************/
/*! exports provided: LoginResponseDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginResponseDto", function() { return LoginResponseDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "tslib");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tslib__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
/* harmony import */ var _nestjs_swagger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-validator */ "class-validator");
/* harmony import */ var class_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(class_validator__WEBPACK_IMPORTED_MODULE_2__);



class LoginResponseDto {
}
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsEmail"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], LoginResponseDto.prototype, "email", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], LoginResponseDto.prototype, "firstName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], LoginResponseDto.prototype, "lastName", void 0);
Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_nestjs_swagger__WEBPACK_IMPORTED_MODULE_1__["ApiProperty"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsString"])(),
    Object(class_validator__WEBPACK_IMPORTED_MODULE_2__["IsNotEmpty"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:type", String)
], LoginResponseDto.prototype, "password", void 0);


/***/ }),

/***/ "./libs/enums/src/index.ts":
/*!*********************************!*\
  !*** ./libs/enums/src/index.ts ***!
  \*********************************/
/*! exports provided: OrderStatusEnum, LocaleEnum, PaymentSystemEnum, DepositChannelEnum, BankCodeEnum, PaymentProviderEnum, CurrencyEnum, UsdtProtocolEnum, SportsEnum, apiPathsEnum, apiTagsEnum, apiEndpointDecriptionEnum, apiParamsEnum, orderStatusEnum, channelEnum, paymentProviderEnum, bankCodeEnum, sportsEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "apiPathsEnum", function() { return apiPathsEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "apiTagsEnum", function() { return apiTagsEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "apiEndpointDecriptionEnum", function() { return apiEndpointDecriptionEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "apiParamsEnum", function() { return apiParamsEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "orderStatusEnum", function() { return orderStatusEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "channelEnum", function() { return channelEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "paymentProviderEnum", function() { return paymentProviderEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bankCodeEnum", function() { return bankCodeEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sportsEnum", function() { return sportsEnum; });
/* harmony import */ var _lib_api_endpoint_description_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/api-endpoint-description.enum */ "./libs/enums/src/lib/api-endpoint-description.enum.ts");
/* harmony import */ var _lib_api_params_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/api-params.enum */ "./libs/enums/src/lib/api-params.enum.ts");
/* harmony import */ var _lib_api_paths_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/api-paths.enum */ "./libs/enums/src/lib/api-paths.enum.ts");
/* harmony import */ var _lib_api_tags_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/api-tags.enum */ "./libs/enums/src/lib/api-tags.enum.ts");
/* harmony import */ var _lib_payment_enum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/payment.enum */ "./libs/enums/src/lib/payment.enum.ts");
/* harmony import */ var _lib_stream_enum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./lib/stream.enum */ "./libs/enums/src/lib/stream.enum.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "OrderStatusEnum", function() { return _lib_payment_enum__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LocaleEnum", function() { return _lib_payment_enum__WEBPACK_IMPORTED_MODULE_4__["LocaleEnum"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PaymentSystemEnum", function() { return _lib_payment_enum__WEBPACK_IMPORTED_MODULE_4__["PaymentSystemEnum"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DepositChannelEnum", function() { return _lib_payment_enum__WEBPACK_IMPORTED_MODULE_4__["DepositChannelEnum"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BankCodeEnum", function() { return _lib_payment_enum__WEBPACK_IMPORTED_MODULE_4__["BankCodeEnum"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderEnum", function() { return _lib_payment_enum__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEnum"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CurrencyEnum", function() { return _lib_payment_enum__WEBPACK_IMPORTED_MODULE_4__["CurrencyEnum"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UsdtProtocolEnum", function() { return _lib_payment_enum__WEBPACK_IMPORTED_MODULE_4__["UsdtProtocolEnum"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SportsEnum", function() { return _lib_stream_enum__WEBPACK_IMPORTED_MODULE_5__["SportsEnum"]; });









const apiPathsEnum = _lib_api_paths_enum__WEBPACK_IMPORTED_MODULE_2__["ApiPathsEnum"];
const apiTagsEnum = _lib_api_tags_enum__WEBPACK_IMPORTED_MODULE_3__["ApiTagsEnum"];
const apiEndpointDecriptionEnum = _lib_api_endpoint_description_enum__WEBPACK_IMPORTED_MODULE_0__["ApiEndpointDescriptionEnum"];
const apiParamsEnum = _lib_api_params_enum__WEBPACK_IMPORTED_MODULE_1__["ApiParamsEnum"];
const orderStatusEnum = _lib_payment_enum__WEBPACK_IMPORTED_MODULE_4__["OrderStatusEnum"];
const channelEnum = _lib_payment_enum__WEBPACK_IMPORTED_MODULE_4__["DepositChannelEnum"];
const paymentProviderEnum = _lib_payment_enum__WEBPACK_IMPORTED_MODULE_4__["PaymentProviderEnum"];
const bankCodeEnum = _lib_payment_enum__WEBPACK_IMPORTED_MODULE_4__["BankCodeEnum"];
const sportsEnum = _lib_stream_enum__WEBPACK_IMPORTED_MODULE_5__["SportsEnum"];


/***/ }),

/***/ "./libs/enums/src/lib/api-endpoint-description.enum.ts":
/*!*************************************************************!*\
  !*** ./libs/enums/src/lib/api-endpoint-description.enum.ts ***!
  \*************************************************************/
/*! exports provided: ApiEndpointDescriptionEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApiEndpointDescriptionEnum", function() { return ApiEndpointDescriptionEnum; });
var ApiEndpointDescriptionEnum;
(function (ApiEndpointDescriptionEnum) {
    ApiEndpointDescriptionEnum["user"] = "Users Endpoint";
    ApiEndpointDescriptionEnum["userLogin"] = "Login For Users";
    ApiEndpointDescriptionEnum["userRegister"] = "Register User";
    ApiEndpointDescriptionEnum["userCreate"] = "Create User";
    ApiEndpointDescriptionEnum["userResetPass"] = "Reset User Password";
    ApiEndpointDescriptionEnum["userResetTwoFactorAuthSecret"] = "Reset Two Factor Auth Secret";
    ApiEndpointDescriptionEnum["userGetTwoFactorAuthQrCode"] = "Get Two Factor Auth QrCode";
    ApiEndpointDescriptionEnum["userAll"] = "Get All Users";
    ApiEndpointDescriptionEnum["userPost"] = "Create User";
    ApiEndpointDescriptionEnum["userGet"] = "Get Users List";
    ApiEndpointDescriptionEnum["userGetById"] = "Get User by Id";
    ApiEndpointDescriptionEnum["userGetByUserName"] = "Get User by UserName";
    ApiEndpointDescriptionEnum["userPut"] = "Update User";
    ApiEndpointDescriptionEnum["userDelete"] = "Delete User";
    ApiEndpointDescriptionEnum["getModuleModelLeads"] = "Get Leads Module Model";
    ApiEndpointDescriptionEnum["createModuleModelLeads"] = "Create/Update Leads Module Model";
    ApiEndpointDescriptionEnum["paymentDeposit"] = "Deposit";
    ApiEndpointDescriptionEnum["paymentDepositByCard"] = "Deposit By Card";
    ApiEndpointDescriptionEnum["paymentManualDeposit"] = "ManualDeposit";
    ApiEndpointDescriptionEnum["paymentTestDeposit"] = "TestDeposit";
    ApiEndpointDescriptionEnum["paymentDepositMakeSuccess"] = "Make deposit success";
    ApiEndpointDescriptionEnum["paymentWithdraw"] = "Withdraw";
    ApiEndpointDescriptionEnum["paymentManualWithdraw"] = "ManualWithdraw";
    ApiEndpointDescriptionEnum["getDepositablePaymentSystems"] = "Get Depositable PaymentSystems";
    ApiEndpointDescriptionEnum["getDepositableUsdtProtos"] = "Get Depositable UsdtProtos";
    ApiEndpointDescriptionEnum["getDepositableChannels"] = "Get Depositable Channels";
    ApiEndpointDescriptionEnum["getWithdrawableBanks"] = "Get Withdrawable Banks";
    ApiEndpointDescriptionEnum["depositMSZFCallback"] = "Deposit Callback for MSZF";
    ApiEndpointDescriptionEnum["withdrawMSZFCallback"] = "Withdraw Callback for MSZF";
    ApiEndpointDescriptionEnum["depositD1FCallback"] = "Deposit Callback for D1F";
    ApiEndpointDescriptionEnum["withdrawD1FCallback"] = "Withdraw Callback for D1F";
    ApiEndpointDescriptionEnum["depositXingChenCallback"] = "Deposit Callback for XingChen";
    ApiEndpointDescriptionEnum["withdrawXingChenCallback"] = "Withdraw Callback for XingChen";
    ApiEndpointDescriptionEnum["depositUzPAYCallback"] = "Deposit Callback for UzPAY";
    ApiEndpointDescriptionEnum["withdrawUzPAYCallback"] = "Withdraw Callback for UzPAY";
    ApiEndpointDescriptionEnum["depositSDDCallback"] = "Deposit Callback for SDD";
    ApiEndpointDescriptionEnum["withdrawSDDCallback"] = "Withdraw Callback for SDD";
    ApiEndpointDescriptionEnum["depositJBPCallback"] = "Deposit Callback for JBP";
    ApiEndpointDescriptionEnum["withdrawJBPCallback"] = "Withdraw Callback for JBP";
    ApiEndpointDescriptionEnum["depositHengXinCallback"] = "Deposit Callback for HengXin";
    ApiEndpointDescriptionEnum["withdrawHengXinCallback"] = "Withdraw Callback for HengXin";
    ApiEndpointDescriptionEnum["depositBisaCallback"] = "Deposit Callback for Bisa";
    ApiEndpointDescriptionEnum["withdrawBisaCallback"] = "Withdraw Callback for Bisa";
    ApiEndpointDescriptionEnum["cmsHeroBannerCreate"] = "cmsHeroBannerCreate";
    ApiEndpointDescriptionEnum["cmsHeroBannerUpload"] = "cmsHeroBannerUpload";
})(ApiEndpointDescriptionEnum || (ApiEndpointDescriptionEnum = {}));


/***/ }),

/***/ "./libs/enums/src/lib/api-params.enum.ts":
/*!***********************************************!*\
  !*** ./libs/enums/src/lib/api-params.enum.ts ***!
  \***********************************************/
/*! exports provided: ApiParamsEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApiParamsEnum", function() { return ApiParamsEnum; });
var ApiParamsEnum;
(function (ApiParamsEnum) {
    ApiParamsEnum["user"] = "user";
    ApiParamsEnum["id"] = "id";
    ApiParamsEnum["leadId"] = "leadId";
    ApiParamsEnum["username"] = "username";
    ApiParamsEnum["password"] = "password";
    ApiParamsEnum["email"] = "email";
})(ApiParamsEnum || (ApiParamsEnum = {}));


/***/ }),

/***/ "./libs/enums/src/lib/api-paths.enum.ts":
/*!**********************************************!*\
  !*** ./libs/enums/src/lib/api-paths.enum.ts ***!
  \**********************************************/
/*! exports provided: ApiPathsEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApiPathsEnum", function() { return ApiPathsEnum; });
var ApiPathsEnum;
(function (ApiPathsEnum) {
    ApiPathsEnum["api"] = "api";
    ApiPathsEnum["auth"] = "auth";
    ApiPathsEnum["users"] = "users";
    ApiPathsEnum["leads"] = "leads";
    ApiPathsEnum["login"] = "login";
    ApiPathsEnum["register"] = "register";
    ApiPathsEnum["user"] = "user";
    ApiPathsEnum["delete"] = "delete";
    ApiPathsEnum["create"] = "create";
    ApiPathsEnum["reset"] = "resetpass";
    ApiPathsEnum["resetTwoFactorAuthSecret"] = "reset2fasecret";
    ApiPathsEnum["getTwoFactorAuthQrCode"] = "get2faqrcode";
    ApiPathsEnum["id"] = ":id";
    ApiPathsEnum["allUsers"] = "allUsers";
    ApiPathsEnum["channel"] = "channel";
    ApiPathsEnum["bank"] = "bank";
    ApiPathsEnum["usdtProto"] = "usdtproto";
    ApiPathsEnum["payment"] = "payment";
    ApiPathsEnum["paymentProvider"] = "paymentprovider";
    ApiPathsEnum["paymentProviderChannel"] = "paymentproviderchannel";
    ApiPathsEnum["paymentProviderBank"] = "paymentproviderbank";
    ApiPathsEnum["paymentProviderCard"] = "paymentprovidercard";
    ApiPathsEnum["paymentProviderUsdtProto"] = "paymentproviderusdtproto";
    ApiPathsEnum["deposit"] = "deposit";
    ApiPathsEnum["depositByCard"] = "depositbycard";
    ApiPathsEnum["manualDeposit"] = "manualdeposit";
    ApiPathsEnum["testDeposit"] = "testdeposit";
    ApiPathsEnum["manualWithdraw"] = "manualwithdraw";
    ApiPathsEnum["depositMakeSuccess"] = "deposit/makeitsuccess";
    ApiPathsEnum["withdraw"] = "withdraw";
    ApiPathsEnum["withdrawMakeSuccess"] = "withdraw/makeitsuccess";
    ApiPathsEnum["getDepositablePaymentSystems"] = "getdepositablepaymentmethods";
    ApiPathsEnum["getDepositableUsdtProtos"] = "getdepositableusdtprotos";
    ApiPathsEnum["getDepositableChannels"] = "getdepositablechannels";
    ApiPathsEnum["getWithdrawableBanks"] = "getwithdrawablebanks";
    ApiPathsEnum["checkChannelsDepositable"] = "checkchannelsdepositable";
    ApiPathsEnum["checkBanksWithdrawable"] = "checkbankswithdrawable";
    ApiPathsEnum["mszfcallback"] = "mszfcallback";
    ApiPathsEnum["mszfcallbackDeposit"] = "mszfcallback/deposit";
    ApiPathsEnum["mszfcallbackWithdraw"] = "mszfcallback/withdraw";
    ApiPathsEnum["d1fcallbackDeposit"] = "d1fcallback/deposit";
    ApiPathsEnum["d1fcallbackWithdraw"] = "d1fcallback/withdraw";
    ApiPathsEnum["xingchencallbackDeposit"] = "xingchencallback/deposit";
    ApiPathsEnum["xingchencallbackWithdraw"] = "xingchencallback/withdraw";
    ApiPathsEnum["uzpaycallbackDeposit"] = "uzpaycallback/deposit";
    ApiPathsEnum["uzpaycallbackWithdraw"] = "uzpaycallback/withdraw";
    ApiPathsEnum["sddcallbackDeposit"] = "sddcallback/deposit";
    ApiPathsEnum["sddcallbackWithdraw"] = "sddcallback/withdraw";
    ApiPathsEnum["hengxincallbackDeposit"] = "hengxincallback/deposit";
    ApiPathsEnum["hengxincallbackWithdraw"] = "hengxincallback/withdraw";
    ApiPathsEnum["jbpcallbackDeposit"] = "jbpcallback/deposit";
    ApiPathsEnum["jbpcallbackWithdraw"] = "jbpcallback/withdraw";
    ApiPathsEnum["bisacallbackDeposit"] = "bisacallback/deposit";
    ApiPathsEnum["bisacallbackWithdraw"] = "bisacallback/withdraw";
    ApiPathsEnum["stream"] = "stream";
    ApiPathsEnum["getStream"] = "get";
    ApiPathsEnum["getStreamByBC"] = "getbybc";
    ApiPathsEnum["getStreamState"] = "getstreamstate";
    ApiPathsEnum["getStreamStateSome"] = "getstreamstatesome";
    ApiPathsEnum["fetchUpdate"] = "fetchupdate";
    ApiPathsEnum["buildStreamState"] = "buildstreamstate";
    ApiPathsEnum["buildStreamStateSome"] = "buildstreamstatesome";
    ApiPathsEnum["findallKSportCandidateEvent"] = "getcandidateevent";
    ApiPathsEnum["buildKSportCandidateEventByBet"] = "buildcandidateevent";
    ApiPathsEnum["createKSportCandidateEvent"] = "createcandidateevent";
    ApiPathsEnum["updateKSportCandidateEvent"] = "updatecandidateevent";
    ApiPathsEnum["deleteKSportCandidateEvent"] = "deletecandidateevent";
    ApiPathsEnum["deleteKSportCandidateEventByTime"] = "deletecandidateeventbytime";
    ApiPathsEnum["setKSportCandidateEventCorrect"] = "setcandidateeventcorrect";
    ApiPathsEnum["findKSportCandidateTeam"] = "findcandidateteam";
    ApiPathsEnum["setKSportMatchTeam"] = "setmatchteam";
    ApiPathsEnum["uploadHeroBanner"] = "uploadHeroBanner";
    ApiPathsEnum["cmsHeroBannerUpload"] = "cmsHeroBannerUpload";
    ApiPathsEnum["createHeroBanner"] = "createHeroBanner";
    ApiPathsEnum["cmsHeroBannerCreate"] = "cmsHeroBannerCreate";
    ApiPathsEnum["banners"] = "banners";
    ApiPathsEnum["cmsEndpoints"] = "cmsEndpoints";
    ApiPathsEnum["getPaymentProviders"] = "gets";
    ApiPathsEnum["updatePaymentProviders"] = "update";
    ApiPathsEnum["updatePaymentProviderChannels"] = "update";
    ApiPathsEnum["updatePaymentProviderBanks"] = "update";
    ApiPathsEnum["updatePaymentProviderUsdtProtos"] = "update";
    ApiPathsEnum["createPaymentProviderCards"] = "create";
    ApiPathsEnum["updatePaymentProviderCards"] = "update";
    ApiPathsEnum["deletePaymentProviderCards"] = "delete";
    ApiPathsEnum["getPaymentProviderChannels"] = "gets";
    ApiPathsEnum["getPaymentProviderBanks"] = "gets";
    ApiPathsEnum["getPaymentProviderCards"] = "gets";
    ApiPathsEnum["getPaymentProviderUsdtProtos"] = "gets";
    ApiPathsEnum["depositAllOrders"] = "depositallorders";
    ApiPathsEnum["withdrawAllOrders"] = "withdrawallorders";
    ApiPathsEnum["getDepositAllOrders"] = "gets";
    ApiPathsEnum["getWithdrawAllOrders"] = "gets";
    ApiPathsEnum["getChannels"] = "gets";
    ApiPathsEnum["getBanks"] = "gets";
    ApiPathsEnum["getUsdtProtos"] = "gets";
    ApiPathsEnum["options"] = "options";
    ApiPathsEnum["notify"] = "notify";
    ApiPathsEnum["getOptionsGeneral"] = "general";
    ApiPathsEnum["updateOptionsGeneral"] = "general/update";
    ApiPathsEnum["getNotify"] = "get";
})(ApiPathsEnum || (ApiPathsEnum = {}));


/***/ }),

/***/ "./libs/enums/src/lib/api-tags.enum.ts":
/*!*********************************************!*\
  !*** ./libs/enums/src/lib/api-tags.enum.ts ***!
  \*********************************************/
/*! exports provided: ApiTagsEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApiTagsEnum", function() { return ApiTagsEnum; });
var ApiTagsEnum;
(function (ApiTagsEnum) {
    ApiTagsEnum["authentication"] = "Authentication Endpoints";
    ApiTagsEnum["userEndpoints"] = "User Endpoints";
    ApiTagsEnum["paymentEndpoints"] = "Payment Endpoints";
    ApiTagsEnum["streamEndpoints"] = "Stream Endpoints";
    ApiTagsEnum["cmsEndpoints"] = "Cms Endpoints";
    ApiTagsEnum["optionsEndpoints"] = "Options Endpoints";
    ApiTagsEnum["notifyEndpoints"] = "Notify Endpoints";
})(ApiTagsEnum || (ApiTagsEnum = {}));


/***/ }),

/***/ "./libs/enums/src/lib/payment.enum.ts":
/*!********************************************!*\
  !*** ./libs/enums/src/lib/payment.enum.ts ***!
  \********************************************/
/*! exports provided: OrderStatusEnum, LocaleEnum, PaymentSystemEnum, DepositChannelEnum, BankCodeEnum, PaymentProviderEnum, CurrencyEnum, UsdtProtocolEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OrderStatusEnum", function() { return OrderStatusEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocaleEnum", function() { return LocaleEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentSystemEnum", function() { return PaymentSystemEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepositChannelEnum", function() { return DepositChannelEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BankCodeEnum", function() { return BankCodeEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentProviderEnum", function() { return PaymentProviderEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CurrencyEnum", function() { return CurrencyEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UsdtProtocolEnum", function() { return UsdtProtocolEnum; });
var OrderStatusEnum;
(function (OrderStatusEnum) {
    OrderStatusEnum["NEW"] = "new";
    OrderStatusEnum["WAITINGPAID"] = "readyToPay";
    OrderStatusEnum["PENDING"] = "pending";
    OrderStatusEnum["FAILED"] = "failed";
    OrderStatusEnum["SUCCESS"] = "success";
})(OrderStatusEnum || (OrderStatusEnum = {}));
var LocaleEnum;
(function (LocaleEnum) {
    LocaleEnum[LocaleEnum["en"] = 1] = "en";
    LocaleEnum[LocaleEnum["cn"] = 2] = "cn";
})(LocaleEnum || (LocaleEnum = {}));
var PaymentSystemEnum;
(function (PaymentSystemEnum) {
    PaymentSystemEnum[PaymentSystemEnum["ALIPAY"] = 1] = "ALIPAY";
    PaymentSystemEnum[PaymentSystemEnum["WECHAT"] = 2] = "WECHAT";
    PaymentSystemEnum[PaymentSystemEnum["BANK"] = 3] = "BANK";
    PaymentSystemEnum[PaymentSystemEnum["UNIONPAYAPP"] = 4] = "UNIONPAYAPP";
    PaymentSystemEnum[PaymentSystemEnum["USDT"] = 5] = "USDT";
})(PaymentSystemEnum || (PaymentSystemEnum = {}));
var DepositChannelEnum;
(function (DepositChannelEnum) {
    DepositChannelEnum[DepositChannelEnum["ALIPAYTOBANK"] = 1] = "ALIPAYTOBANK";
    DepositChannelEnum[DepositChannelEnum["WECHATTOBANK"] = 2] = "WECHATTOBANK";
    DepositChannelEnum[DepositChannelEnum["BANKTOBANK"] = 3] = "BANKTOBANK";
    DepositChannelEnum[DepositChannelEnum["BANKTOALIPAY"] = 4] = "BANKTOALIPAY";
})(DepositChannelEnum || (DepositChannelEnum = {}));
var BankCodeEnum;
(function (BankCodeEnum) {
    BankCodeEnum[BankCodeEnum["ICBC"] = 1] = "ICBC";
    BankCodeEnum[BankCodeEnum["ABOC"] = 2] = "ABOC";
    BankCodeEnum[BankCodeEnum["BOC"] = 3] = "BOC";
    BankCodeEnum[BankCodeEnum["CCB"] = 4] = "CCB";
    BankCodeEnum[BankCodeEnum["BOCOM"] = 5] = "BOCOM";
    BankCodeEnum[BankCodeEnum["PSBC"] = 6] = "PSBC";
    BankCodeEnum[BankCodeEnum["CEB"] = 7] = "CEB";
    BankCodeEnum[BankCodeEnum["CMBC"] = 8] = "CMBC";
    BankCodeEnum[BankCodeEnum["CMB"] = 9] = "CMB";
    BankCodeEnum[BankCodeEnum["ECITIC"] = 10] = "ECITIC";
    BankCodeEnum[BankCodeEnum["HXB"] = 11] = "HXB";
    BankCodeEnum[BankCodeEnum["SPDB"] = 12] = "SPDB";
    BankCodeEnum[BankCodeEnum["PAB"] = 13] = "PAB";
    BankCodeEnum[BankCodeEnum["CGB"] = 14] = "CGB";
    BankCodeEnum[BankCodeEnum["CIB"] = 15] = "CIB";
    BankCodeEnum[BankCodeEnum["BOB"] = 16] = "BOB";
    BankCodeEnum[BankCodeEnum["BOS"] = 17] = "BOS";
    BankCodeEnum[BankCodeEnum["NBCB"] = 18] = "NBCB";
    BankCodeEnum[BankCodeEnum["HZB"] = 19] = "HZB";
    BankCodeEnum[BankCodeEnum["BCRCB"] = 20] = "BCRCB";
    BankCodeEnum[BankCodeEnum["HCCBCNBH"] = 21] = "HCCBCNBH";
    BankCodeEnum[BankCodeEnum["ZJCBCN2N"] = 22] = "ZJCBCN2N";
    BankCodeEnum[BankCodeEnum["CHCCCNSS"] = 23] = "CHCCCNSS";
    BankCodeEnum[BankCodeEnum["QCCBCNBQ"] = 24] = "QCCBCNBQ";
})(BankCodeEnum || (BankCodeEnum = {}));
var PaymentProviderEnum;
(function (PaymentProviderEnum) {
    PaymentProviderEnum[PaymentProviderEnum["MSZF"] = 1] = "MSZF";
    PaymentProviderEnum[PaymentProviderEnum["D1F"] = 2] = "D1F";
    PaymentProviderEnum[PaymentProviderEnum["XINGCHEN"] = 3] = "XINGCHEN";
    PaymentProviderEnum[PaymentProviderEnum["UZPAY"] = 4] = "UZPAY";
    PaymentProviderEnum[PaymentProviderEnum["SDD"] = 5] = "SDD";
    PaymentProviderEnum[PaymentProviderEnum["HENGXIN"] = 6] = "HENGXIN";
    PaymentProviderEnum[PaymentProviderEnum["JBP"] = 7] = "JBP";
    PaymentProviderEnum[PaymentProviderEnum["SXC"] = 8] = "SXC";
    PaymentProviderEnum[PaymentProviderEnum["DBPay"] = 9] = "DBPay";
    PaymentProviderEnum[PaymentProviderEnum["Bisa"] = 10] = "Bisa";
})(PaymentProviderEnum || (PaymentProviderEnum = {}));
var CurrencyEnum;
(function (CurrencyEnum) {
    CurrencyEnum["USD"] = "USD";
    CurrencyEnum["EUR"] = "EUR";
    CurrencyEnum["BRI"] = "BRI";
    CurrencyEnum["CNY"] = "CNY";
})(CurrencyEnum || (CurrencyEnum = {}));
var UsdtProtocolEnum;
(function (UsdtProtocolEnum) {
    UsdtProtocolEnum[UsdtProtocolEnum["TRC20"] = 1] = "TRC20";
    UsdtProtocolEnum[UsdtProtocolEnum["ERC20"] = 2] = "ERC20";
    UsdtProtocolEnum[UsdtProtocolEnum["OMNI"] = 3] = "OMNI";
    UsdtProtocolEnum[UsdtProtocolEnum["BEP2"] = 4] = "BEP2";
    UsdtProtocolEnum[UsdtProtocolEnum["EOS"] = 5] = "EOS";
    UsdtProtocolEnum[UsdtProtocolEnum["Algorand"] = 6] = "Algorand";
})(UsdtProtocolEnum || (UsdtProtocolEnum = {}));


/***/ }),

/***/ "./libs/enums/src/lib/stream.enum.ts":
/*!*******************************************!*\
  !*** ./libs/enums/src/lib/stream.enum.ts ***!
  \*******************************************/
/*! exports provided: SportsEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SportsEnum", function() { return SportsEnum; });
var SportsEnum;
(function (SportsEnum) {
    SportsEnum[SportsEnum["football"] = 1] = "football";
    SportsEnum[SportsEnum["basketball"] = 3] = "basketball";
    SportsEnum[SportsEnum["tennis"] = 4] = "tennis";
    SportsEnum[SportsEnum["baseball"] = 5] = "baseball";
    SportsEnum[SportsEnum["volleyball"] = 6] = "volleyball";
    SportsEnum[SportsEnum["rugby"] = 7] = "rugby";
    SportsEnum[SportsEnum["pingpong"] = 10] = "pingpong";
    SportsEnum[SportsEnum["billiards"] = 12] = "billiards";
    SportsEnum[SportsEnum["badminton"] = 16] = "badminton";
    SportsEnum[SportsEnum["dianjing"] = 40] = "dianjing";
    SportsEnum[SportsEnum["other"] = 999] = "other";
})(SportsEnum || (SportsEnum = {}));


/***/ }),

/***/ 0:
/*!****************************************!*\
  !*** multi ./apps/backend/src/main.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /srv/100bet/100bet/apps/backend/src/main.ts */"./apps/backend/src/main.ts");


/***/ }),

/***/ "@nestjs/bull":
/*!*******************************!*\
  !*** external "@nestjs/bull" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/bull");

/***/ }),

/***/ "@nestjs/common":
/*!*********************************!*\
  !*** external "@nestjs/common" ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/common");

/***/ }),

/***/ "@nestjs/config":
/*!*********************************!*\
  !*** external "@nestjs/config" ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/config");

/***/ }),

/***/ "@nestjs/core":
/*!*******************************!*\
  !*** external "@nestjs/core" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/core");

/***/ }),

/***/ "@nestjs/passport":
/*!***********************************!*\
  !*** external "@nestjs/passport" ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/passport");

/***/ }),

/***/ "@nestjs/platform-express":
/*!*******************************************!*\
  !*** external "@nestjs/platform-express" ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/platform-express");

/***/ }),

/***/ "@nestjs/schedule":
/*!***********************************!*\
  !*** external "@nestjs/schedule" ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/schedule");

/***/ }),

/***/ "@nestjs/sequelize":
/*!************************************!*\
  !*** external "@nestjs/sequelize" ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/sequelize");

/***/ }),

/***/ "@nestjs/swagger":
/*!**********************************!*\
  !*** external "@nestjs/swagger" ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/swagger");

/***/ }),

/***/ "@sindresorhus/fnv1a":
/*!**************************************!*\
  !*** external "@sindresorhus/fnv1a" ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@sindresorhus/fnv1a");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("bcrypt");

/***/ }),

/***/ "bull":
/*!***********************!*\
  !*** external "bull" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("bull");

/***/ }),

/***/ "class-transformer":
/*!************************************!*\
  !*** external "class-transformer" ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("class-transformer");

/***/ }),

/***/ "class-validator":
/*!**********************************!*\
  !*** external "class-validator" ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("class-validator");

/***/ }),

/***/ "constants":
/*!****************************!*\
  !*** external "constants" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("constants");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("crypto");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("express");

/***/ }),

/***/ "fuse.js":
/*!**************************!*\
  !*** external "fuse.js" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("fuse.js");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "libphonenumber-js":
/*!************************************!*\
  !*** external "libphonenumber-js" ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("libphonenumber-js");

/***/ }),

/***/ "md5":
/*!**********************!*\
  !*** external "md5" ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("md5");

/***/ }),

/***/ "mobile-detect":
/*!********************************!*\
  !*** external "mobile-detect" ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("mobile-detect");

/***/ }),

/***/ "moment":
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("moment");

/***/ }),

/***/ "moment-timezone":
/*!**********************************!*\
  !*** external "moment-timezone" ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("moment-timezone");

/***/ }),

/***/ "multer":
/*!*************************!*\
  !*** external "multer" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("multer");

/***/ }),

/***/ "nest-winston":
/*!*******************************!*\
  !*** external "nest-winston" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("nest-winston");

/***/ }),

/***/ "numeral":
/*!**************************!*\
  !*** external "numeral" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("numeral");

/***/ }),

/***/ "otplib":
/*!*************************!*\
  !*** external "otplib" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("otplib");

/***/ }),

/***/ "passport-jwt":
/*!*******************************!*\
  !*** external "passport-jwt" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("passport-jwt");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("path");

/***/ }),

/***/ "qrcode":
/*!*************************!*\
  !*** external "qrcode" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("qrcode");

/***/ }),

/***/ "qs":
/*!*********************!*\
  !*** external "qs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("qs");

/***/ }),

/***/ "request-ip":
/*!*****************************!*\
  !*** external "request-ip" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("request-ip");

/***/ }),

/***/ "sequelize":
/*!****************************!*\
  !*** external "sequelize" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("sequelize");

/***/ }),

/***/ "sequelize-typescript":
/*!***************************************!*\
  !*** external "sequelize-typescript" ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("sequelize-typescript");

/***/ }),

/***/ "tencentcloud-sdk-nodejs":
/*!******************************************!*\
  !*** external "tencentcloud-sdk-nodejs" ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("tencentcloud-sdk-nodejs");

/***/ }),

/***/ "tslib":
/*!************************!*\
  !*** external "tslib" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("tslib");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("uuid");

/***/ }),

/***/ "winston":
/*!**************************!*\
  !*** external "winston" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("winston");

/***/ })

/******/ })));
//# sourceMappingURL=main.js.map